<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		
		<link href="../../../../_app/immutable/assets/0.CWEFMGw7.css" rel="stylesheet">
		<link href="../../../../_app/immutable/assets/CodeBlockWrapper.DOA6KAmR.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/start.C1X3-B2E.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/0Wi35TxV.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/CVx5jffJ.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DIeogL5L.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DMgF1Uhx.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/D0iwhpLH.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/ByF348JK.js">
		<link rel="modulepreload" href="../../../../_app/immutable/entry/app.BNHJBDuV.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Dp1pzeXC.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/D_kqQSo5.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/2cXyNWGb.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Bzak7iHL.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Ca2j7qFz.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/BmVC6lTd.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/BnZK2-eX.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/C0t2u1D1.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/0.BMKLJAP1.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/D7leeM5l.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DKQVeb5P.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/CP-r3QU3.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Bp7YhWCs.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DkPbIObf.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/69_IOA4Y.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/D2vXKg8d.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DJh_0fka.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/Dg0EvQHI.js">
		<link rel="modulepreload" href="../../../../_app/immutable/nodes/12.C_wXRw3B.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/DF2T1Nhr.js">
		<link rel="modulepreload" href="../../../../_app/immutable/chunks/CxRPdVhl.js"><!--1y1qu0s--><meta data-key="description" name="description" content="Composite Types"/> <meta property="og:type" content="article"/> <meta property="og:title" content="복합 타입"/> <meta property="og:description" content="Composite Types"/><!----><title>복합 타입</title>
		<!-- You can replace this block to update the Google fonts used in the project -->
		<!-- <link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /> -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/github.min.css"
		/>
		<link
			href="https://fonts.googleapis.com/css2?&family=Nanum+Gothic&family=Jua&family=Source+Code+Pro:wght@400&display=swap"
			rel="stylesheet"
		/>

		<!-- End Google Fonts block -->

		<!-- You can add global <meta> tags here, but anything not global or dynamic should be a `<svelte:head>` tag on the proper page(s) instead. -->
	</head>
	<body>
		<div id="svelte"><!--[--><!--[--><!----><div class="layout"><header><a class="skip-to-content-link" href="#main">Skip to main content</a> <nav class="main-nav"><ul><!--[--><li><a href="/posts" aria-current="false"><!---->Posts<!----></a></li><li><a href="/category" aria-current="false"><!---->Categories<!----></a></li><li><a href="/about" aria-current="false"><!---->About<!----></a></li><li><a href="/api/rss.xml" aria-current="false"><!---->RSS<!----></a></li><li><a href="/#" aria-current="false"><!---->Home<!----></a></li><!--]--></ul> <button aria-pressed="false" class="menu-button" tabindex="-1"><span class="sr-only">Toggle hamburger menu</span> <!--[--><svg viewBox="0 0 128 128" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path d="M64,48.496l-48.496,-48.496l-15.504,15.504l48.496,48.496l-48.496,48.496l15.504,15.504l48.496,-48.496l48.496,48.496l15.504,-15.504l-48.496,-48.496l48.496,-48.496l-15.504,-15.504l-48.496,48.496Z"></path></svg><!--]--></button><!----></nav><!----> <button aria-pressed="false" class="menu-button" tabindex="0"><span class="sr-only">Toggle hamburger menu</span> <!--[!--><svg viewBox="0 0 128 128" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g><rect x="0" y="12.48" width="128" height="18.688"></rect></g><g><rect x="0" y="96.832" width="128" height="18.688"></rect></g><g><rect x="0" y="54.656" width="128" height="18.688"></rect></g></svg><!--]--></button><!----> <a href="/" class="site-title">집밥서선생</a> <button class="toggle-theme"><!--[-->☀️<!--]--></button><!----></header><!----> <main id="main" tabindex="-1"><!----><div class="content"><!----><article class="post"><img class="cover-image" src="/post_img/Go/Golang_basics/cover.png" alt="" style="aspect-ratio: 16 / 9;" width="16" height="9"/> <h1>복합 타입</h1> <div class="meta"><b>Published:</b> 2022-07-23</div> <!----><br/> <p>본 글은 Golang을 공부하며 주요 내용이라 생각되는 것들을 기록해둔 자료이며, Ubuntu 20.04 LTS 기준으로 작성되었습니다.</p> <br/><br/> <h2 id="array"><a aria-hidden="true" tabindex="-1" href="#array"><span class="icon icon-link"></span></a>Array</h2> <hr/> <p><strong>Array</strong>는 같은 타입의, 크기(개수)가 정해진 데이터들을 묶어서 처리하기 위해 사용된다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> arr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token comment">// array declaration</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token comment">// var size int = 5	 // can not specify size of array with variables.</span>
<span class="token comment">// var arr [size]int // it occurs an error.</span></code><!----></pre> <p>위 코드에서 <code>[3]int</code>은 크기가 <em>3</em>인 <code>int</code>의 Array임을 나타낸다. Array의 값을 초기화하지 않았으므로, <code>int</code>의 Zero value인 0으로 채워진다.
그리고 Array는 크기가 정해진 데이터에 대해서만 지원한다. 주석 처리된 부분처럼 배열의 크기를 변수값으로 초기화하는 것은 불가능하다.</p> <br/> <p>C/C++에서 그렇듯, 중괄호를 이용하여 배열 내의 값을 초기화할 수 있다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token comment">// declare with literal</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>                  <span class="token comment">// [1, 2, 3]</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">&#125;</span> <span class="token comment">// [1, 0, 0, 0, 0, 4, 6, 0, 0, 0, 100, 15]</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span>          <span class="token comment">// [4, 5, 6, 7, 8]</span></code><!----></pre> <p>위 코드의 변수 <code>y</code>를 초기화하는 라인에서 <code>n:m</code> 형태의 표기법을 확인할 수 있다. <code>n</code>번째 인덱스의 값을 <code>m</code>으로 초기화한다는 의미이다.
지정되지 않은 다른 값들은 Zero value인 <em>0</em>으로 초기화된다.<br/> 변수 <code>z</code>를 초기화하는 라인처럼 배열의 크기에 <code>...</code>가 입력되면 자동으로 배열의 크기를 결정한다. 위 코드에서 <code>z</code>의 크기는 <em>5</em>가 될 것이다.</p> <br/> <p>여느 언어가 그렇듯, 대괄호를 통해 indexing한다. 인덱스에 음수나 배열 크기보다 큰 수 넣으면 런타임 에러가 발생한다.
또한 <code>len()</code> 함수를 사용하여 Array의 크기를 확인할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// indexing by bracket</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span></code><!----></pre> <br/> <p>다차원 배열은 좀 난해하하다고 느꼈는데, 어떻게 사용하는지는 코드를 바로 보는 편이 이해가 빠를 것이다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> multidimentional <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// multidimetional array</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>multidimentional<span class="token punctuation">)</span></code><!----></pre> <br/> <p>이건 좀 신기했던 부분인데, Go에서 Array는 크기와 element의 타입이 같다면 동일한 타입으로 여긴다. 그래서 <code>==</code>와 <code>!=</code>의 두 가지의 비교 연산이 가능하다!
다만 element의 타입이 같아도 Array의 크기가 다르다면 서로 다른 타입으로 여기기 때문에, 비교 연산을 하면 에러가 발생한다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token comment">// prints true</span>
<span class="token comment">// fmt.Println(a == c) // occurs error</span></code><!----></pre> <br/><br/> <h2 id="slice"><a aria-hidden="true" tabindex="-1" href="#slice"><span class="icon icon-link"></span></a>Slice</h2> <hr/> <p><strong>Slice</strong>는 동적으로 크기가 늘어났다 줄어들었다 하는 Array라고 볼 수 있다. 다른 언어에도 이와 유사한 타입들이 많이 존재하지만, Go의 Slice는 좀 유니크하다.<br/> 먼저 Array와는 달리 대괄호 사이를 비워놓고 선언한다. Array와 유사한 부분들을 모아보았다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span> <span class="token comment">// declaration + initialization</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">&#125;</span> <span class="token comment">// [1, 0, 0, 0, 0, 4, 6, 0, 0, 0, 100, 15]</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>

x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// indexing by bracket</span>

<span class="token keyword">var</span> multidimentional <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token comment">// multidimetional slice</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>multidimentional<span class="token punctuation">)</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// the number of current elements</span></code><!----></pre> <br/> <p>이제 다른 부분들을 하나씩 알아보자.</p> <p>선언만 하고 초기화하지 않으면 해당 타입의 Zero value로 초기화하는 Array와는 달리, Slice는 비어 있는 객체라는 뜻인 Slice는 <code>nil</code>이 된다.
이때 <code>nil</code>과 Length가 0인 Slice는 엄연히 서로 다르다. <code>nil</code>은 C/C++의 <code>NULL</code>과 자바스크립트의 <code>null</code> 사이 어딘가의 느낌인데, 추후 설명하겠다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> slice1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>            <span class="token comment">// slice declaration</span>
<span class="token keyword">var</span> slice2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>        <span class="token comment">// zero-length slice</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice1<span class="token punctuation">,</span> slice2<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice1 <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> slice2 <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token comment">// comparation between two slices occurs error; only possible comparation is the one between slice and nil</span></code><!----></pre> <p>타입과 크기가 같다면 비교 연산을 할 수 있었던 Array와는 달리, slice끼리는 타입이 같아도 서로 비교 연산을 할 수 없다.
slice와 nil과의 비교 연산만 허용된다.</p> <br/> <p><code>make()</code> 함수를 이용하여 slice를 생성할 수도 있다. 타입, Length, Capacity를 인자로 설정한다.</p> <pre class="language-go"><!----><code class="language-go">initialized_capacity <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// make(type, length, capacity)</span>
<span class="token comment">// initialized_capacity := make([]int, 6, 5) // it occurs an error (length > capacity)</span></code><!----></pre> <br/><br/> <h3 id="appending-elements-into-slices"><a aria-hidden="true" tabindex="-1" href="#appending-elements-into-slices"><span class="icon icon-link"></span></a>Appending Elements into Slices</h3> <br/> <p>Slice에 값을 추가하기 위해서는 <code>append()</code> 함수를 사용한다. 값을 추가할 Slice와, 한 개 이상의 추가할 값들을 파라미터로 받는다.<br/> <code>...</code> 연산자를 활용하여, 다른 Slice 변수의 값들을 추가할수도 있다.</p> <p>특이사항은 <code>append()</code>함수에 값을 추가할 Slice 변수를 넣고, 반환값을 다시 그 변수로 받아야 한다는 것이다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token comment">// capacity grows as it gets appended</span>
slice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span>
slice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span>

tmp <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">&#125;</span>
slice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> tmp<span class="token operator">...</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>slice<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// append(slice, x...) => it occurs an error (append() returns an slice that the element is appended to.)</span></code><!----></pre> <p>이때 위 코드에서 <code>cap()</code>라는 함수가 사용되는 것을 확인할 수 있다.
Slice에는 요소들의 개수를 나타내는 <em>Length</em>뿐 아니라, <strong>Capacity</strong>라는 속성이 존재한다. 이는 요소들이 추가될 수 있는 전체 공간의 크기를 의미한다. <code>append()</code>로 변수 <code>slice</code>에 요소들을 추가할 때마다 Length가 증가하고, Length가 Capacity를 초과하려고 할 때마다 Capacity도 증가함을 확인할 수 있다.</p> <br/><br/> <h3 id="slicing-slices"><a aria-hidden="true" tabindex="-1" href="#slicing-slices"><span class="icon icon-link"></span></a>Slicing Slices</h3> <br/> <p>Python의 <code>List</code>처럼 대괄호에 콜론(<code>:</code>)과 인덱스를 붙여 Slicing할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">x <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
y <span class="token operator">:=</span> x<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
z <span class="token operator">:=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
d <span class="token operator">:=</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span>
e <span class="token operator">:=</span> x<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">)</span></code><!----></pre> <p>Python은 이렇게 Slicing 하면, Slicing된 새로운 <code>List</code>가 복사되어, 원본과 같은 공간을 가리키지 않는다. 반면 Go의 Slicing된 <code>Slice</code>는 원본을 가리킨다. <code>e</code>의 값 중 하나를 수정해보면, <code>x</code>, <code>z</code>, <code>d</code>까지 해당 값을 포함했던 모든 <code>Slice</code>의 값들도 변경됨을 확인할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">e<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>                   <span class="token comment">// Slicing overwraps storage</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token comment">// value of x, z, d, e is changed</span></code><!----></pre> <br/> <p>사실 여기까진 그냥 그런가보다 할텐데, 원소를 추가하기 시작하면 본격적으로 어지러워진다.</p> <pre class="language-go"><!----><code class="language-go">fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// appending an elements into y changes the mapped value of other slices, but not changes their length</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token comment">// it's too confusing :(</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></code><!----></pre> <br/> <p>추가 이전, <code>x</code>, <code>y</code>, <code>z</code>, <code>d</code>, <code>e</code>는 아래와 같았는데,</p> <pre class="language-go"><!----><code class="language-go"><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">1</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">1</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">1</span> <span class="token number">4</span><span class="token punctuation">]</span></code><!----></pre> <p>이렇게 변했다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">30</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token number">30</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">4</span><span class="token punctuation">]</span></code><!----></pre> <p><code>y</code>에 <code>30</code>을 추가했으니 <code>[1 2 30]</code>이 된 건 그렇다 치고, <code>x</code>, <code>z</code>, <code>d</code>, <code>e</code>에서 대응되는 위치에 있었던 <code>1</code>도 모두 <code>30</code>으로 바뀌었음을 알 수 있다.
그리고 여기서 <code>y</code>만 length가 바뀌었으므로, 나타나는 원소의 개수는 <code>y</code>만 2개에서 3개로 늘었다.</p> <br/> <p>다음의 예제를 보자.</p> <pre class="language-go"><!----><code class="language-go">xx <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
xx <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
yy <span class="token operator">:=</span> xx<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
zz <span class="token operator">:=</span> xx<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>xx<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>yy<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>zz<span class="token punctuation">)</span><span class="token punctuation">)</span>
yy <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>yy<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
xx <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
zz <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>zz<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"xx:"</span><span class="token punctuation">,</span> xx<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"yy:"</span><span class="token punctuation">,</span> yy<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"zz:"</span><span class="token punctuation">,</span> zz<span class="token punctuation">)</span></code><!----></pre> <p>해당 구문의 실행 결과는 …</p> <pre class="language-go"><!----><code class="language-go"><span class="token number">5</span> <span class="token number">5</span> <span class="token number">3</span>
xx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span>
yy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span>
zz<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span></code><!----></pre> <br/> <center><img src="/post_img/Go/Golang_basics/GO3/1.jpg" alt="pepe question" loading="lazy"/><!----></center> <br/> <p>상당히 혼란스럽다. 하나씩 알아보자.</p> <pre class="language-go"><!----><code class="language-go">xx <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
xx <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>xx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
yy <span class="token operator">:=</span> xx<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
zz <span class="token operator">:=</span> xx<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span></code><!----></pre> <p>여기까지 실행했을 때, <code>xx</code>, <code>yy</code>, <code>zz</code>의 값은</p> <pre class="language-go"><!----><code class="language-go">xx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">4</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
yy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">2</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
zz<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">2</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">3</span></code><!----></pre> <p>이다. 이제, <code>yy</code>에 <code>30</code>, <code>40</code>, <code>50</code>을 추가해보자.</p> <pre class="language-go"><!----><code class="language-go">xx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">4</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
yy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">50</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">5</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
zz<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">30</span> <span class="token number">40</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">2</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">3</span></code><!----></pre> <br/> <p><code>xx</code>와 <code>zz</code>는 <code>yy</code>와 같은 공간을 공유한다. 따라서 대응되는 위치의 값이었던 <code>xx</code>와 <code>zz</code>의 <code>3</code>, <code>4</code>가 각각 <code>30</code>, <code>40</code>으로 바뀌었음을 확인할 수 있다.
반면 <code>xx</code>와 <code>zz</code>의 Length는 바뀌지 않고, <code>yy</code>의 Length만 5로 바뀌었다.<br/> 여기서 <code>xx = append(xx, 60)</code>가 실행되면,</p> <pre class="language-go"><!----><code class="language-go">xx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">60</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">5</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
yy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">60</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">5</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
zz<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">30</span> <span class="token number">40</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">2</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">3</span></code><!----></pre> <p><code>xx</code>에 60이 추가되며, <code>yy</code>의 대응되는 위치의 값이었던 50의 값이 60으로 바뀌었다.<br/> 여기서 <code>zz = append(zz, 70)</code>가 실행되면,</p> <pre class="language-go"><!----><code class="language-go">xx<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">5</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
yy<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">5</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">5</span>
zz<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">30</span> <span class="token number">40</span> <span class="token number">70</span><span class="token punctuation">]</span> <span class="token builtin">len</span><span class="token operator">=</span><span class="token number">3</span> <span class="token builtin">cap</span><span class="token operator">=</span><span class="token number">3</span></code><!----></pre> <p><code>xx</code>와 <code>yy</code>의 대응되는 위치의 값이었던 <code>60</code>이 <code>70</code>으로 바뀌었다.</p> <br/> <p>Slice에 값을 <code>append</code>하였을 때 생기는 문제로 인해 직관적으로 이해하기 어려운 결과를 확인하였다. <code>xx</code>, <code>yy</code>, <code>zz</code>가 같은 Capacity를 공유하기 때문에 생긴 문제이다.
Slice를 Slicing할 때, Capacity의 범위를 명시하는 표기법을 사용하면 이와 같은 문제를 어느 정도 해결할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">xxx <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">&#125;</span>
yyy <span class="token operator">:=</span> xxx<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// limits capacity of slice, they not share additional capacity</span>
zzz <span class="token operator">:=</span> xxx<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>yyy<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">cap</span><span class="token punctuation">(</span>zzz<span class="token punctuation">)</span><span class="token punctuation">)</span>
yyy <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>yyy<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// this appending never interacts with other slices</span>
xxx <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>xxx<span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
zzz <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>zzz<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xxx<span class="token punctuation">,</span> yyy<span class="token punctuation">,</span> zzz<span class="token punctuation">)</span></code><!----></pre> <p>위 코드의 출력 결과는 아래와 같다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token number">5</span> <span class="token number">2</span> <span class="token number">2</span>
<span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">60</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">30</span> <span class="token number">40</span> <span class="token number">50</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">3</span> <span class="token number">4</span> <span class="token number">70</span><span class="token punctuation">]</span></code><!----></pre> <br/> <p>한편 Array도 Slicing이 가능하며, Slicing된 값은 Slice 타입이다.</p> <pre class="language-go"><!----><code class="language-go">ax <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
ay <span class="token operator">:=</span> ax<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// slicing array</span>
az <span class="token operator">:=</span> ax<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
ax<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ax<span class="token punctuation">,</span> ay<span class="token punctuation">,</span> az<span class="token punctuation">)</span></code><!----></pre> <br/><br/> <h3 id="copying-slices"><a aria-hidden="true" tabindex="-1" href="#copying-slices"><span class="icon icon-link"></span></a>Copying Slices</h3> <br/> <p>또다른 해결방법은 다른 언어의 <em>deep copy</em>처럼, 새로운 공간에 값들을 복사하는 방법이다. <code>copy()</code> 함수를 통해 할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">x <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
y <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

num <span class="token operator">:=</span> <span class="token function">copy</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span>   <span class="token comment">// copy(destination, source). x is copied into y</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token comment">// num: the number of elements copied (decided by length of slices)</span>
y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>            <span class="token comment">// if we change any value of y,</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> x<span class="token punctuation">)</span>   <span class="token comment">// values of x still unchanged (doesn't share memory spaces)</span></code><!----></pre> <br/> <p><code>copy()</code> 함수는 두 번째 인수로 들어온 Array나 Slice를 첫 번째 인수로 들어온 Slice에 복사한다. 반환값은 복사된 원소의 수이다.</p> <pre class="language-go"><!----><code class="language-go">z <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// because length of z is 2,</span>
num <span class="token operator">=</span> <span class="token function">copy</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> x<span class="token punctuation">)</span>       <span class="token comment">// when it is copied, only two of x are copied.</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> num<span class="token punctuation">)</span>    <span class="token comment">// [1, 2] 2</span></code><!----></pre> <br/> <p><code>copy()</code> 함수의 인수로 들어오는 Slice나 Array들은 Length가 서로 다를 수 있다.
Destination Slice의 Length가 Source Slice보다 크다면, 앞쪽의 원소들부터 채워진다.</p> <pre class="language-go"><!----><code class="language-go">w <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">//</span>
num <span class="token operator">=</span> <span class="token function">copy</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> x<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">// because x[:2] has only two element (length is 2),</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> num<span class="token punctuation">)</span>    <span class="token comment">// x[:2] is copied into first two elements</span></code><!----></pre> <p>동일한 원리로 이런 것도 가능하다.</p> <pre class="language-go"><!----><code class="language-go">q <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span>
num <span class="token operator">=</span> <span class="token function">copy</span><span class="token punctuation">(</span>q<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [2, 3, 4] is copied into [1, 2, 3]</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> num<span class="token punctuation">)</span>      <span class="token comment">// [2, 3, 4, 4]</span></code><!----></pre> <br/><br/> <h2 id="string"><a aria-hidden="true" tabindex="-1" href="#string"><span class="icon icon-link"></span></a>string</h2> <hr/> <p><code>string</code>은 Primitive Data Type이지만, 여러 문자들의 Slice처럼 생각할 수도 있다. Slice처럼 <code>string</code>을 Slicing할 수도 있다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> s <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"Hello there"</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// slicing string</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code><!----></pre> <p>한편, 알파벳과 같은 일반적인 문자들을 <code>string</code>으로 표현할 때는 문제를 느끼지 못할 수도 있다.
하지만 한글처럼 UTF-8에서 2바이트 이상의 크기로 표현되는 문자들은 Slicing시 문자가 제대로 나타나지 않을 때도 있다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> h <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"한글조아"</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// each character of korean letter takes 3 bytes, slicing like below would not be done properly</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>h<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code><!----></pre> <p><code>string</code>을 구성하는 각 문자들은 <code>rune</code> 타입이지만, 실제로 <code>string</code>은 <code>byte</code>들의 배열이다. <code>rune</code>은 문자가 1바이트든, 4바이트든 한 개의 문자를 온전히 나타낼 수 있고, <code>byte</code>는 2바이트 이상의 문자를 나타내기 위해서는 2개 이상 모여야 한다는 것이다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token comment">// difference of rune and byte</span>
<span class="token keyword">var</span> ss <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"Hello 안녕"</span>
<span class="token keyword">var</span> bs <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span> <span class="token comment">// []byte splits UTF-8 characters. usually use this.</span>
<span class="token keyword">var</span> rs <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">rune</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span> <span class="token comment">// []rune doesn't split</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>bs<span class="token punctuation">,</span> rs<span class="token punctuation">)</span></code><!----></pre> <p>위처럼 <code>string</code>을 각각 <code>byte</code>와 <code>rune</code>의 Slice로 변환해보면 확인할 수 있다.</p> <br/><br/> <h2 id="map"><a aria-hidden="true" tabindex="-1" href="#map"><span class="icon icon-link"></span></a>Map</h2> <hr/> <p><strong>Map</strong>은 전형적인 Key-Value 페어의 데이터타입으로, C++의 <code>map</code>과 유사하다. 아래 코드처럼 선언하고, 초기화할 수 있다. <br/> Slice와 마찬가지로 <code>map</code>의 Zero value는 반드시 <code>nil</code>이며, 크기가 0인 <code>map</code>과 <code>nil</code>은 서로 다르다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> nilMap <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span>
mamap <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>nilMap<span class="token punctuation">,</span> mamap<span class="token punctuation">,</span> nilMap <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> mamap <span class="token operator">==</span> <span class="token boolean">nil</span><span class="token punctuation">)</span></code><!----></pre> <br/> <p>초기화하는 방법도 다른 언어와 유사하다. 아래의 예제는 key는 <code>string</code>이고, value는 <code>string</code>의 <code>slice</code>인 <code>map</code>이다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> teams <span class="token operator">=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
    <span class="token string">"Orcas"</span><span class="token punctuation">:</span>   <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"Fred"</span><span class="token punctuation">,</span> <span class="token string">"Ralph"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token string">"Lions"</span><span class="token punctuation">:</span>   <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"Sarah"</span><span class="token punctuation">,</span> <span class="token string">"Peter"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token string">"Kittens"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">"Waldo"</span><span class="token punctuation">,</span> <span class="token string">"Raul"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">// 이렇게 해도 됨</span>
<span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>teams<span class="token punctuation">)</span></code><!----></pre> <br/> <p><code>make()</code>함수와 <code>len()</code>함수는 map에서도 사용할 수 있다.</p> <pre class="language-go"><!----><code class="language-go">ages <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ages<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// len() returns the number of key-value pairs of map</span></code><!----></pre> <br/> <p>사용 방법은 다른 언어의 일반적인 Key-Value 페어 데이터타입과 크게 다르지 않다. 이때 Value값이 존재하지 않는 Key에 접근하면 Zero value를 반환한다.</p> <pre class="language-go"><!----><code class="language-go">totalWins <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
totalWins<span class="token punctuation">[</span><span class="token string">"Orcas"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// assigning value into specific key with =, not :=</span>
totalWins<span class="token punctuation">[</span><span class="token string">"Lions"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>totalWins<span class="token punctuation">[</span><span class="token string">"Orcas"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>totalWins<span class="token punctuation">[</span><span class="token string">"Kittens"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// an initial value of int is zero.</span>
totalWins<span class="token punctuation">[</span><span class="token string">"Kittens"</span><span class="token punctuation">]</span><span class="token operator">++</span>            <span class="token comment">// value of "Kittens" would be 1</span>
totalWins<span class="token punctuation">[</span><span class="token string">"Lions"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>totalWins<span class="token punctuation">[</span><span class="token string">"Kittens"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>totalWins<span class="token punctuation">[</span><span class="token string">"Lions"</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code><!----></pre> <br/> <p>이 때 Value값이 존재하지 않는 Key에 접근한 것인지, 아니면 그냥 Value값이 Zero value인지 알 수 없다.</p> <pre class="language-go"><!----><code class="language-go">m <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span>
    <span class="token string">"Hello"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">"world"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span></code><!----></pre> <p>이를테면 위와 같은 예제에서 Key가 <code>"world"</code>일 때와, Key가 <code>"Bye"</code>일 때 동일하게 0이라는 값을 얻게 될 것이다.
Go 개발자들은 당연히 이에 대한 해결책으로 <em>comma ok idiom</em>이란 것을 만들어 두었다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token comment">// comma idiom</span>
v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">]</span> <span class="token comment">// v gets value of the given key</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ok<span class="token punctuation">)</span>  <span class="token comment">// ok gets if the key exists in map</span>

v<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token string">"world"</span><span class="token punctuation">]</span> <span class="token comment">// though v gets zero value,</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ok<span class="token punctuation">)</span> <span class="token comment">// ok gets true because "world" exists in map</span>

v<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token string">"nono"</span><span class="token punctuation">]</span>  <span class="token comment">// "nono" doesn't exist in map, so ok gets false</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ok<span class="token punctuation">)</span> <span class="token comment">// v gets zero value,</span>

<span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token string">"Hello"</span><span class="token punctuation">)</span> <span class="token comment">// deletes key "Hello" from the map</span>
v<span class="token punctuation">,</span> ok <span class="token operator">=</span> m<span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">]</span> <span class="token comment">// the key doesn't exist in map as it is deleted</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ok<span class="token punctuation">)</span></code><!----></pre> <p>위 예제에서 <code>m</code>에서 반환받은 값을 계속 <code>v</code>, <code>ok</code> 두 개의 변수에 할당하는 것을 확인할 수 있다.
이 때 첫 번째 변수인 <code>v</code>에는 Key에 해당하는 Value가 들어가며, 두 번째 변수인 <code>ok</code>에는 해당 Key가 <code>m</code>에 존재하는지 여부가 <code>true</code> or <code>false</code>로 들어간다.
또한 <code>map</code>에서 Key-Value 페어를 지우려면 <code>delete()</code> 함수를 사용한다.</p> <br/><br/> <h2 id="struct"><a aria-hidden="true" tabindex="-1" href="#struct"><span class="icon icon-link"></span></a>struct</h2> <hr/> <p>C/C++의 <code>struct</code>와 유사하다. Go가 일반적으로 그런 것처럼, 필드들을 선언할 때 자료형이 필드명의 뒤에 온다.
C/C++의 <code>typedef</code> 키워드처럼, <code>type</code> 키워드를 통해 <code>struct</code> 타입을 정의할 수 있다.</p> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">type</span> person <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span> <span class="token comment">// define struct type</span>
    name <span class="token builtin">string</span>
    age  <span class="token builtin">int</span>
    pet  <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> john person <span class="token comment">// struct variable declaration</span>
<span class="token keyword">var</span> james <span class="token operator">=</span> person<span class="token punctuation">&#123;</span><span class="token string">"James"</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">"cat"</span><span class="token punctuation">&#125;</span>
kim <span class="token operator">:=</span> person<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>                   <span class="token comment">// there is no difference on empty struct and zero value of struct</span>
fred <span class="token operator">:=</span> person<span class="token punctuation">&#123;</span><span class="token string">"Fred"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">"dog"</span><span class="token punctuation">&#125;</span> <span class="token comment">// values are assigned to the fields in the order they were declared in struct definition</span>
beth <span class="token operator">:=</span> person<span class="token punctuation">&#123;</span>                   <span class="token comment">// using key names (recommended)</span>
    age<span class="token punctuation">:</span>  <span class="token number">20</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">"Beth"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>
fred<span class="token punctuation">.</span>pet <span class="token operator">=</span> <span class="token string">"parrot"</span> <span class="token comment">// can use dotted notation</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>john<span class="token punctuation">,</span> kim<span class="token punctuation">,</span> james<span class="token punctuation">,</span> fred<span class="token punctuation">,</span> beth<span class="token punctuation">)</span></code><!----></pre> <p><code>struct</code> 인스턴스를 생성할 때는 <code>struct</code>를 정의할 때 입력했던 순서대로 각 필드의 값을 중괄호 안에 입력해주면 된다.
특이사항으로는 <code>map</code>이나 <code>slice</code>와는 달리, <code>struct</code>의 Zero value와 비어있는 <code>struct</code>가 동일하게 처리된다.</p> <br/><br/> <h3 id="anonymous-structs"><a aria-hidden="true" tabindex="-1" href="#anonymous-structs"><span class="icon icon-link"></span></a>Anonymous Structs</h3> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> human <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span> <span class="token comment">// anonymous structs</span>
    name <span class="token builtin">string</span>
    age  <span class="token builtin">int</span>
    pet  <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
human<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Bob"</span>
human<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">24</span>
human<span class="token punctuation">.</span>pet <span class="token operator">=</span> <span class="token string">"dog"</span>

pet <span class="token operator">:=</span> <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span> <span class="token comment">// directly initializing anonymous structs</span>
    name <span class="token builtin">string</span>
    kind <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>
    name<span class="token punctuation">:</span> <span class="token string">"choco"</span><span class="token punctuation">,</span>
    kind<span class="token punctuation">:</span> <span class="token string">"dog"</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>

fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>human<span class="token punctuation">,</span> pet<span class="token punctuation">)</span></code><!----></pre> <p>위 코드는 익명 <code>struct</code> 변수를 선언하고, 또 선언과 동시에 초기화하는 예제이다.
타입 명시와 값 할당이 다른 중괄호 안에서 이루어져야 하는 것만 주의하면 큰 문제 없는 듯.</p> <br/><br/> <h3 id="comparing-and-converting-structs"><a aria-hidden="true" tabindex="-1" href="#comparing-and-converting-structs"><span class="icon icon-link"></span></a>Comparing and Converting Structs</h3> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">type</span> firstPerson <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    name <span class="token builtin">string</span>
    age  <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
f1 <span class="token operator">:=</span> firstPerson<span class="token punctuation">&#123;</span><span class="token string">"kim"</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">&#125;</span>
f2 <span class="token operator">:=</span> firstPerson<span class="token punctuation">&#123;</span><span class="token string">"lee"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>f1 <span class="token operator">==</span> f2<span class="token punctuation">)</span> <span class="token comment">// comparing two firstPerson instances is possible when they are composed of comparable types</span></code><!----></pre> <p><code>struct</code>의 필드가 비교 가능한 타입들로 이루어져 있다면, 서로 같은 <code>struct</code> 타입끼리는 서로 비교할 수 있다.</p> <br/> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">type</span> secondPerson <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    name <span class="token builtin">string</span>
    age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
s1 <span class="token operator">:=</span> secondPerson<span class="token punctuation">&#123;</span><span class="token string">"choi"</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">&#125;</span>
<span class="token comment">// fmt.Println(s1 == f1) // comparing(==, !=) secondPerson with firstPerson is impossible</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">firstPerson</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// convert secondPerson into firstPerson is possible because they have same fields</span></code><!----></pre> <p>서로 다른 <code>struct</code> 타입끼리는 서로 비교할 수 없다.
단, 필드의 타입과 필드명이 같다면 서로 변환할 수 있다.</p> <br/> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">type</span> thirdPerson <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    age <span class="token builtin">int</span>
    name <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// t1 := thirdPerson&#123;27, "Park"&#125;</span>
<span class="token comment">// fmt.Println(firstPerson(t1)) // convert thirdPerson into firstPerson is impossible because their fields have different order.</span></code><!----></pre> <p>만약 필드의 타입과 필드명이 같아도 선언된 순서가 다르다면 비교 및 변환할 수 없다.</p> <br/> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">type</span> fourthPerson <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    firstName <span class="token builtin">string</span>
    age <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// f3 := fourthPerson&#123;"Kang", 28&#125;</span>
<span class="token comment">// fmt.Println(firstPerson(f3)) // convert fourthPerson into firstPerson is impossible because their fields have different name.</span>

<span class="token keyword">type</span> fifthPerson <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    name <span class="token builtin">string</span>
    age <span class="token builtin">int</span>
    hobby <span class="token builtin">string</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// f4 := fifthPerson&#123;"Seo", 24, "Cooking"&#125;</span>
<span class="token comment">// fmt.Println(firstPerson(f4)) // convert fourthPerson into firstPerson is impossible because there is an additional field.</span></code><!----></pre> <p>타입이 같아도 필드명이 다르다면 변환할 수 없으며, 다른 필드가 추가로 존재하면 비교 및 변환할 수 없다.</p> <br/> <pre class="language-go"><!----><code class="language-go"><span class="token keyword">var</span> g <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
    name <span class="token builtin">string</span>
    age  <span class="token builtin">int</span>
<span class="token punctuation">&#125;</span>
g <span class="token operator">=</span> f1 <span class="token comment">// =, == are possible when anonymous struct have same field</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>g <span class="token operator">==</span> f1<span class="token punctuation">)</span></code><!----></pre> <p>동일한 필드를 가지고 있는 익명 <code>struct</code>에 대해서는 비교가 가능하다.</p> <br/><br/> <h2 id="references"><a aria-hidden="true" tabindex="-1" href="#references"><span class="icon icon-link"></span></a>References</h2> <hr/> <center><p>[</p> <img src="https://learning.oreilly.com/covers/urn:orm:book:9781492077206/400w/" alt="Learning Go Book Cover" loading="lazy"/><!----> ](https://learning.oreilly.com/library/view/learning-go/9781492077206/) <br/> [Jon Bodner, 『Learning Go』, O'Reilly Media, Inc.](https://learning.oreilly.com/library/view/learning-go/9781492077206/)</center> <br/><br/><!----> <!--[--><aside class="post-footer"><h2>Posted in:</h2> <ul><!--[--><li><a href="/category/Golang/">Golang</a></li><li><a href="/category/Basic Golang/">Basic Golang</a></li><!--]--></ul></aside><!--]--></article> <!--[--><!--[!--><!--]--><!--]--><!----><!----></div><!----> <footer><p>© 2026 JHSeo</p></footer><!----></main></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1ps2nw1 = {
						base: new URL("../../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../../../_app/immutable/entry/start.C1X3-B2E.js"),
						import("../../../../_app/immutable/entry/app.BNHJBDuV.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 12],
							data: [{type:"data",data:null,uses:{}},null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
