import{a as M}from"./DkPbIObf.js";import{l as S,D as q,E as z,aJ as B,aE as K,e as P,u as U,aK as $,aL as j,aM as D,aN as g,Q as G,a0 as J,a4 as E}from"./CVx5jffJ.js";import{d as Q}from"./D_kqQSo5.js";function ar(a,r,i,t,s,f){var o=a.__className;if(S||o!==i||o===void 0){var w=M(i,t,f);(!S||w!==a.getAttribute("class"))&&(w==null?a.removeAttribute("class"):a.className=w),a.__className=i}else if(f&&s!==f)for(var N in f){var l=!!f[N];(s==null||l!==!!s[N])&&a.classList.toggle(N,l)}return f}const W=()=>performance.now(),_={tick:a=>requestAnimationFrame(a),now:()=>W(),tasks:new Set};function L(){const a=_.now();_.tasks.forEach(r=>{r.c(a)||(_.tasks.delete(r),r.f())}),_.tasks.size!==0&&_.tick(L)}function H(a){let r;return _.tasks.size===0&&_.tick(L),{promise:new Promise(i=>{_.tasks.add(r={c:a,f:i})}),abort(){_.tasks.delete(r)}}}function y(a,r){g(()=>{a.dispatchEvent(new CustomEvent(r))})}function V(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const r=a.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function R(a){const r={},i=a.split(";");for(const t of i){const[s,f]=t.split(":");if(!s||f===void 0)break;const o=V(s.trim());r[o]=f.trim()}return r}const X=a=>a;function ir(a,r,i,t){var s=(a&j)!==0,f=(a&D)!==0,o=s&&f,w=(a&$)!==0,N=o?"both":s?"in":"out",l,u=r.inert,A=r.style.overflow,n,e;function T(){return g(()=>l??(l=i()(r,(t==null?void 0:t())??{},{direction:N})))}var v={is_global:w,in(){var d;if(r.inert=u,!s){e==null||e.abort(),(d=e==null?void 0:e.reset)==null||d.call(e);return}f||n==null||n.abort(),y(r,"introstart"),n=k(r,T(),e,1,()=>{y(r,"introend"),n==null||n.abort(),n=l=void 0,r.style.overflow=A})},out(d){if(!f){d==null||d(),l=void 0;return}r.inert=!0,y(r,"outrostart"),e=k(r,T(),n,0,()=>{y(r,"outroend"),d==null||d()})},stop:()=>{n==null||n.abort(),e==null||e.abort()}},h=q;if((h.transitions??(h.transitions=[])).push(v),s&&Q){var b=w;if(!b){for(var c=h.parent;c&&(c.f&z)!==0;)for(;(c=c.parent)&&(c.f&B)===0;);b=!c||(c.f&K)!==0}b&&P(()=>{U(()=>v.in())})}}function k(a,r,i,t,s){var f=t===1;if(G(r)){var o,w=!1;return J(()=>{if(!w){var h=r({direction:f?"in":"out"});o=k(a,h,i,t,s)}}),{abort:()=>{w=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(i==null||i.deactivate(),!(r!=null&&r.duration))return s(),{abort:E,deactivate:E,reset:E,t:()=>t};const{delay:N=0,css:l,tick:u,easing:A=X}=r;var n=[];if(f&&i===void 0&&(u&&u(0,1),l)){var e=R(l(0,1));n.push(e,e)}var T=()=>1-t,v=a.animate(n,{duration:N,fill:"forwards"});return v.onfinish=()=>{v.cancel();var h=(i==null?void 0:i.t())??1-t;i==null||i.abort();var b=t-h,c=r.duration*Math.abs(b),d=[];if(c>0){var p=!1;if(l)for(var C=Math.ceil(c/16.666666666666668),F=0;F<=C;F+=1){var I=h+b*A(F/C),O=R(l(I,1-I));d.push(O),p||(p=O.overflow==="hidden")}p&&(a.style.overflow="hidden"),T=()=>{var m=v.currentTime;return h+b*A(m/c)},u&&H(()=>{if(v.playState!=="running")return!1;var m=T();return u(m,1-m),!0})}v=a.animate(d,{duration:c,fill:"forwards"}),v.onfinish=()=>{T=()=>t,u==null||u(t,1-t),s()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=E)},deactivate:()=>{s=E},reset:()=>{t===0&&(u==null||u(1,0))},t:()=>T()}}const Y=a=>a;function tr(a,{delay:r=0,duration:i=400,easing:t=Y}={}){const s=+getComputedStyle(a).opacity;return{delay:r,duration:i,easing:t,css:f=>`opacity: ${f*s}`}}export{tr as f,ar as s,ir as t};
