import{S as vF,i as _F,s as mF,k as p,a as i,q as t,y as kV,l as o,c as r,m as l,r as e,h as a,z as fV,n as k,b as u,E as s,A as dV,g as EV,d as vV,B as _V,M as bF}from"./index.d78780bf.js";import{H as CF}from"./Highlight.1019e7a6.js";import{I as yF}from"./Image.605b14b5.js";function OF(j2){let an,ds;return{c(){an=p("em"),ds=t("lingua franca")},l(un){an=o(un,"EM",{});var Es=l(an);ds=e(Es,"lingua franca"),Es.forEach(a)},m(un,Es){u(un,an,Es),s(an,ds)},p:bF,d(un){un&&a(an)}}}function DF(j2){let an,ds,un,Es,sr,ar,tr,er,vs,_s,ze,Y2,pr,or,lr,Kt,h2,cr,rn,g2,Je,nE,sE,Ze,aE,tE,Xe,eE,pE,ur,Ut,oE,ir,ms,Qe,lE,cE,je,uE,rr,kr,fr,dr,bs,Cs,Ye,iE,Er,vr,_r,$t,rE,mr,Wt,kE,br,qt,fE,Cr,J,zt,he,dE,EE,vE,cs,_E,ge,mE,bE,np,CE,yE,OE,ys,sp,DE,wE,ap,PE,RE,TE,Jt,tp,VE,SE,FE,Zt,ep,xE,HE,yr,Xt,BE,Or,Dr,wr,Pr,Os,Ds,pp,LE,Rr,Z,NE,op,ME,IE,lp,GE,AE,cp,KE,UE,up,$E,WE,Tr,ws,qE,ip,zE,JE,Vr,Sr,Fr,Va,mV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	xt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    tnt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tnt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,xr,Qt,ZE,Hr,Sa,bV=`<code class="language-text">int
Foo


string</code>`,Br,x,XE,rp,QE,jE,kp,YE,hE,fp,gE,nv,dp,sv,av,Ep,tv,ev,Lr,Fn,vp,pv,ov,_p,lv,cv,mp,uv,iv,Nr,_,bp,rv,kv,Cp,fv,dv,yp,Ev,vv,Op,_v,mv,Dp,bv,Cv,wp,yv,Ov,Pp,Dv,wv,Rp,Pv,Rv,Tp,Tv,Vv,Mr,kn,Sv,Vp,Fv,xv,Sp,Hv,Bv,Fp,Lv,Nv,Ir,H,Mv,xp,Iv,Gv,Hp,Av,Kv,Bp,Uv,$v,Lp,Wv,qv,Np,zv,Jv,Gr,Ps,Zv,Mp,Xv,Qv,Ar,Fa,CV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	xt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ft<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tnt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tnt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Kr,jt,jv,Ur,xa,yV=`<code class="language-text">int int
Foo struct
 ptr
 ptr
string ptr</code>`,$r,Wr,qr,R,Ip,Yv,hv,Gp,gv,n3,Ap,s3,a3,Kp,t3,e3,Up,p3,o3,$p,l3,c3,zr,Ha,OV=`<code class="language-go">	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Jr,Yt,u3,Zr,Ba,DV=`<code class="language-text"> ptr int int
 ptr rtype struct</code>`,Xr,E,i3,Wp,r3,k3,qp,f3,d3,zp,E3,v3,Jp,_3,m3,Zp,b3,C3,Xp,y3,O3,Qp,D3,w3,jp,P3,R3,Yp,T3,V3,Qr,jr,Yr,T,hp,S3,F3,gp,x3,H3,no,B3,L3,so,N3,M3,ao,I3,G3,to,A3,K3,hr,La,wV=`<code class="language-go"><span class="token keyword">type</span> Foo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	A <span class="token builtin">int</span>    <span class="token string">&#96;myTag:"value"&#96;</span>
	B <span class="token builtin">string</span> <span class="token string">&#96;myTag:"value2"&#96;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ft<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		curField <span class="token operator">:=</span> ft<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>curField<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> curField<span class="token punctuation">.</span>Type<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> curField<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"myTag"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,gr,V,eo,U3,$3,po,W3,q3,oo,z3,J3,lo,Z3,X3,co,Q3,j3,uo,Y3,h3,nk,ht,g3,sk,Na,PV=`<code class="language-text">A int value
B string value</code>`,ak,fn,n_,io,s_,a_,ro,t_,e_,ko,p_,o_,tk,ek,pk,us,fo,l_,c_,Ma,u_,i_,ok,lk,ck,uk,Rs,Ts,Eo,r_,ik,In,k_,vo,f_,d_,_o,E_,v_,rk,Ia,RV='<code class="language-go">vValue <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></code>',kk,B,__,mo,m_,b_,bo,C_,y_,Co,O_,D_,yo,w_,P_,Oo,R_,T_,fk,xn,Do,V_,S_,wo,F_,x_,Po,H_,B_,dk,Ek,vk,dn,L_,Ro,N_,M_,To,I_,G_,Vo,A_,K_,_k,Ga,TV=`<code class="language-go">	s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">&#125;</span>
	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	s2 <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span></code>`,mk,S,So,U_,$_,Fo,W_,q_,xo,z_,J_,Ho,Z_,X_,Bo,Q_,j_,Lo,Y_,h_,bk,Ck,yk,gt,g_,Ok,Gn,n5,No,s5,a5,Mo,t5,e5,Dk,Aa,VV=`<code class="language-go">    i <span class="token operator">:=</span> <span class="token number">10</span>
	iv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span></code>`,wk,m,p5,Io,o5,l5,Go,c5,u5,Ao,i5,r5,Ko,k5,f5,Uo,d5,E5,$o,v5,_5,Wo,m5,b5,Pk,Ka,SV='<code class="language-go">ivv <span class="token operator">:=</span> iv<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>',Rk,L,C5,qo,y5,O5,zo,D5,w5,Jo,P5,R5,Zo,T5,V5,Xo,S5,F5,Tk,Ua,FV=`<code class="language-go">    ivv<span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></code>`,Vk,X,x5,Qo,H5,B5,jo,L5,N5,Yo,M5,I5,ho,G5,A5,Sk,Vs,K5,go,U5,$5,Fk,$a,xV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">changeInt</span><span class="token punctuation">(</span>i <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token operator">*</span>i <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">changeIntReflect</span><span class="token punctuation">(</span>i <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,xk,ne,W5,Hk,Wa,HV=`<code class="language-go">    i3 <span class="token operator">:=</span> <span class="token number">10</span>
	reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// this calls will panic</span></code>`,Bk,Lk,Nk,Mk,Ss,Fs,nl,q5,Ik,b,z5,sl,J5,Z5,al,X5,Q5,tl,j5,Y5,el,h5,g5,pl,n4,s4,ol,a4,t4,ll,e4,p4,Gk,is,cl,o4,l4,ul,c4,u4,Ak,qa,BV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">MakeChan</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> buffer <span class="token builtin">int</span><span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeMap</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeMapWithSize</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeSlice</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">,</span> <span class="token builtin">cap</span> <span class="token builtin">int</span><span class="token punctuation">)</span> Value</code>`,Kk,xs,i4,il,r4,k4,Uk,$k,Wk,rs,rl,f4,d4,kl,E4,v4,qk,za,LV=`<code class="language-go">	<span class="token keyword">var</span> stringType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> stringSliceType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,zk,f,_4,fl,m4,b4,dl,C4,y4,El,O4,D4,vl,w4,P4,_l,R4,T4,ml,V4,S4,bl,F4,x4,Cl,H4,B4,yl,L4,N4,Ol,M4,I4,Dl,G4,A4,wl,K4,U4,Pl,$4,W4,Rl,q4,z4,Tl,J4,Z4,Jk,Q,X4,Vl,Q4,j4,Sl,Y4,h4,Fl,g4,n6,xl,s6,a6,Zk,Ja,NV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> stringType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> stringSliceType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>stringType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	sv<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>

	ssv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeSlice</span><span class="token punctuation">(</span>stringSliceType<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	ssv <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>ssv<span class="token punctuation">,</span> sv<span class="token punctuation">)</span>

	ss <span class="token operator">:=</span> ssv<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Xk,se,t6,Qk,Za,MV='<code class="language-text">[hello]</code>',jk,Yk,hk,gk,Hs,Bs,Hl,e6,nf,An,p6,Bl,o6,l6,Ll,c6,u6,sf,Xa,IV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span>i <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
	iv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>iv<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">switch</span> iv<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Ptr<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Slice<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Map<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Func<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Interface<span class="token punctuation">:</span>
		<span class="token keyword">return</span> iv<span class="token punctuation">.</span><span class="token function">IsNil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> s <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token string">"asd"</span>
	<span class="token keyword">var</span> p <span class="token operator">*</span><span class="token builtin">string</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">hasNoValue</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,af,F,Nl,i6,r6,Ml,k6,f6,Il,d6,E6,Gl,v6,_6,Al,m6,b6,Kl,C6,y6,tf,U,Ul,O6,D6,$l,w6,P6,Wl,R6,T6,ql,V6,S6,zl,F6,x6,ef,pf,of,lf,Ls,Ns,Jl,H6,cf,ae,B6,uf,Kn,L6,Zl,N6,M6,Xl,I6,G6,rf,kf,ff,te,A6,df,Qa,GV=`<code class="language-go"><span class="token keyword">type</span> MyData <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	Name   <span class="token builtin">string</span> <span class="token string">&#96;csv:"name"&#96;</span>
	Age    <span class="token builtin">int</span>    <span class="token string">&#96;csv:"age"&#96;</span>
	HasPet <span class="token builtin">bool</span>   <span class="token string">&#96;csv:"has_pet"&#96;</span>
<span class="token punctuation">&#125;</span></code>`,Ef,ee,K6,vf,ja,AV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Unmarshal</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">error</span>

<span class="token keyword">func</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span></code>`,_f,Ms,U6,Ql,$6,W6,mf,Ya,KV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sliceVal <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	structType <span class="token operator">:=</span> sliceVal<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> structType<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Struct <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">var</span> out <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	header <span class="token operator">:=</span> <span class="token function">marshalHeader</span><span class="token punctuation">(</span>structType<span class="token punctuation">)</span>
	out <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> header<span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sliceVal<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		row<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">marshalOne</span><span class="token punctuation">(</span>sliceVal<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
		<span class="token punctuation">&#125;</span>
		out <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> row<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> out<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,bf,Is,q6,jl,z6,J6,Cf,N,Z6,Yl,X6,Q6,hl,j6,Y6,gl,h6,g6,nc,n9,s9,sc,a9,t9,yf,Un,e9,ac,p9,o9,tc,l9,c9,Of,ha,ec,u9,i9,Df,ga,UV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">marshalHeader</span><span class="token punctuation">(</span>vt reflect<span class="token punctuation">.</span>Type<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vt<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		field <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		<span class="token keyword">if</span> curTag<span class="token punctuation">,</span> ok <span class="token operator">:=</span> field<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">&#123;</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> curTag<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> row
<span class="token punctuation">&#125;</span></code>`,wf,$n,r9,pc,k9,f9,oc,d9,E9,Pf,Gs,v9,lc,_9,m9,Rf,nt,$V=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">marshalOne</span><span class="token punctuation">(</span>vv reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	vt <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vv<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		fieldVal <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">&#125;</span>

		<span class="token keyword">switch</span> fieldVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Int<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span>fieldVal<span class="token punctuation">.</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>String<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldVal<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Bool<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> strconv<span class="token punctuation">.</span><span class="token function">FormatBool</span><span class="token punctuation">(</span>fieldVal<span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"cannot handle field of kind %v"</span><span class="token punctuation">,</span> fieldVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> row<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,Tf,Wn,b9,cc,C9,y9,uc,O9,D9,Vf,Sf,Ff,As,w9,ic,P9,R9,xf,st,WV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Unmarshal</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>
	sliceValPtr <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceValPtr<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Ptr <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a pointer to a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	sliceVal <span class="token operator">:=</span> sliceValPtr<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a pointer to a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	structType <span class="token operator">:=</span> sliceVal<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> structType<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Struct <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"muast be a pointer to"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	header <span class="token operator">:=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	namePos <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> header <span class="token punctuation">&#123;</span>
		namePos<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> k
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> row <span class="token operator">:=</span> <span class="token keyword">range</span> data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
		newVal <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>structType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		err <span class="token operator">:=</span> <span class="token function">unmarshalOne</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> namePos<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">&#125;</span>
		sliceVal<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>sliceVal<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,Hf,Ks,T9,rc,V9,S9,Bf,Us,F9,kc,x9,H9,Lf,j,B9,fc,L9,N9,dc,M9,I9,Ec,G9,A9,vc,K9,U9,Nf,at,_c,$9,W9,Mf,tt,qV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">unmarshalOne</span><span class="token punctuation">(</span>row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> namePos <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> vv reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>
	vt <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vv<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		typeField <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		pos<span class="token punctuation">,</span> ok <span class="token operator">:=</span> namePos<span class="token punctuation">[</span>typeField<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">&#125;</span>

		val <span class="token operator">:=</span> row<span class="token punctuation">[</span>pos<span class="token punctuation">]</span>
		field <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		<span class="token keyword">switch</span> field<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Int<span class="token punctuation">:</span>
			i<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">&#125;</span>
			field<span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>String<span class="token punctuation">:</span>
			field<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>

		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Bool<span class="token punctuation">:</span>
			b<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">&#125;</span>
			field<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>

		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"cannot handle field of kind %v"</span><span class="token punctuation">,</span> field<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,If,En,q9,mc,z9,J9,bc,Z9,X9,Cc,Q9,j9,Gf,Af,Kf,pe,Y9,Uf,et,zV=`<code class="language-go">data <span class="token operator">:=</span>
		<span class="token string">&#96;name,age,has_pet
Jon,"100",true
"Fred ""The Hammer"" Smith",42,false
Martha,37,"true"
&#96;</span>
	r <span class="token operator">:=</span> csv<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
	allData<span class="token punctuation">,</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">var</span> entries <span class="token punctuation">[</span><span class="token punctuation">]</span>MyData
	<span class="token function">Unmarshal</span><span class="token punctuation">(</span>allData<span class="token punctuation">,</span> <span class="token operator">&amp;</span>entries<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>

	out<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	sb <span class="token operator">:=</span> <span class="token operator">&amp;</span>strings<span class="token punctuation">.</span>Builder<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	w <span class="token operator">:=</span> csv<span class="token punctuation">.</span><span class="token function">NewWriter</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span>
	w<span class="token punctuation">.</span><span class="token function">WriteAll</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span></code>`,$f,Wf,qf,$s,h9,pt,g9,n7,zf,Jf,Zf,Xf,Ws,qs,yc,s7,Qf,oe,a7,jf,ot,JV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">MakeTimedFunction</span><span class="token punctuation">(</span>f <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>

	wrapperF <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeFunc</span><span class="token punctuation">(</span>ft<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>args <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value <span class="token punctuation">&#123;</span>
		start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		out <span class="token operator">:=</span> fv<span class="token punctuation">.</span><span class="token function">Call</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
		end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> out
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> wrapperF<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Yf,M,t7,Oc,e7,p7,Dc,o7,l7,wc,c7,u7,Pc,i7,r7,Rc,k7,f7,hf,le,d7,gf,lt,ZV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">timeMe</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> result <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		result <span class="token operator">+=</span> <span class="token number">1</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	timed <span class="token operator">:=</span> <span class="token function">MakeTimedFunction</span><span class="token punctuation">(</span>timeMe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">timed</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,nd,ce,E7,sd,ue,v7,ad,td,ed,pd,zs,Js,Tc,_7,od,tn,Vc,m7,b7,Sc,C7,y7,Fc,O7,D7,xc,w7,P7,ld,ie,R7,cd,ud,id,re,T7,rd,kd,fd,dd,Zs,Xs,Hc,V7,Ed,ke,S7,vd,qn,F7,Bc,x7,H7,Lc,B7,L7,_d,ct,XV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Filter</span><span class="token punctuation">(</span>slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> filter <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	res <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token function">filter</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span></code>`,md,fe,N7,bd,ut,QV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>slice <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> filter <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>
	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span>
	fv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>filter<span class="token punctuation">)</span>

	sliceLen <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	out <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeSlice</span><span class="token punctuation">(</span>sv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> sliceLen<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sliceLen<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		curVal <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		values <span class="token operator">:=</span> fv<span class="token punctuation">.</span><span class="token function">Call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value<span class="token punctuation">&#123;</span>curVal<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			out <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> curVal<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Cd,de,M7,yd,it,jV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	names <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"Andrew"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Clara"</span><span class="token punctuation">,</span> <span class="token string">"Hortense"</span><span class="token punctuation">&#125;</span>
	longNames <span class="token operator">:=</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">3</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>longNames<span class="token punctuation">)</span><span class="token punctuation">)</span>

	ages <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">&#125;</span>
	adults <span class="token operator">:=</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>ages<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>age <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> age <span class="token operator">>=</span> <span class="token number">18</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>adults<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Od,ks,Nc,I7,G7,Mc,A7,K7,Dd,rt,YV=`<code class="language-text">BenchmarkFilterReflectString-12             4123            336595 ns/op
BenchmarkFilterString-12                  191110              8211 ns/op
BenchmarkFilterReflectInt-12                3427            359483 ns/op
BenchmarkFilterInt-12                     497114              4233 ns/op</code>`,wd,Ee,U7,Pd,ve,$7,Rd,Td,Vd,Sd,Qs,js,Ic,W7,Fd,Hn,Gc,q7,z7,Ac,J7,Z7,Kc,X7,Q7,xd,vn,j7,Uc,Y7,h7,$c,g7,n8,Wc,s8,a8,Hd,$,qc,t8,e8,zc,p8,o8,Jc,l8,c8,Zc,u8,i8,Xc,r8,k8,Bd,I,f8,Qc,d8,E8,jc,v8,_8,Yc,m8,b8,hc,C8,y8,gc,O8,D8,Ld,Nd,Md,Id,Ys,hs,nu,w8,Gd,Y,P8,su,R8,T8,au,V8,S8,tu,F8,x8,eu,H8,B8,Ad,zn,L8,pu,N8,M8,ou,I8,G8,Kd,_n,lu,A8,K8,cu,U8,$8,uu,W8,q8,iu,z8,Ud,_e,ru,J8,$d,Wd,qd,me,Z8,zd,kt,hV=`<code class="language-go"><span class="token keyword">type</span> Data <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	Value  <span class="token builtin">uint32</span>
	Label  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">byte</span>
	Active <span class="token builtin">bool</span>
	<span class="token comment">// padded 1 byte</span>
<span class="token punctuation">&#125;</span></code>`,Jd,be,X8,Zd,ft,gV='<code class="language-go"><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">132</span> <span class="token number">95</span> <span class="token number">237</span> <span class="token number">80</span> <span class="token number">104</span> <span class="token number">111</span> <span class="token number">110</span> <span class="token number">101</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">]</span></code>',Xd,gs,Q8,ku,j8,Y8,Qd,dt,nS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">DataFromBytes</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> Data <span class="token punctuation">&#123;</span>
	d <span class="token operator">:=</span> Data<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	d<span class="token punctuation">.</span>Value <span class="token operator">=</span> binary<span class="token punctuation">.</span>BigEndian<span class="token punctuation">.</span><span class="token function">Uint32</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Label<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	d<span class="token punctuation">.</span>Active <span class="token operator">=</span> b<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span>
	<span class="token keyword">return</span> d
<span class="token punctuation">&#125;</span></code>`,jd,na,h8,fu,g8,n0,Yd,Et,sS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">DataFromBytesUnsafe</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> Data <span class="token punctuation">&#123;</span>
	data <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>Data<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> isLE <span class="token punctuation">&#123;</span>
		data<span class="token punctuation">.</span>Value <span class="token operator">=</span> bits<span class="token punctuation">.</span><span class="token function">ReverseBytes32</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> data
<span class="token punctuation">&#125;</span></code>`,hd,h,s0,du,a0,t0,Eu,e0,p0,vu,o0,l0,_u,c0,u0,gd,Ce,i0,n1,vt,aS=`<code class="language-go"><span class="token keyword">var</span> isLE <span class="token builtin">bool</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> x <span class="token builtin">uint16</span> <span class="token operator">=</span> <span class="token number">0xFF00</span>
	xb <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
	isLE <span class="token operator">=</span> <span class="token punctuation">(</span>xb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0x00</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,s1,Bn,mu,r0,k0,bu,f0,d0,Cu,E0,v0,a1,mn,_0,yu,m0,b0,Ou,C0,y0,Du,O0,D0,t1,e1,p1,ye,w0,o1,_t,tS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">BytesFromData</span><span class="token punctuation">(</span>d Data<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">&#123;</span>
	out <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	binary<span class="token punctuation">.</span>BigEndian<span class="token punctuation">.</span><span class="token function">PutUint32</span><span class="token punctuation">(</span>out<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>out<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>Label<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> d<span class="token punctuation">.</span>Active <span class="token punctuation">&#123;</span>
		out<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> out
<span class="token punctuation">&#125;</span></code>`,l1,sa,P0,wu,R0,T0,c1,mt,eS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">BytesFromDataUnsafe</span><span class="token punctuation">(</span>d Data<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> isLE <span class="token punctuation">&#123;</span>
		d<span class="token punctuation">.</span>Value <span class="token operator">=</span> bits<span class="token punctuation">.</span><span class="token function">ReverseBytes32</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	b <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> b
<span class="token punctuation">&#125;</span></code>`,u1,aa,V0,Pu,S0,F0,i1,bt,pS=`<code class="language-text">BenchmarkBytesFromData-12               127067046                9.444 ns/op
BenchmarkBytesFromDataUnsafe-12         187575825                6.395 ns/op
BenchmarkDataFromBytes-12               127086181                9.590 ns/op
BenchmarkDataFromBytesUnsafe-12         135862089                8.999 ns/op</code>`,r1,Oe,x0,k1,De,H0,f1,d1,E1,v1,ta,ea,Ru,B0,_1,Ct,Tu,L0,N0,m1,g,M0,Vu,I0,G0,Su,A0,K0,Fu,U0,$0,xu,W0,q0,b1,yt,oS=`<code class="language-go">s <span class="token operator">:=</span> <span class="token string">"hello"</span>
sHdr <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>StringHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">)</span></code>`,C1,bn,z0,Hu,J0,Z0,Bu,X0,Q0,Lu,j0,Y0,y1,Ot,lS=`<code class="language-go"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
	bp <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Data <span class="token operator">+</span> <span class="token function">uintptr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>bp<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
runtime<span class="token punctuation">.</span><span class="token function">KeepAlive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code>`,O1,O,Nu,h0,g0,Mu,nm,sm,Iu,am,tm,Gu,em,pm,Au,om,lm,Ku,cm,um,Uu,im,rm,D1,w1,P1,D,$u,km,fm,Wu,dm,Em,qu,vm,_m,zu,mm,bm,Ju,Cm,ym,Zu,Om,Dm,Xu,wm,Pm,R1,Dt,cS=`<code class="language-go">s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">&#125;</span>
sHdr <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Cap<span class="token punctuation">)</span></code>`,T1,G,Rm,Qu,Tm,Vm,ju,Sm,Fm,Yu,xm,Hm,hu,Bm,Lm,gu,Nm,Mm,V1,we,Im,S1,wt,uS=`<code class="language-go">intByteSize <span class="token operator">:=</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intByteSize<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
	intVal <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Data <span class="token operator">+</span> intByteSize<span class="token operator">*</span><span class="token function">uintptr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intVal<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
runtime<span class="token punctuation">.</span><span class="token function">KeepAlive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code>`,F1,w,ni,Gm,Am,si,Km,Um,ai,$m,Wm,ti,qm,zm,ei,Jm,Zm,pi,Xm,Qm,oi,jm,Ym,x1,H1,B1,L1,pa,oa,li,hm,N1,nn,gm,ci,nb,sb,ui,ab,tb,ii,eb,pb,ri,ob,lb,M1,Pe,cb,I1,la,ub,Pt,ib,rb,G1,A1,K1,U1,ca,ua,ki,kb,$1,W1,q1,Jn,fb,fi,db,Eb,di,vb,_b,z1,Zn,mb,ia,bb,Ei,Cb,yb,J1,ra,Ob,vi,Db,wb,Z1,Rt,iS=`<code class="language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">/*
   #cgo LDFLAGS: -lm
   #include &lt;stdio.h>
   #include &lt;math.h>
   #include "mylib.h"

   int add(int a, int b) &#123;
       int sum = a + b;
       printf("a: %d, b: %d, sum %d&#92;n", a, b, sum);
       return sum;
   &#125;
*/</span>
<span class="token keyword">import</span> <span class="token string">"C"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sum <span class="token operator">:=</span> C<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,X1,Cn,Pb,_i,Rb,Tb,mi,Vb,Sb,bi,Fb,xb,Q1,yn,Hb,Ci,Bb,Lb,yi,Nb,Mb,Oi,Ib,Gb,j1,Tt,rS='<code class="language-c"><span class="token keyword">int</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',Y1,Vt,kS=`<code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mylib.h"</span></span>

<span class="token keyword">int</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,h1,ka,Ab,Di,Kb,Ub,g1,St,fS=`<code class="language-text">$ ./cgo
a: 3, b: 2, sum 5
5
10
200</code>`,n2,v,$b,wi,Wb,qb,Pi,zb,Jb,Ri,Zb,Xb,Ti,Qb,jb,Vi,Yb,hb,Si,gb,nC,Fi,sC,aC,xi,tC,eC,Hi,pC,oC,s2,sn,lC,Bi,cC,uC,Li,iC,rC,Ni,kC,fC,Mi,dC,EC,a2,t2,e2,Xn,vC,Ii,_C,mC,Gi,bC,CC,p2,Ft,dS=`<code class="language-go"><span class="token keyword">package</span> main

<span class="token comment">/*
   extern int add(int a, int b);
*/</span>
<span class="token keyword">import</span> <span class="token string">"C"</span>
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">//export doubler</span>
<span class="token keyword">func</span> <span class="token function">doubler</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> i <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,o2,Qn,yC,Ai,OC,DC,Ki,wC,PC,l2,xt,ES=`<code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"_cgo_export.h"</span></span>

<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> doubleA <span class="token operator">=</span> <span class="token function">doubler</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> doubleA <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,c2,Re,RC,u2,Ht,vS=`<code class="language-text">$ ./export
4</code>`,i2,r2,k2,fa,TC,Ui,VC,SC,f2,Te,FC,d2,jn,xC,$i,HC,BC,Wi,LC,NC,E2,Yn,MC,qi,IC,GC,zi,AC,KC,v2,da,UC,Ji,$C,WC,_2,Bt,Zi,qC,zC,m2,b2,C2,y2,Ea,va,Xi,JC,O2,D2,w2,Ln,Qi,ZC,XC,Lt,QC,jC,YC,P2,R2,T2,V2;return ia=new CF({props:{$$slots:{default:[OF]},$$scope:{ctx:j2}}}),Lt=new yF({props:{alt:"Learning Go Book Cover",src:"https://learning.oreilly.com/covers/urn:orm:book:9781492077206/400w/"}}),{c(){an=p("br"),ds=i(),un=p("p"),Es=t("본 글은 Golang을 공부하며 주요 내용이라 생각되는 것들을 기록해둔 자료이며, Ubuntu 22.04 LTS 기준으로 작성되었습니다."),sr=i(),ar=p("br"),tr=p("br"),er=i(),vs=p("h2"),_s=p("a"),ze=p("span"),Y2=t("Introduction"),pr=i(),or=p("hr"),lr=i(),Kt=p("p"),h2=t(`Go는 안전한 언어이다.
정적 타입의 변수를 통해 어떤 데이터를 사용하고 있는지 명확히 하며, 메모리를 관리하기 위해 가비지 컬렉터를 사용한다.
포인터를 사용하긴 하지만 C나 C++보다는 제한적인 범위에서만 사용할 수 있다.
따라서 고 런타임은 대부분 안전하게 실행된다고 할 수 있다.`),cr=i(),rn=p("p"),g2=t(`하지만 타입을 명확히 정의할 수 없는 데이터를 다뤄야 하는 경우가 있을 수 있다.
이를테면 타입을 컴파일 타임에 결정할 수 없는 데이터가 있을 수 있다. 이 경우 `),Je=p("code"),nE=t("reflect"),sE=t(` 패키지를 통해 데이터와 상호작용하거나 데이터를 구성한다.
또는 데이터 타입의 메모리 레이아웃을 사용해야 하는 경우, `),Ze=p("code"),aE=t("unsafe"),tE=t(` 패키지를 사용한다.
그리고 C로 작성된 라이브러리의 기능을 사용해야 하는 경우, `),Xe=p("code"),eE=t("cgo"),pE=t(" 패키지를 통해 C 코드를 호출할 수도 있다."),ur=i(),Ut=p("p"),oE=t(`처음 Go언어를 배우는 사람들을 위한 책에서 나올 내용 치고는 다소 고난도의 개념인지라, 이러한 내용이 나오는 것에 대해 다소 의아할 수도 있다.
하지만 다음과 같은 두 가지 이유로 이 내용을 다룬다.`),ir=i(),ms=p("ol"),Qe=p("li"),lE=t(`개발자들은 코드에서 문제를 발견하면 솔루션을 검색해보고 제대로 이해하지도 못한 채 코드에 복붙하는 경우가 많다. 이로 인해 여러 문제가 생길 수도 있다.
그러니 이러한 고급 기술에 대해 조금이라도 이해해두는 편이 문제를 일으킬 여지를 약간이나마 줄일 수 있을 것이다.`),cE=i(),je=p("li"),uE=t("소개하는 내용이 일반 Go 코드에서는 할 수 없는 것들이라, 내용을 접하다 보면 흥미로움을 느낄 수도 있기 때문이다!"),rr=i(),kr=p("br"),fr=p("br"),dr=i(),bs=p("h2"),Cs=p("a"),Ye=p("span"),iE=t("Reflection"),Er=i(),vr=p("hr"),_r=i(),$t=p("p"),rE=t(`Go의 장점 중 하나는 정적 타입 언어라는 것이다. Go에서 타입 및 변수, 함수를 선언하는 것이 매우 간단하며, 프로그램에서 사용될 데이터의 구조를 나타내기 위해 타입을 사용한다.
하지만 컴파일 타임에 정의되는 타입만으로 프로그램에서 사용될 데이터를 사용하기에는 부족할 때가 있다.
이를테면 프로그램을 작성할 때 존재하지 않았던 데이터가 런타임에 변수에 할당될 수도 있다.
가령, 파일에서 데이터를 읽어오거나 네트워크 요청을 변수에 저장하거나, 아니면 여러 타입에 대응되는 함수를 작성할 수도 있을 것이다.`),mr=i(),Wt=p("p"),kE=t(`이러한 상황에서는 Reflection을 사용한다.
Reflection은 런타임에 타입을 확인할 수 있게 해주며, 런타임에 변수, 함수, 구조체를 검사하고, 수정하고, 생성하는 기능도 제공한다.`),br=i(),qt=p("p"),fE=t(`이러한 Reflection의 기능이 언제 필요한 것인가에 대한 질문이 있을 수 있다.
표준 라이브러리에서 Reflection이 어떻게 쓰이는지 알면 우리도 감을 잡을 수 있을 것이다.`),Cr=i(),J=p("ul"),zt=p("li"),he=p("code"),dE=t("database/sql"),EE=t(" 패키지에서는 데이터베이스에서 데이터를 읽거나 쓸 때 Reflection을 사용하여 레코드를 전송하고 읽어온 데이터를 반환함"),vE=i(),cs=p("li"),_E=t("Go에 내장된 템플릿 작성 라이브러리인 "),ge=p("code"),mE=t("text/template"),bE=t(" 및 "),np=p("code"),CE=t("html/template"),yE=t("에서는 reflection을 사용하여 템플릿으로 전달되는 값을 처리함"),OE=i(),ys=p("li"),sp=p("code"),DE=t("fmt"),wE=t(" 패키지의 "),ap=p("code"),PE=t("fmt.Println"),RE=t(" 등 대부분의 출력 함수는 들어온 파라미터의 타입에 맞춰 알잘딱깔센하게 출력해줘야 하기 때문에, Reflection을 엄청 많이 사용한다고 함"),TE=i(),Jt=p("li"),tp=p("code"),VE=t("sort"),SE=t(" 패키지는 Reflection을 사용하여 다양한 타입의 슬라이스를 정렬하는 기능을 구현함"),FE=i(),Zt=p("li"),ep=p("code"),xE=t("encoding"),HE=t(" 패키지에 정의된 다양한 데이터 타입과 함께, JSON이나 XML을 Marshaling 및 Unmarshaling할 때 Reflection이 사용됨. 구조체 tag는 Reflection를 통해 액세스되며, Reflection를 통해 구조체 필드를 읽고 씀."),yr=i(),Xt=p("p"),BE=t("이러한 예시들은 한 가지 공통점을 공유한다. Go 프로그램으로 가져오거나 외부로 내보내는 데이터에 액세스하고 형식을 지정한다는 것이다. 다시 말해, Reflection은 Go 프로그램과 외부 세계의 경계선에서 사용되는 것이다."),Or=i(),Dr=p("br"),wr=p("br"),Pr=i(),Os=p("h3"),Ds=p("a"),pp=p("span"),LE=t("Types, Kinds"),Rr=i(),Z=p("p"),NE=t(`이제 Reflection이 무엇을 하며 언제 필요한지 알았으니, 어떻게 쓰는 것인지 알아보려 한다.
`),op=p("code"),ME=t("reflect"),IE=t(` 패키지는 표준 라이브러리에 포함되어 있으며, Reflection을 위한 여러 타입들과 함수들이 구현되어 있다.
Reflection의 핵심 개념은 `),lp=p("em"),GE=t("types"),AE=t(", "),cp=p("em"),KE=t("kinds"),UE=t(", "),up=p("em"),$E=t("values"),WE=t(", 이렇게 세 가지이다."),Tr=i(),ws=p("p"),qE=t("먼저 "),ip=p("em"),zE=t("types"),JE=t("에 대해 알아보자. Reflection에서 타입은 말 그대로 변수의 속성, 변수가 포함할 수 있는 항목 및 변수가 상호 작용할 수 있는 방법을 정의한다. Reflection을 쓰면 코드를 작성하여 타입을 쿼리할 수 있다."),Vr=i(),Sr=p("br"),Fr=i(),Va=p("pre"),xr=i(),Qt=p("p"),ZE=t("위 구문의 실행 결과는 다음과 같다."),Hr=i(),Sa=p("pre"),Br=i(),x=p("p"),XE=t("이처럼 "),rp=p("code"),QE=t("reflect"),jE=t(" 패키지의 "),kp=p("code"),YE=t("TypeOf()"),hE=t(` 함수를 통해 변수의 타입을 확인할 수 있다.
`),fp=p("code"),gE=t("TypeOf()"),nv=t("는 파라미터로 들어온 변수의 타입을 "),dp=p("code"),sv=t("reflect.Type"),av=t(`라는 타입으로 나타낸다.
`),Ep=p("code"),tv=t("reflect.Type"),ev=t("에는 변수의 타입에 관련된 여러 메소드가 존재하지만 다는 다루지 못하고 몇 개만 다뤄보고자 한다."),Lr=i(),Fn=p("p"),vp=p("code"),pv=t("Name()"),ov=t(" 메소드는 타입명을 문자열로 반환한다. 가장 마지막 출력 결과가 string임을 확인할 수 있다. 이처럼 "),_p=p("code"),lv=t("Name()"),cv=t("은 int와 같은 원시 타입이나 위 예제의 "),mp=p("code"),uv=t("Foo"),iv=t(`와 같은 구조체의 이름을 반환한다.
그러나 slice나 포인터 등은 달리 이름이 없기 때문에 빈 문자열을 반환한다.`),Nr=i(),_=p("p"),bp=p("code"),rv=t("reflect.Type"),kv=t("의 "),Cp=p("code"),fv=t("Kind()"),dv=t(" 메소드는 "),yp=p("code"),Ev=t("reflect.Kind"),vv=t(" 타입의 값을 반환하며, "),Op=p("code"),_v=t("reflect.Kind"),mv=t("는 해당 타입이 어떤 원시 타입으로 작성되었는지를 나타내는 상수값이다. 이를테면 slice, map, pointer, struct, interface, string, array, function, int 등, 어떠한 원시 타입인지 알려준다. "),Dp=p("code"),bv=t("reflect.Type"),Cv=t("과 "),wp=p("code"),yv=t("reflect.Kind"),Ov=t("는 다소 헷갈릴 수 있는데, 만약 위 예제를 예로 든다면 "),Pp=p("code"),Dv=t("Foo"),wv=t("의 타입은 "),Rp=p("code"),Pv=t('"Foo"'),Rv=t("가 될 것이고 종류는 "),Tp=p("code"),Tv=t("reflect.Struct"),Vv=t("가 될 것이다."),Mr=i(),kn=p("p"),Sv=t("종류는 매우 중요하다. Reflection을 사용할 때 유의해야 할 것이 있는데, "),Vp=p("code"),Fv=t("reflect"),xv=t(" 패키지는 개발자가 Reflection에 대해 잘 알고 있다고 가정한다. "),Sp=p("code"),Hv=t("reflect.Type"),Bv=t(" 등 "),Fp=p("code"),Lv=t("reflect"),Nv=t("의 타입들에 정의된 일부 메소드는 특정 종류에서만 말이 된다."),Ir=i(),H=p("p"),Mv=t("예를 들어 "),xp=p("code"),Iv=t("reflect.Type"),Gv=t("의 "),Hp=p("code"),Av=t("NumIn()"),Kv=t(`이라는 메소드가 있다.
만약 `),Bp=p("code"),Uv=t("reflect.Type"),$v=t("이 함수를 나타내고 있다면 "),Lp=p("code"),Wv=t("NumIn()"),qv=t(`은 입력 파라미터의 수를 반환하지만, 함수를 나타내고 있지 않다면 프로그램은 panic에 빠질 것이다.
따라서 종류를 사용하여 `),Np=p("code"),zv=t("reflect.Type"),Jv=t("이 어떤 메소드를 사용할 수 있고 어떤 메소드가 panic이 되는지 아는 게 중요하다."),Gr=i(),Ps=p("p"),Zv=t("아래 예제는 위 예제에서 "),Mp=p("code"),Xv=t("Kind()"),Qv=t(" 메소드를 통해 타입의 종류까지 출력하는 부분을 추가한 것이다."),Ar=i(),Fa=p("pre"),Kr=i(),jt=p("p"),jv=t("실행 결과는 다음과 같다."),Ur=i(),xa=p("pre"),$r=i(),Wr=p("br"),qr=i(),R=p("p"),Ip=p("code"),Yv=t("reflect.Type"),hv=t("의 또 다른 중요한 메소드는 "),Gp=p("code"),gv=t("Elem()"),n3=t(`이다.
Go에는 다른 타입을 참조하는 타입이 있으며, `),Ap=p("code"),s3=t("Elem()"),a3=t(`은 참조되는 타입이 어떤 타입인지 밝혀낸다.
이를테면 위 예시에서 종류가 `),Kp=p("code"),t3=t("ptr"),e3=t("이었던 "),Up=p("code"),p3=t("xpt"),o3=t(", "),$p=p("code"),l3=t("tt"),c3=t(" 부분을 다음과 같이 수정할 것이다."),zr=i(),Ha=p("pre"),Jr=i(),Yt=p("p"),u3=t("실행 결과는 다음과 같다."),Zr=i(),Ba=p("pre"),Xr=i(),E=p("p"),i3=t("만약 "),Wp=p("code"),r3=t("reflect.Type"),k3=t("이 포인터를 나타내고 있다면 "),qp=p("code"),f3=t("Elem()"),d3=t("은 그 포인터가 가리키는 타입의 "),zp=p("code"),E3=t("reflect.Type"),v3=t(`을 반환한다.
위 예제로 미루어 보아 `),Jp=p("code"),_3=t("xpt"),m3=t("는 int를, "),Zp=p("code"),b3=t("tt"),C3=t("는 "),Xp=p("code"),y3=t("rtype"),O3=t(`라는 이름의 구조체를 가리키는 포인터임을 알 수 있다.
`),Qp=p("code"),D3=t("Elem()"),w3=t(" 메소드는 "),jp=p("code"),P3=t("reflect.Type"),R3=t("이 포인터뿐 아니라 slice, map, channel, array를 나타낼 때도 동작한다. 한편 "),Yp=p("code"),T3=t("int"),V3=t(" 등의 원시 타입을 나타낸다면 panic이 발생한다."),Qr=i(),jr=p("br"),Yr=i(),T=p("p"),hp=p("code"),S3=t("reflect.Type"),F3=t("이 구조체를 나타내고 있다면 "),gp=p("code"),x3=t("NumField()"),H3=t(` 메소드를 사용하여 구조체에 존재하는 필드의 수를 알 수 있다.
또한 `),no=p("code"),B3=t("Field()"),L3=t(" 메소드를 통해 필드에 접근할 수 있다. "),so=p("code"),N3=t("Field()"),M3=t("는 "),ao=p("code"),I3=t("reflect.StructField"),G3=t("라는 타입으로 표현된 각 필드의 구조를 반환하며, "),to=p("code"),A3=t("reflect.StructField"),K3=t(`는 필드의 이름, 순서, 타입, 구조체 태그 정보를 가지고 있다.
다음의 예제를 살펴보자!`),hr=i(),La=p("pre"),gr=i(),V=p("p"),eo=p("code"),U3=t("Foo"),$3=t(" 인스턴스인 f를 "),po=p("code"),W3=t("reflect.TypeOf()"),q3=t("의 파라미터로 보내서, 구조체를 표현하는 "),oo=p("code"),z3=t("reflect.Type"),J3=t("을 "),lo=p("code"),Z3=t("ft"),X3=t(`에 저장한다.
그 후 `),co=p("code"),Q3=t("NumField()"),j3=t("로 필드 수 만큼 이터레이션을 돌며 "),uo=p("code"),Y3=t("Field()"),h3=t(" 메소드로 각 필드의 필드명, 타입, 태그 정보를 출력한다."),nk=i(),ht=p("p"),g3=t("실행 결과는 다음과 같다."),sk=i(),Na=p("pre"),ak=i(),fn=p("p"),n_=t("마찬가지로, 구조체가 아닌 "),io=p("code"),s_=t("reflect.Type"),a_=t("에서 "),ro=p("code"),t_=t("NumField()"),e_=t("나 "),ko=p("code"),p_=t("Field()"),o_=t(" 메소드를 호출하면 panic이 발생한다."),tk=i(),ek=p("br"),pk=i(),us=p("p"),fo=p("code"),l_=t("reflect.Type"),c_=t("에는 다른 더 많은 메소드가 존재하지만, 거의 비슷한 패턴을 따른다. 추가적인 정보를 원한다면 Go의 "),Ma=p("a"),u_=t("표준 라이브러리 문서"),i_=t("를 확인할 수 있다."),ok=i(),lk=p("br"),ck=p("br"),uk=i(),Rs=p("h3"),Ts=p("a"),Eo=p("span"),r_=t("Values"),ik=i(),In=p("p"),k_=t("Reflection을 통해 변수의 타입 뿐 아니라, 변수의 값도 읽어올 수 있다. "),vo=p("code"),f_=t("reflect.ValueOf()"),d_=t(" 함수를 호출하면 변수의 값을 나타내는 "),_o=p("code"),E_=t("reflect.Value"),v_=t(" 인스턴스를 생성할 수 있다."),rk=i(),Ia=p("pre"),kk=i(),B=p("p"),__=t("Go의 모든 변수는 타입이 존재하기 때문에 "),mo=p("code"),m_=t("reflect.Value"),b_=t("에는 "),bo=p("code"),C_=t("reflect.Type"),y_=t("을 반환하는 "),Co=p("code"),O_=t("Type()"),D_=t("이란 메소드가 존재하며, "),yo=p("code"),w_=t("reflect.Type"),P_=t("처럼 종류를 반환하는 "),Oo=p("code"),R_=t("Kind()"),T_=t(" 메소드가 존재한다."),fk=i(),xn=p("p"),Do=p("code"),V_=t("reflect.Type"),S_=t("이 변수의 타입에 대한 정보를 찾는 메소드를 가지고 있는 것처럼, "),wo=p("code"),F_=t("reflect.Value"),x_=t("은 변수의 값에 대한 정보를 찾는 메소드를 가지고 있다. 마찬가지로 이들 모두를 다루진 않겠지만, 변수의 값을 얻고자 할 때 "),Po=p("code"),H_=t("reflect.Value"),B_=t("를 어떻게 사용하는지 확인해볼 것이다."),dk=i(),Ek=p("br"),vk=i(),dn=p("p"),L_=t("먼저 "),Ro=p("code"),N_=t("reflect.Value"),M_=t("에서 값을 다시 읽어오는 방법을 살펴볼 것이다. "),To=p("code"),I_=t("reflect.Value"),G_=t("의 "),Vo=p("code"),A_=t("Interface()"),K_=t(" 메소드는 변수의 값을 빈 인터페이스로 반환한다."),_k=i(),Ga=p("pre"),mk=i(),S=p("p"),So=p("code"),U_=t("Interface()"),$_=t("는 모든 종류의 값을 포함하는 "),Fo=p("code"),W_=t("reflect.Value"),q_=t(` 인스턴스에 대해 호출할 수 있다. 하지만 변수의 종류가 Bool, Complex, Int, Uint, Float, String과 같은 Built-in 원시 타입인 경우 사용할 수 있는 특수한 메소드가 있다.
`),xo=p("code"),z_=t("Bytes()"),J_=t(" 메소드는 변수의 타입이 "),Ho=p("code"),Z_=t("[]bytes"),X_=t(`이면 사용할 수 있다.
`),Bo=p("code"),Q_=t("reflect.Type"),j_=t("에서처럼, "),Lo=p("code"),Y_=t("reflect.Value"),h_=t("에서 변수의 타입과 맞지 않는 메소드를 호출한다면 프로그램이 panic에 빠진다."),bk=i(),Ck=p("br"),yk=i(),gt=p("p"),g_=t("Reflection을 통해 변수의 값을 설정할 수도 있지만, 다음과 같은 세 단계를 거쳐야 한다."),Ok=i(),Gn=p("p"),n5=t("첫 번째로, 변수의 포인터를 "),No=p("code"),s5=t("reflect.ValueOf()"),a5=t("의 파라미터로 보낸다. 이렇게 하면 포인터를 나타내는 "),Mo=p("code"),t5=t("reflect.Value"),e5=t("를 반환한다."),Dk=i(),Aa=p("pre"),wk=i(),m=p("p"),p5=t("다음으로, 설정해야 할 실제 값을 얻는다. "),Io=p("code"),o5=t("reflect.Value"),l5=t("의 "),Go=p("code"),c5=t("Elem()"),u5=t(" 메소드를 사용하여, 포인터가 가리키는 값을 얻을 수 있다. "),Ao=p("code"),i5=t("reflect.Type"),r5=t("의 "),Ko=p("code"),k5=t("Elem()"),f5=t("처럼, "),Uo=p("code"),d5=t("reflect.Value"),E5=t("의 "),$o=p("code"),v5=t("Elem()"),_5=t("은 포인터가 가리키는 값을 "),Wo=p("code"),m5=t("reflect.Value"),b5=t(" 또는 인터페이스로 반환한다."),Pk=i(),Ka=p("pre"),Rk=i(),L=p("p"),C5=t(`마지막으로 값을 수정한다.
앞서 언급하였듯 값의 종류가 원시 타입일 때만 쓸 수 있는 특수한 메소드가 존재하며, 그것이 값을 설정하는 `),qo=p("code"),y5=t("SetBool"),O5=t(", "),zo=p("code"),D5=t("SetInt"),w5=t(", "),Jo=p("code"),P5=t("SetFloat"),R5=t(", "),Zo=p("code"),T5=t("SetString"),V5=t(` 등이다.
예제에서는 `),Xo=p("code"),S5=t("SetInt()"),F5=t("를 사용하여 값을 수정하였으며, 이렇게 하면 i의 값이 변경된다."),Tk=i(),Ua=p("pre"),Vk=i(),X=p("p"),x5=t("다른 모든 타입들에 대해서는 "),Qo=p("code"),H5=t("reflect.Value"),B5=t("를 파라미터로 받는 "),jo=p("code"),L5=t("Set()"),N5=t(`을 호출해야 한다.
값을 변경하는 게 아니라 이 값을 읽는 것이기 때문에, 설정하고자 하는 값은 포인터일 필요가 없다.
또한 `),Yo=p("code"),M5=t("Interface()"),I5=t("를 사용하여 원시 타입을 읽을 수 있듯, "),ho=p("code"),G5=t("Set()"),A5=t("을 호출하여 원시 타입을 설정할 수 있다."),Sk=i(),Vs=p("p"),K5=t("값을 변경하기 위해 "),go=p("code"),U5=t("reflect.ValueOf()"),$5=t(`의 파라미터로 포인터를 전달해야 하는 이유는 Go의 다른 함수와 동일하다.
다른 함수에서는 파라미터를 포인터 타입으로 지정하여 파라미터의 값을 변경할 수 있음을 나타내고, 변수의 값을 변경할 때 포인터에 dereference하여 값을 변경한다.
즉, 다음의 두 함수는 동일한 과정을 거친다고 볼 수 있다!`),Fk=i(),$a=p("pre"),xk=i(),ne=p("p"),W5=t("만약 다음과 같이 포인터를 거치지 않는다면 변수의 값을 읽어오는 데에는 문제가 없겠지만, 값을 설정할 때 panic이 발생한다."),Hk=i(),Wa=p("pre"),Bk=i(),Lk=p("br"),Nk=p("br"),Mk=i(),Ss=p("h3"),Fs=p("a"),nl=p("span"),q5=t("Making New Values"),Ik=i(),b=p("p"),z5=t(`Reflection을 사용하는 최선의 방법을 살펴보기에 앞서, 값을 생성하는 방법에 대해서도 알아보려 한다.
`),sl=p("code"),J5=t("reflect.New()"),Z5=t(" 함수는 "),al=p("code"),X5=t("new()"),Q5=t(` 함수의 reflection 버전이라고 볼 수 있다.
`),tl=p("code"),j5=t("reflect.New()"),Y5=t("는 "),el=p("code"),h5=t("reflect.Type"),g5=t("을 파라미터로 받아 명시된 타입의 "),pl=p("code"),n4=t("reflect.Value"),s4=t("를 가리키는 포인터 타입의 "),ol=p("code"),a4=t("reflect.Value"),t4=t(`를 반환한다.
반환값이 포인터이기 때문에, `),ll=p("code"),e4=t("Interface()"),p4=t(" 메소드를 사용하여 수정한 후 변수에 할당할 수 있다."),Gk=i(),is=p("p"),cl=p("code"),o4=t("reflect.New()"),l4=t("가 스칼라 타입의 포인터를 생성하는 것처럼, "),ul=p("code"),c4=t("make()"),u4=t(" 함수에 대응되는 함수가 Reflection에도 존재한다."),Ak=i(),qa=p("pre"),Kk=i(),xs=p("p"),i4=t("이러한 함수들은 포함된 타입이 아니라 복합 타입을 나타내는 "),il=p("code"),r4=t("reflect.Type"),k4=t("을 파라미터로 받는다."),Uk=i(),$k=p("br"),Wk=i(),rs=p("p"),rl=p("code"),f4=t("reflect.Type"),d4=t("을 구성할 때는 항상 값에서 시작해야 하지만 마땅한 값이 없는 경우 "),kl=p("code"),E4=t("reflect.Type"),v4=t("을 나타내는 변수를 만들 수 있는 방법이 있다."),qk=i(),za=p("pre"),zk=i(),f=p("p"),_4=t("위 예제에서 변수 "),fl=p("code"),m4=t("stringType"),b4=t("은 "),dl=p("code"),C4=t("string"),y4=t("을 나타내는 "),El=p("code"),O4=t("reflect.Type"),D4=t("을 갖게 되며, "),vl=p("code"),w4=t("stringSliceType"),P4=t("은 "),_l=p("code"),R4=t("[]string"),T4=t("을 타나내는 "),ml=p("code"),V4=t("reflect.Type"),S4=t(`을 갖게 된다.
`),bl=p("code"),F4=t("stringType"),x4=t("의 경우 해석하기 좀 어려울 수 있지만 포인터 타입을 먼저 생성한 뒤 "),Cl=p("code"),H4=t("Elem()"),B4=t("을 호출하여 결국 "),yl=p("code"),L4=t("string"),N4=t("을 나타내는 "),Ol=p("code"),M4=t("reflect.Type"),I4=t(`을 얻는 것이다.
`),Dl=p("code"),G4=t("stringSliceType"),A4=t("의 경우는 "),wl=p("code"),K4=t("[]string"),U4=t("의 기본값 자체가 "),Pl=p("code"),$4=t("nil"),W4=t("이기 때문에 위처럼 위와 같은 절차를 거치면 "),Rl=p("code"),q4=t("[]string"),z4=t("을 타나내는 "),Tl=p("code"),J4=t("reflect.Type"),Z4=t("을 얻을 수 있다."),Jk=i(),Q=p("p"),X4=t("이렇게 얻은 "),Vl=p("code"),Q4=t("stringType"),j4=t("와 "),Sl=p("code"),Y4=t("stringSliceType"),h4=t("을 "),Fl=p("code"),g4=t("reflect.New()"),n6=t("와 "),xl=p("code"),s6=t("reflect.MakeSlice()"),a6=t("의 파라미터로 보내 값을 생성할 수 있다."),Zk=i(),Ja=p("pre"),Xk=i(),se=p("p"),t6=t("실행하면 다음과 같은 결과를 확인할 수 있다."),Qk=i(),Za=p("pre"),jk=i(),Yk=p("br"),hk=p("br"),gk=i(),Hs=p("h3"),Bs=p("a"),Hl=p("span"),e6=t("Use Reflection to Check If an Interface’s Value Is nil"),nf=i(),An=p("p"),p6=t(`interface는 두 가지 nil을 가질 수 있다. 첫 번째는 interface가 가리키는 타입이 nil인 경우(즉 아무 것도 가리키지 않는 상태. 이 경우를 nul 인터페이스라고 함)이고, 두 번째는 interface가 가리키는 타입은 nil이 아니지만 값이 nil인 경우이다.
만약 interface가 가리키는 값이 nil인지 확인하고 싶다면 reflection의 `),Bl=p("code"),o6=t("IsValid()"),l6=t("와 "),Ll=p("code"),c6=t("IsNil()"),u6=t(" 메소드를 활용해야 한다."),sf=i(),Xa=p("pre"),af=i(),F=p("p"),Nl=p("code"),i6=t("IsValid()"),r6=t("는 "),Ml=p("code"),k6=t("reflect.Value"),f6=t("가 nil 인터페이스 이외의 다른 타입을 나타내는 경우 "),Il=p("code"),d6=t("true"),E6=t(`를 반환한다.
만일 `),Gl=p("code"),v6=t("reflect.Value"),_6=t("가 nil 인터페이스라서 "),Al=p("code"),m6=t("IsValid()"),b6=t("의 값이 "),Kl=p("code"),C6=t("true"),y6=t("인 상태에서, 다른 메소드를 호출하면 panic에 빠지기 때문이다."),tf=i(),U=p("p"),Ul=p("code"),O6=t("IsNil()"),D6=t("은 "),$l=p("code"),w6=t("reflect.Value"),P6=t("의 값이 nil이라면 true를 반환한다. "),Wl=p("code"),R6=t("IsNil()"),T6=t("를 호출하기에 앞서 먼저 "),ql=p("code"),V6=t("Kind()"),S6=t("로 값의 종류를 검사하는 것을 알 수 있다. 어느 정도 예상할 수 있듯, 변수의 Zero value nil이 아닌 타입(int 등)일 때 "),zl=p("code"),F6=t("IsNil()"),x6=t("을 호출하면 panic이 발생하기 때문이다."),ef=i(),pf=p("br"),of=p("br"),lf=i(),Ls=p("h3"),Ns=p("a"),Jl=p("span"),H6=t("Use Reflection to Write a Data Marshaler"),cf=i(),ae=p("p"),B6=t("앞서 언급했듯 Replection은 marshaling과 unmarshaling을 구현하기 위해 사용된다. 우리는 데이터 marshaler를 직접 설계하여 어떻게 사용되는 지 알아보려 한다!"),uf=i(),Kn=p("p"),L6=t("Go는 CSV 파일을 읽고 쓰기 위해 "),Zl=p("code"),N6=t("csv.NewReader"),M6=t("와 "),Xl=p("code"),I6=t("csv.NewWriter"),G6=t(" 함수를 제공하지만 데이터를 구조체로 매핑해주는 기능은 따로 없다. 이 기능을 직접 구현해볼 것이다."),rf=i(),kf=p("br"),ff=i(),te=p("p"),A6=t("먼저 데이터 타입을 정의한다. 구조체 태그를 달아서, 다른 marshaler처럼 데이터에 존재하는 필드가 구조체의 각 필드에 매핑될 수 있게끔 한다."),df=i(),Qa=p("pre"),Ef=i(),ee=p("p"),K6=t("public API는 두 개의 함수로 구성된다."),vf=i(),ja=p("pre"),_f=i(),Ms=p("p"),U6=t("먼저 "),Ql=p("code"),$6=t("Marshal()"),W6=t(" 함수를 작성해 보자."),mf=i(),Ya=p("pre"),bf=i(),Is=p("p"),q6=t("어떤 종류의 구조체든 marsharling이 가능해야 하기 떄문에, "),jl=p("code"),z6=t("interface{}"),J6=t(" 타입의 파라미터를 사용한다. 데이터를 수정하지 않고 읽기만 할 것이기 때문에 구조체의 slice에 대한 포인터가 아니다."),Cf=i(),N=p("p"),Z6=t("먼저, csv의 첫 줄은 각 열의 이름이 저장된 헤더가 될 것이므로, 구조체에 명시된 구조체 태그로부터 열 이름을 가져와 출력 데이터에 추가한다. slice의 "),Yl=p("code"),X6=t("reflect.Value"),Q6=t("에서 "),hl=p("code"),j6=t("Type()"),Y6=t(" 메소드를 호출하여 "),gl=p("code"),h6=t("reflect.Type"),g6=t("을 얻고, 다시 "),nc=p("code"),n9=t("Elem()"),s9=t("을 호출하여 slice의 내부 타입 정보를 얻는다. 그리하여 얻은 타입 정보를 "),sc=p("code"),a9=t("marshalHeader()"),t9=t("에 전달하여 반환된 값을 출력 데이터에 추가하는 것이다."),yf=i(),Un=p("p"),e9=t("이후 구조체 slice의 이터레이션을 돌면서 각 인덱스의 "),ac=p("code"),p9=t("reflect.Value"),o9=t("를 "),tc=p("code"),l9=t("marshalOne()"),c9=t("의 파라미터로 보내서 반환된 값을 출력 데이터에 추가한다. 이터레이션이 끝나면 값을 반환한다."),Of=i(),ha=p("p"),ec=p("code"),u9=t("marshalHeader()"),i9=t("는 다음과 같이 작성되었다."),Df=i(),ga=p("pre"),wf=i(),$n=p("p"),r9=t("구조체를 나타내는 "),pc=p("code"),k9=t("reflect.Type"),f9=t("의 각 필드에 대해 이터레이션을 돌며, "),oc=p("code"),d9=t("csv"),E9=t(" 태그를 읽고 출력 slice에 추가하여 반환한다."),Pf=i(),Gs=p("p"),v9=t("그리고 "),lc=p("code"),_9=t("marshalOne()"),m9=t("은 다음과 같이 작성되었다."),Rf=i(),nt=p("pre"),Tf=i(),Wn=p("p"),b9=t("구조체를 나타내는 "),cc=p("code"),C9=t("vv reflect.Value"),y9=t("를 파라미터로 받고, "),uc=p("code"),O9=t("Kind()"),D9=t(" 메소드로 각 필드의 종류를 보고 문자열로 적절히 변환해준 후 출력한다."),Vf=i(),Sf=p("br"),Ff=i(),As=p("p"),w9=t("이제 "),ic=p("code"),P9=t("Unmarshal()"),R9=t(" 함수를 작성해보자."),xf=i(),st=p("pre"),Hf=i(),Ks=p("p"),T9=t("데이터를 복사할 것이기 때문에, "),rc=p("code"),V9=t("Unmarshal()"),S9=t(`에서 파라미터로 받는 데이터는 구조체 slice의 포인터여야 한다.
함수 최상단에 이를 검사하는 부분이 존재한다. 이후 차례로 포인터가 가리키는 slice, slice가 저장하는 구조체를 검사한다.`),Bf=i(),Us=p("p"),F9=t("데이터의 첫째 줄은 각 열의 이름이 저장된 헤더이다. 이 정보를 통해 구조체의 "),kc=p("code"),x9=t("csv"),H9=t(" 태그를 각 인덱스에 대응시키는 map을 생성할 수 있다."),Lf=i(),j=p("p"),B9=t("이후 데이터의 각 행마다 이터레이션을 돌며 새로운 "),fc=p("code"),L9=t("structType"),N9=t(" 타입의 "),dc=p("code"),M9=t("reflect.Value"),I9=t("를 생성한다. 그리고 "),Ec=p("code"),G9=t("unmarshalOne()"),A9=t("을 호출하여 각 행의 데이터를"),vc=p("code"),K9=t("reflect.Value"),U9=t("에 복사한 후 출력 데이터에 추가한다."),Nf=i(),at=p("p"),_c=p("code"),$9=t("unmarshalOne()"),W9=t("은 다음과 같이 작성되었다."),Mf=i(),tt=p("pre"),If=i(),En=p("p"),q9=t("이 함수는 새로 생성된 reflect.Value 타입의 각 필드에 대해 이터레이션을 돌며, "),mc=p("code"),z9=t("csv"),J9=t(" 태그의 이름을 통해 "),bc=p("code"),Z9=t("namePos"),X9=t(" 맵에서 "),Cc=p("code"),Q9=t("data"),j9=t(" slice의 위치를 찾아 문자열로 변환된 값을 저장한다."),Gf=i(),Af=p("br"),Kf=i(),pe=p("p"),Y9=t("이제 작성한 marshaler와 unmarshaler를 통해 csv를 분석해보자!"),Uf=i(),et=p("pre"),$f=i(),Wf=p("br"),qf=i(),$s=p("p"),h9=t("전체 예제 코드는 "),pt=p("a"),g9=t("https://go.dev/play/p/3kwe7ag1i1C"),n7=t("에서 확인할 수 있다."),zf=i(),Jf=p("br"),Zf=p("br"),Xf=i(),Ws=p("h3"),qs=p("a"),yc=p("span"),s7=t("Build Functions with Reflection to Automate Repetitive Tasks"),Qf=i(),oe=p("p"),a7=t(`Reflection을 통해 반복적인 코드를 작성하지 않고, 기존 함수를 감싸 재사용하여 함수를 생성할 수도 있다.
다음의 예제는 들어온 파라미터로 함수에 시간을 재는 기능이 추가된 함수를 반환하는 Factory 함수이다.`),jf=i(),ot=p("pre"),Yf=i(),M=p("p"),t7=t("이 함수는 함수를 파라미터로 받아, 함수를 나타내는 "),Oc=p("code"),e7=t("reflect.Type"),p7=t("을 얻어 "),Dc=p("code"),o7=t("reflect.MakeFunc()"),l7=t(`로 보낸다.
이후 `),wc=p("code"),c7=t("reflect.MakeFunc()"),u7=t(`로 시작 시각을 얻고, 기존 함수를 호출하고, 종료 시각을 얻어서 시간차를 출력하고, 기존 함수의 반환값을 반환 하는 함수를 작성한다.
이후 해당 함수를 가리키는 `),Pc=p("code"),i7=t("reflect.Value"),r7=t("를 "),Rc=p("code"),k7=t("Interface()"),f7=t(" 메소드를 통해 반환할 함수를 얻는다."),hf=i(),le=p("p"),d7=t("위 함수는 다음과 같이 사용할 수 있다."),gf=i(),lt=p("pre"),nd=i(),ce=p("p"),E7=t(`이처럼 Reflection을 통해 함수를 생성할 수는 있지만 이 기능을 사용할 때는 주의해야 한다.
언제 함수를 생성할지, 어떤 기능을 추가할지에 대해 확실히 해 두는 편이 좋다. 그렇지 않으면 프로그램 내 데이터 흐름을 이해하기 더욱 어려워질 것이다.`),sd=i(),ue=p("p"),v7=t("뿐만 아니라 기본적으로 Reflection은 프로그램을 느리게 만든다. 네트워크 통신 같은 원래 느린 동작을 하는 게 아닌 이상, 함수를 생성하고 생성된 함수를 호출하는 것은 성능에 중대한 영향을 미칠 것이다. 다시 한번 언급하지만, Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 매핑할 때 유용하다."),ad=i(),td=p("br"),ed=p("br"),pd=i(),zs=p("h3"),Js=p("a"),Tc=p("span"),_7=t("What you shouldn’t do with Reflection"),od=i(),tn=p("p"),Vc=p("code"),m7=t("reflect.StructOf()"),b7=t(" 함수는 "),Sc=p("code"),C7=t("reflect.StructField"),y7=t("의 slice를 파라미터로 받아 새로운 구조체 타입을 가리키는 "),Fc=p("code"),O7=t("reflect.Type"),D7=t("을 반환한다. 이렇게 생성된 구조체는 "),xc=p("code"),w7=t("interface{}"),P7=t("를 통해서만 변수에 할당될 수 있으며, Reflection을 사용해야만 데이터를 읽고 쓸 수 있다."),ld=i(),ie=p("p"),R7=t("근데 굳이 이렇게까지 할 필요가 없다. 이 기능은 학술적인 목적에서만 사용된다고 하며, 우리 같은 일반 사용자들은 그냥 구조체 선언해서 쓰자. 하지말라면 하지마!"),cd=i(),ud=p("br"),id=i(),re=p("p"),T7=t("또한 Reflection으로는 메소드를 만들 수도 없다. 함수나 구조체 타입은 만들 수 있긴 한데, 타입에 메소드를 추가할 수는 없다. 당연히 인터페이스를 만드는 것도 안된다."),rd=i(),kd=p("br"),fd=p("br"),dd=i(),Zs=p("h3"),Xs=p("a"),Hc=p("span"),V7=t("Only Use Reflection If It’s Worthwhile"),Ed=i(),ke=p("p"),S7=t(`입이 닳도록 말하지만 Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 변환할 때 필수적이다.
하지만 그 외의 상황에서는 사용에 주의를 기울여야 한다.`),vd=i(),qn=p("p"),F7=t("이를테면 여러 언어에 존재하는 "),Bc=p("code"),x7=t("Filter()"),H7=t(" 함수를 작성한다고 가정해보자. 만약 문자열에 대해 동작하는 "),Lc=p("code"),B7=t("Filter()"),L7=t("함수를 작성한다면 아래와 같이 작성할 것이다."),_d=i(),ct=p("pre"),md=i(),fe=p("p"),N7=t("반면 단일 타입이 아니라 여러 타입에 대해 연산을 가능하게 한다고 가정할 때, 이런 함수는 Reflection을 통해서 작성할 수 있다."),bd=i(),ut=p("pre"),Cd=i(),de=p("p"),M7=t("그리고 아래와 같이 호출하여 사용한다."),yd=i(),it=p("pre"),Od=i(),ks=p("p"),Nc=p("code"),I7=t("ReflectedFilter()"),G7=t(" 함수는 어렵지 않지만 "),Mc=p("code"),A7=t("Filter()"),K7=t(`보다는 분명히 길다.
게다가 성능을 측정해보면 Reflection을 사용한 코드는 사용하지 않은 코드보다 30~70배 느린 것을 확인할 수 있다.`),Dd=i(),rt=p("pre"),wd=i(),Ee=p("p"),U7=t(`더 많은 메모리를 사용하고 수천 회의 메모리 할당이 일어나므로 가비지 컬렉터가 해야 할 일이 늘어나기 때문이다.
즉, 필요에 따라 Reflection을 사용할 수는 있지만 충분히 고민을 거쳐야 한다.`),Pd=i(),ve=p("p"),$7=t(`성능 이슈보다 중요한 문제는 파라미터로 잘못된 타입을 넘기는 것을 컴파일러가 잡아주지 못한다는 것이다.
특정 타입만 허용해주는 작업을 반복적으로 진행해야 하기 떄문에 에러를 찾기도 힘들며, 코드의 유지보수 난이도가 증가한다.`),Rd=i(),Td=p("br"),Vd=p("br"),Sd=i(),Qs=p("h2"),js=p("a"),Ic=p("span"),W7=t("unsafe is Unsafe"),Fd=i(),Hn=p("p"),Gc=p("code"),q7=t("reflect"),z7=t(" 패키지를 통해 타입, 값을 조작할 수 있듯, "),Ac=p("code"),J7=t("unsafe"),Z7=t(` 패키지를 통해 메모리를 조작할 수 있다.
그러나 `),Kc=p("code"),X7=t("unsafe"),Q7=t(" 패키지는 굉장히 특이한 3개의 함수와 하나의 타입을 정의하는데, 다른 패키지의 함수나 타입과는 완전히 다르다고 볼 수 있다."),xd=i(),vn=p("p"),j7=t("함수 "),Uc=p("code"),Y7=t("Sizeof()"),h7=t(`는 특정 타입의 변수가 몇 바이트를 사용하고 있는지 반환한다.
함수 `),$c=p("code"),g7=t("Offsetof()"),n8=t(`는 구조체의 필드가 구조체의 시작점으로부터 몇 바이트 떨어져 있는지 반환한다.
함수 `),Wc=p("code"),s8=t("Alignof()"),a8=t(`는 변수 또는 필드가 얼마만큼 byte alignment를 필요로 하는지 반환한다.
어떤 값이든 이 함수들의 파라미터로 보낼 수 있으며, 반환되는 값은 상수이므로 상수 표현식에 사용할 수 있다.`),Hd=i(),$=p("p"),qc=p("code"),t8=t("unsafe.Pointer"),e8=t(" 타입은 모든 유형의 포인터를 "),zc=p("code"),p8=t("unsafe.Pointer"),o8=t("로 변환하거나, 또는 "),Jc=p("code"),l8=t("unsafe.Pointer"),c8=t(`를 변환하여 포인터를 얻을 수 있는 특별한 타입이다.
또한 `),Zc=p("code"),u8=t("unsafe.Pointer"),i8=t("는 "),Xc=p("code"),r8=t("uintptr"),k8=t(`이라고 하는 특별한 정수형 타입으로도 변환할 수 있으며, C/C++처럼 이 타입을 통해 수학적 연산도 가능하다.
이렇게 하면 특정 타입의 인스턴스로 들어가서 각각의 바이트를 추출할 수 있으며, 바이트를 조작하면 변수의 실제 값이 변경된다.`),Bd=i(),I=p("p"),f8=t("일반적으로 "),Qc=p("code"),d8=t("unsafe"),E8=t(` 패키지를 사용하는 두 가지 패턴이 있다.
첫 번째는 일반적으로 변환할 수 없는 두 타입간의 변수를 변환하는 것이다. `),jc=p("code"),v8=t("unsafe.Pointer"),_8=t(`를 가운데 두고 몇 단계의 타입 변환을 거쳐 수행할 수 있다.
두 번째는 변수를 `),Yc=p("code"),m8=t("unsafe.Pointer"),b8=t("로 변환하고 "),hc=p("code"),C8=t("unsafe.Pointer"),y8=t("를 "),gc=p("code"),O8=t("uintptr"),D8=t("로 변환한 다음, 바이트에 접근하여 복사하거나 조작하는 것이다."),Ld=i(),Nd=p("br"),Md=p("br"),Id=i(),Ys=p("h3"),hs=p("a"),nu=p("span"),w8=t("Use unsafe to Convert External Binary Data"),Gd=i(),Y=p("p"),P8=t("Go는 메모리 안정성을 중요시 하는 언어인데 왜 "),su=p("code"),R8=t("unsafe"),T8=t(`같은 패키지가 존재하는가에 대해 의문이 생길 것이다.
Go 프로그램과 외부 세계의 사이에서 데이터를 변환하기 위해 `),au=p("code"),V8=t("reflect"),S8=t("를 사용하는 것처럼, 바이너리 데이터를 변환하기 위해 "),tu=p("code"),F8=t("unsafe"),x8=t(`를 사용한다.
실제로 `),eu=p("code"),H8=t("unsafe"),B8=t("가 사용되는 목적을 살펴보면 주로 운영체제 또는 C로 작성된 코드와의 통합을 위해 사용되거나, 코드 최적화를 위해 사용된다."),Ad=i(),zn=p("p"),L8=t("특히 네트워크로부터 데이터를 읽어들이거나 전송할 때 "),pu=p("code"),N8=t("unsafe"),M8=t("의 "),ou=p("code"),I8=t("unsafe.Pointer"),G8=t(`를 사용하여 데이터를 매핑하면 매우 빠르다.
가령 다음과 같은 구조의 데이터 프로토콜이 있다고 해보자.`),Kd=i(),_n=p("ul"),lu=p("li"),A8=t("Value: 4 바이트, big endian, unsigned int"),K8=i(),cu=p("li"),U8=t("Label: 10 바이트, 값에 대한 ASCII 이름"),$8=i(),uu=p("li"),W8=t("Active: 1 바이트, 필드가 활성화되어 있는지 나타내기 위한 플래그"),q8=i(),iu=p("li"),z8=t("Padding: 데이터를 16바이트로 맞춰주기 위한 Padding"),Ud=i(),_e=p("blockquote"),ru=p("p"),J8=t(`네트워크상의 데이터는 대부분 Big endian 또는 Network Byte Order로, most significant byte가 가장 작은 주소에 할당된다.
반면 오늘날 대부분의 CPU에서는 least significant byte가 가장 작은 주소에 할당되는 little endian을 사용한다.
네트워크상의 데이터를 읽거나 쓸 때는 데이터의 처리에 주의해야 한다.`),$d=i(),Wd=p("br"),qd=i(),me=p("p"),Z8=t("다음과 같은 구조체를 정의한다."),zd=i(),kt=p("pre"),Jd=i(),be=p("p"),X8=t("그리고, 네트워크로부터 다음과 같은 바이트 열을 읽었다고 가정해보자."),Zd=i(),ft=p("pre"),Xd=i(),gs=p("p"),Q8=t("이제 이 데이터를 길이가 16인 바이트로 읽은 후, "),ku=p("code"),j8=t("Data"),Y8=t(` 구조체로 변환할 것이다.
안전한 Go 코드에서는 다음과 같은 코드로 데이터 매핑을 할 수 있다.`),Qd=i(),dt=p("pre"),jd=i(),na=p("p"),h8=t("혹은 이렇게 "),fu=p("code"),g8=t("unsafe.Pointer"),n0=t("를 사용할 수도 있다."),Yd=i(),Et=p("pre"),hd=i(),h=p("p"),s0=t("먼저 "),du=p("code"),a0=t("[16]byte"),t0=t("의 포인터를 "),Eu=p("code"),e0=t("unsafe.Pointer"),p0=t("로 변환한 후 이를 다시 "),vu=p("code"),o0=t("*Data"),l0=t(`로 변환한다.
구조체의 포인터가 아니라 값을 반환할 것이기 때문에 가장 바깥에서 `),_u=p("code"),c0=t("*"),u0=t(`를 통해 포인터를 derefernce해준다.
이때 little endian 플랫폼이라면 값을 뒤집어주는 작업을 거친 후 데이터를 반환해준다.`),gd=i(),Ce=p("p"),i0=t("Go 프로그램이 little endian 플랫폼에서 돌아가고 있는지 다음과 같이 확인할 수 있다."),n1=i(),vt=p("pre"),s1=i(),Bn=p("p"),mu=p("code"),r0=t("init()"),k0=t(" 함수의 사용은 최대한 피해야 하지만, 지금의 경우는 실질적으로 변하지 않는 패키지 변수를 초기화하는 경우이므로 "),bu=p("code"),f0=t("init()"),d0=t("을 사용하여 "),Cu=p("code"),E0=t("isLE"),v0=t(`를 초기화한다.
프로그램 런타임 중 프로세서의 endian이 변할 일은 없기 때문에 적절한 용례라고 볼 수 있다.`),a1=i(),mn=p("p"),_0=t("litten endian 플랫폼에서는 "),yu=p("code"),m0=t("x"),b0=t(`의 바이트 열이 [00 FF]로 저장되지만 big endian 플랫폼에서는 [FF 00]으로 저장된다.
따라서 `),Ou=p("code"),C0=t("unsafe.Pointer"),y0=t("로 정수를 바이트 열로 변환한 후, 첫 번째 바이트의 값을 확인하여 "),Du=p("code"),O0=t("isLE"),D0=t("를 결정할 수 있다."),t1=i(),e1=p("br"),p1=i(),ye=p("p"),w0=t("마찬가지로 네트워크상에 데이터를 전송하는 경우, 안전한 Go 코드는 다음과 같다."),o1=i(),_t=p("pre"),l1=i(),sa=p("p"),P0=t("그리고 "),wu=p("code"),R0=t("unsafe"),T0=t("를 사용하면 다음과 같다."),c1=i(),mt=p("pre"),u1=i(),aa=p("p"),V0=t("실제로 성능을 비교해보면, "),Pu=p("code"),S0=t("unsafe"),F0=t("를 사용한 코드가 두 배 가량 빠르다고 한다."),i1=i(),bt=p("pre"),r1=i(),Oe=p("p"),x0=t("..나는 두 배가 아닌데..?"),k1=i(),De=p("p"),H0=t(`어쨌든 이러한 로우레벨 기술을 활용하여 퍼포먼스를 끌어올려야 하는 프로그램에서는 유용하게 사용할 수 있을 것이다.
다만 대부분의 프로그램에서는 이렇게까지 할 필요는 없고 그냥 안전한 코드를 쓰자.`),f1=i(),d1=p("br"),E1=p("br"),v1=i(),ta=p("h3"),ea=p("a"),Ru=p("span"),B0=t("unsafe Strings and Slices"),_1=i(),Ct=p("p"),Tu=p("code"),L0=t("unsafe"),N0=t("에서도 slice나 string을 사용할 수 있다."),m1=i(),g=p("p"),M0=t("우선 "),Vu=p("code"),I0=t("string"),G0=t(`은 기본적으로 byte 열의 포인터와 길이로 이루어 있다.
`),Su=p("code"),A0=t("reflect"),K0=t(" 패키지에는 이러한 구조를 가지고 있는 "),Fu=p("code"),U0=t("reflect.StringHeader"),$0=t("라는 타입이 존재하며, 이를 통해 "),xu=p("code"),W0=t("string"),q0=t(`의 내부적 구조에 접근하여 조작할 수 있다.
아래 예제는 길이 정보에 접근하는 예제이다.`),b1=i(),yt=p("pre"),C1=i(),bn=p("p"),z0=t("또한 "),Hu=p("code"),J0=t("sHdr"),Z0=t("의 "),Bu=p("code"),X0=t("Data"),Q0=t(" 필드에 접근하여 “pointer arithmetic”을 통해 문자열 내부의 바이트를 읽을 수 있다. 이때 피연산자의 타입은 "),Lu=p("code"),j0=t("uintptr"),Y0=t("여야 한다. C/C++에서 보던 것과 유사한 접근이다!"),y1=i(),Ot=p("pre"),O1=i(),O=p("p"),Nu=p("code"),h0=t("reflect.StringHeader"),g0=t("의 "),Mu=p("code"),nm=t("Data"),sm=t(" 필드는 "),Iu=p("code"),am=t("uintptr"),tm=t(` 유형이다.
그런데 가비지 컬렉터의 존재로 인해 `),Gu=p("code"),em=t("uintptr"),pm=t(`을 통해 유효한 메모리를 단일 구문 이상 참조할 수는 없다.
이때 `),Au=p("code"),om=t("runtime.KeepAlive(s)"),lm=t("를 함수의 마지막에 추가하면, Go 런타임의 가비지 컬렉터가 "),Ku=p("code"),cm=t("KeepAlive()"),um=t("를 호출할 때까지 "),Uu=p("code"),im=t("s"),rm=t("를 수집하지 않게 된다."),D1=i(),w1=p("br"),P1=i(),D=p("p"),$u=p("code"),km=t("unsafe"),fm=t(" 패키지를 통해 string으로부터 "),Wu=p("code"),dm=t("reflect.StringHeader"),Em=t("을 얻을 수 있듯, slice로부터 "),qu=p("code"),vm=t("reflect.SliceHeader"),_m=t(`를 얻을 수 있다.
`),zu=p("code"),mm=t("reflect.SliceHeader"),bm=t("에는 각각 "),Ju=p("code"),Cm=t("Len"),ym=t(", "),Zu=p("code"),Om=t("Cap"),Dm=t(", "),Xu=p("code"),wm=t("Data"),Pm=t("의 세 가지 필드가 있으며 각각 길이, 용량, 그리고 slice의 데이터를 가리키는 포인터이다."),R1=i(),Dt=p("pre"),T1=i(),G=p("p"),Rm=t("string에서와 유사하게 "),Qu=p("code"),Tm=t("[]int"),Vm=t(" 포인터를 "),ju=p("code"),Sm=t("unsafe.Pointer"),Fm=t("로 변환한 후, 이를 다시 "),Yu=p("code"),xm=t("reflect.SliceHeader"),Hm=t("의 포인터로 변환한다. 이후 "),hu=p("code"),Bm=t("Len"),Lm=t(", "),gu=p("code"),Nm=t("Cap"),Mm=t(" 필드에 접근할 수 있다."),V1=i(),we=p("p"),Im=t("slice 또한 각 원소에 대해 이터레이션이 가능하다."),S1=i(),wt=p("pre"),F1=i(),w=p("p"),ni=p("code"),Gm=t("int"),Am=t("의 크기는 32비트 또는 64비트이기 때문에, 반드시 "),si=p("code"),Km=t("unsafe.Sizeof()"),Um=t(" 함수로 "),ai=p("code"),$m=t("Data"),Wm=t(` 필드의 각 값이 몇 바이트인지 확인해야 한다.
이후 그 크기만큼 `),ti=p("code"),qm=t("uintptr"),zm=t("로 변환한 "),ei=p("code"),Jm=t("i"),Zm=t("를 곱하면 "),pi=p("code"),Xm=t("Data"),Qm=t(` 필드의 각 데이터의 접근할 수 있다.
마지막으로 `),oi=p("code"),jm=t("int"),Ym=t(" 포인터로 변환해주고 dereference하면 값을 얻을 수 있다."),x1=i(),H1=p("br"),B1=p("br"),L1=i(),pa=p("h3"),oa=p("a"),li=p("span"),hm=t("unsafe Tools"),N1=i(),nn=p("p"),gm=t("실행 명령어에 "),ci=p("code"),nb=t("-gcflags=-d=checkptr"),sb=t(" 플래그를 붙이면 잘못 사용된 "),ui=p("code"),ab=t("unsafe.Pointer"),tb=t("나 "),ii=p("code"),eb=t("uintptr"),pb=t(`를 찾을 수 있다.
이 플래그는 Race Checker처럼 모든 `),ri=p("code"),ob=t("unsafe"),lb=t(" 문제를 찾을 수 있는 것은 아니고 프로그램의 속도를 느리게 만들지만, 테스트 단계에서는 붙이는 것이 좋다."),M1=i(),Pe=p("p"),cb=t("unsafe는 유용한 로우 레벨 패키지이지만, 지금 무엇을 필요로 하는지 잘 모르거나 성능 향상이 필요한 게 아니라면 사용하지 않는 것이 좋다."),I1=i(),la=p("p"),ub=t("unsafe에 대해 더 알고싶다면 "),Pt=p("a"),ib=t("패키지 문서"),rb=t("를 참조해 보자."),G1=i(),A1=p("br"),K1=p("br"),U1=i(),ca=p("h2"),ua=p("a"),ki=p("span"),kb=t("Cgo"),$1=i(),W1=p("hr"),q1=i(),Jn=p("p"),fb=t("reflection이나 "),fi=p("code"),db=t("unsafe"),Eb=t("와 마찬가지로, "),di=p("code"),vb=t("cgo"),_b=t("는 Go 프로그램과 외부 세계의 경계, 그 중 C 라이브러리와의 integration을 할 때 가장 유용하다."),z1=i(),Zn=p("p"),mb=t("C는 매우 오래 된 언어임에도 불구하고, 프로그래밍 언어의 "),kV(ia.$$.fragment),bb=t(`로 자리잡고 있다. 거의 운영체제가 C나 C++로 작성되며, 이에 포함된 라이브러리들도 C로 작성되었다.
따라서 거의 모든 언어가 C 라이브러리와 통합하는 방법을 제공한다. Go에서는 C에 대한 Foreign Function Interface(FFI)를 `),Ei=p("code"),Cb=t("cgo"),yb=t("라고 이름붙였다."),J1=i(),ra=p("p"),Ob=t("Go는 명시적인 것을 지향하는 언어이지만, "),vi=p("code"),Db=t("cgo"),wb=t("는 뭔가 자동으로 알아서 해주는 느낌이 강하다. 직접 예제를 보자."),Z1=i(),Rt=p("pre"),X1=i(),Cn=p("p"),Pb=t("일단, "),_i=p("code"),Rb=t("/**/"),Tb=t("로 묶인 주석이 "),mi=p("strong"),Vb=t("반드시"),Sb=t(" 필요하며, 주석과 "),bi=p("code"),Fb=t('import "C"'),xb=t(" 사이에는 빈 줄이 없어야 한다. 이 빈 줄때문에 컴파일이 안돼서 한참 찾았다.."),Q1=i(),yn=p("p"),Hb=t("위 "),Ci=p("code"),Bb=t("main.go"),Lb=t(" 파일과 같은 폴더 안에 각각 "),yi=p("code"),Nb=t("mylib.h"),Mb=t(", "),Oi=p("code"),Ib=t("mylib.c"),Gb=t("을 생성하여 다음과 같이 작성해준다."),j1=i(),Tt=p("pre"),Y1=i(),Vt=p("pre"),h1=i(),ka=p("p"),Ab=t("그러고 나서 "),Di=p("code"),Kb=t("go build"),Ub=t(" 명령어로 컴파일하여 생성된 파일을 실행하면 다음과 같은 결과를 얻을 수 있을 것이다."),g1=i(),St=p("pre"),n2=i(),v=p("p"),$b=t("우선 "),wi=p("code"),Wb=t("C"),qb=t(`라는 패키지는 실존하는 표준 라이브러리가 아니다!
`),Pi=p("code"),zb=t("C"),Jb=t("는 자동으로 생성되는 패키지이며, "),Ri=p("code"),Zb=t('import "C"'),Xb=t(` 위에 명시된 주석에 내장된 C 코드에서 대부분의 식별자가 정의된다.
예제의 주석에서는 `),Ti=p("code"),Qb=t("add()"),jb=t(" 함수를 선언하였고, "),Vi=p("code"),Yb=t("C.add()"),hb=t(`로 그 함수를 불러와서 호출하였다.
또한 주석 블록 안에서 import된 다른 함수나 전역변수 등도 불러올 수 있다. 이를테면 `),Si=p("code"),gb=t("math.h"),nC=t("에서 불러온 "),Fi=p("code"),sC=t("C.sqr()"),aC=t("나 "),xi=p("code"),tC=t("mylib.h"),eC=t("에서 불러온 "),Hi=p("code"),pC=t("C.multiply()"),oC=t("처럼 말이다."),s2=i(),sn=p("p"),lC=t("이뿐 아니라 "),Bi=p("code"),cC=t("C"),uC=t(" 패키지에서는 C 내장 타입을 나타내기 위한 "),Li=p("code"),iC=t("C.int"),rC=t("나 "),Ni=p("code"),kC=t("C.char"),fC=t(" 타입 등도 정의하고 있으며, Go의 문자열을 C의 문자열로 변환하기 위한 "),Mi=p("code"),dC=t("C.Cstring"),EC=t(" 함수도 있다."),a2=i(),t2=p("br"),e2=i(),Xn=p("p"),vC=t("더 신기한 일도 가능하다. 이번에는 Go의 함수를 C로 export할 건데, Go의 함수 앞에 "),Ii=p("code"),_C=t("//export"),mC=t(" 주석을 붙이면 할 수 있다. 먼저 "),Gi=p("code"),bC=t("main.go"),CC=t("의 소스코드를 작성한다."),p2=i(),Ft=p("pre"),o2=i(),Qn=p("p"),yC=t("이제 "),Ai=p("code"),OC=t("main.go"),DC=t("와 동일한 디렉토리에 .c 파일을 생성하여 작성한다. 이 때 특수 헤더인 "),Ki=p("code"),wC=t('"_cgo_export.h"'),PC=t("를 include해야 한다."),l2=i(),xt=p("pre"),c2=i(),Re=p("p"),RC=t("위 예제를 실행하면 다음과 같은 결과를 얻는다."),u2=i(),Ht=p("pre"),i2=i(),r2=p("br"),k2=i(),fa=p("p"),TC=t("이렇듯 "),Ui=p("code"),VC=t("cgo"),SC=t(`로 Go와 C의 함수를 상호 호출하는 것은 생각보다 간단하다.
하지만 Go는 가비지 컬렉터가 존재하지만 C에는 없다는 점 때문에, 대수롭지 않은 Go 코드라도 C와 통합되기가 생각보다 쉽지 않다. 그래서 포인터를 C 코드로 보낼 수는 있지만, 포인터를 포함하는 무언가를 보낼 수는 없다. 이러한 점 때문에 문자열, 슬라이스, 함수 등 포인터로 구현된 것들은 C로 보낼 수 없다.`),f2=i(),Te=p("p"),FC=t("또한 C 함수가 반환되어도 Go 포인터의 복사본을 가지고 있으면 안된다. Go가 가비지 컬렉팅을 하고 나면 포인터가 이상한 메모리 주소를 가리키게 되기 때문에, 프로그램이 컴파일은 되더라도 런타임에 죽거나 이상하게 동작할 수도 있다."),d2=i(),jn=p("p"),xC=t("다른 제약도 있다. "),$i=p("code"),HC=t("printf()"),BC=t("와 같이 가변적인 함수를 호출하기 위해 "),Wi=p("code"),LC=t("cgo"),NC=t(`를 사용하면 안된다.
C의 Union 타입은 바이트 어레이로 변환되며 C의 함수 포인터를 Go에서 호출할 수는 없지만, 변수에 저장해 두었다가 다시 C 함수로 전달할 수는 있다.`),E2=i(),Yn=p("p"),MC=t("이러한 규칙들 때문에 "),qi=p("code"),IC=t("cgo"),GC=t(`를 사용하기가 쉽지 않다.
만약 Python이나 Ruby에 익숙하다면 `),zi=p("code"),AC=t("cgo"),KC=t("같은 접근이 성능 측면에서 굉장한 이점이 있을 것임을 알 것이다. 실제로 Python의 NumPy는 C로 작성되기도 했다."),v2=i(),da=p("p"),UC=t("하지만 Go는 파이썬이나 루비보다 훨씬 빠르다. 알고리즘을 로우 레벨에서 재작성할 필요가 크게 없다. 그리고 "),Ji=p("code"),$C=t("cgo"),WC=t("를 쓰더라도 성능 향상을 기대하기는 어렵다. C와 Go의 메모리 모델과 프로세싱 방법이 다르기 때문인데, Go에서 C 코드를 호출할 때 C에서 C 코드를 호출하는 것보다 대략 29배 느리다고 한다."),_2=i(),Bt=p("p"),Zi=p("code"),qC=t("cgo"),zC=t(`가 빠르지도 않고 사용하기도 쉽지 않지만, 사용하는 이유는 명확하다.
반드시 사용해야 하는 C 라이브러리가 있지만 대체할 Go 라이브러리는 없는 경우일 때이다.
만약 대체할 Go 라이브러리가 있다면, 웬만하면 그걸 쓰도록 하자.`),m2=i(),b2=p("br"),C2=p("br"),y2=i(),Ea=p("h2"),va=p("a"),Xi=p("span"),JC=t("References"),O2=i(),D2=p("hr"),w2=i(),Ln=p("center"),Qi=p("p"),ZC=t("["),XC=i(),kV(Lt.$$.fragment),QC=t(`
](https://learning.oreilly.com/library/view/learning-go/9781492077206/) `),jC=p("br"),YC=t(`
[Jon Bodner, 『Learning Go』, O'Reilly Media, Inc.](https://learning.oreilly.com/library/view/learning-go/9781492077206/)`),P2=i(),R2=p("br"),T2=p("br"),this.h()},l(n){an=o(n,"BR",{}),ds=r(n),un=o(n,"P",{});var c=l(un);Es=e(c,"본 글은 Golang을 공부하며 주요 내용이라 생각되는 것들을 기록해둔 자료이며, Ubuntu 22.04 LTS 기준으로 작성되었습니다."),c.forEach(a),sr=r(n),ar=o(n,"BR",{}),tr=o(n,"BR",{}),er=r(n),vs=o(n,"H2",{id:!0});var Ve=l(vs);_s=o(Ve,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Cy=l(_s);ze=o(Cy,"SPAN",{class:!0}),l(ze).forEach(a),Cy.forEach(a),Y2=e(Ve,"Introduction"),Ve.forEach(a),pr=r(n),or=o(n,"HR",{}),lr=r(n),Kt=o(n,"P",{});var yy=l(Kt);h2=e(yy,`Go는 안전한 언어이다.
정적 타입의 변수를 통해 어떤 데이터를 사용하고 있는지 명확히 하며, 메모리를 관리하기 위해 가비지 컬렉터를 사용한다.
포인터를 사용하긴 하지만 C나 C++보다는 제한적인 범위에서만 사용할 수 있다.
따라서 고 런타임은 대부분 안전하게 실행된다고 할 수 있다.`),yy.forEach(a),cr=r(n),rn=o(n,"P",{});var _a=l(rn);g2=e(_a,`하지만 타입을 명확히 정의할 수 없는 데이터를 다뤄야 하는 경우가 있을 수 있다.
이를테면 타입을 컴파일 타임에 결정할 수 없는 데이터가 있을 수 있다. 이 경우 `),Je=o(_a,"CODE",{});var Oy=l(Je);nE=e(Oy,"reflect"),Oy.forEach(a),sE=e(_a,` 패키지를 통해 데이터와 상호작용하거나 데이터를 구성한다.
또는 데이터 타입의 메모리 레이아웃을 사용해야 하는 경우, `),Ze=o(_a,"CODE",{});var Dy=l(Ze);aE=e(Dy,"unsafe"),Dy.forEach(a),tE=e(_a,` 패키지를 사용한다.
그리고 C로 작성된 라이브러리의 기능을 사용해야 하는 경우, `),Xe=o(_a,"CODE",{});var wy=l(Xe);eE=e(wy,"cgo"),wy.forEach(a),pE=e(_a," 패키지를 통해 C 코드를 호출할 수도 있다."),_a.forEach(a),ur=r(n),Ut=o(n,"P",{});var Py=l(Ut);oE=e(Py,`처음 Go언어를 배우는 사람들을 위한 책에서 나올 내용 치고는 다소 고난도의 개념인지라, 이러한 내용이 나오는 것에 대해 다소 의아할 수도 있다.
하지만 다음과 같은 두 가지 이유로 이 내용을 다룬다.`),Py.forEach(a),ir=r(n),ms=o(n,"OL",{});var S2=l(ms);Qe=o(S2,"LI",{});var Ry=l(Qe);lE=e(Ry,`개발자들은 코드에서 문제를 발견하면 솔루션을 검색해보고 제대로 이해하지도 못한 채 코드에 복붙하는 경우가 많다. 이로 인해 여러 문제가 생길 수도 있다.
그러니 이러한 고급 기술에 대해 조금이라도 이해해두는 편이 문제를 일으킬 여지를 약간이나마 줄일 수 있을 것이다.`),Ry.forEach(a),cE=r(S2),je=o(S2,"LI",{});var Ty=l(je);uE=e(Ty,"소개하는 내용이 일반 Go 코드에서는 할 수 없는 것들이라, 내용을 접하다 보면 흥미로움을 느낄 수도 있기 때문이다!"),Ty.forEach(a),S2.forEach(a),rr=r(n),kr=o(n,"BR",{}),fr=o(n,"BR",{}),dr=r(n),bs=o(n,"H2",{id:!0});var hC=l(bs);Cs=o(hC,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Vy=l(Cs);Ye=o(Vy,"SPAN",{class:!0}),l(Ye).forEach(a),Vy.forEach(a),iE=e(hC,"Reflection"),hC.forEach(a),Er=r(n),vr=o(n,"HR",{}),_r=r(n),$t=o(n,"P",{});var Sy=l($t);rE=e(Sy,`Go의 장점 중 하나는 정적 타입 언어라는 것이다. Go에서 타입 및 변수, 함수를 선언하는 것이 매우 간단하며, 프로그램에서 사용될 데이터의 구조를 나타내기 위해 타입을 사용한다.
하지만 컴파일 타임에 정의되는 타입만으로 프로그램에서 사용될 데이터를 사용하기에는 부족할 때가 있다.
이를테면 프로그램을 작성할 때 존재하지 않았던 데이터가 런타임에 변수에 할당될 수도 있다.
가령, 파일에서 데이터를 읽어오거나 네트워크 요청을 변수에 저장하거나, 아니면 여러 타입에 대응되는 함수를 작성할 수도 있을 것이다.`),Sy.forEach(a),mr=r(n),Wt=o(n,"P",{});var Fy=l(Wt);kE=e(Fy,`이러한 상황에서는 Reflection을 사용한다.
Reflection은 런타임에 타입을 확인할 수 있게 해주며, 런타임에 변수, 함수, 구조체를 검사하고, 수정하고, 생성하는 기능도 제공한다.`),Fy.forEach(a),br=r(n),qt=o(n,"P",{});var xy=l(qt);fE=e(xy,`이러한 Reflection의 기능이 언제 필요한 것인가에 대한 질문이 있을 수 있다.
표준 라이브러리에서 Reflection이 어떻게 쓰이는지 알면 우리도 감을 잡을 수 있을 것이다.`),xy.forEach(a),Cr=r(n),J=o(n,"UL",{});var hn=l(J);zt=o(hn,"LI",{});var gC=l(zt);he=o(gC,"CODE",{});var Hy=l(he);dE=e(Hy,"database/sql"),Hy.forEach(a),EE=e(gC," 패키지에서는 데이터베이스에서 데이터를 읽거나 쓸 때 Reflection을 사용하여 레코드를 전송하고 읽어온 데이터를 반환함"),gC.forEach(a),vE=r(hn),cs=o(hn,"LI",{});var Se=l(cs);_E=e(Se,"Go에 내장된 템플릿 작성 라이브러리인 "),ge=o(Se,"CODE",{});var By=l(ge);mE=e(By,"text/template"),By.forEach(a),bE=e(Se," 및 "),np=o(Se,"CODE",{});var Ly=l(np);CE=e(Ly,"html/template"),Ly.forEach(a),yE=e(Se,"에서는 reflection을 사용하여 템플릿으로 전달되는 값을 처리함"),Se.forEach(a),OE=r(hn),ys=o(hn,"LI",{});var ji=l(ys);sp=o(ji,"CODE",{});var Ny=l(sp);DE=e(Ny,"fmt"),Ny.forEach(a),wE=e(ji," 패키지의 "),ap=o(ji,"CODE",{});var My=l(ap);PE=e(My,"fmt.Println"),My.forEach(a),RE=e(ji," 등 대부분의 출력 함수는 들어온 파라미터의 타입에 맞춰 알잘딱깔센하게 출력해줘야 하기 때문에, Reflection을 엄청 많이 사용한다고 함"),ji.forEach(a),TE=r(hn),Jt=o(hn,"LI",{});var ny=l(Jt);tp=o(ny,"CODE",{});var Iy=l(tp);VE=e(Iy,"sort"),Iy.forEach(a),SE=e(ny," 패키지는 Reflection을 사용하여 다양한 타입의 슬라이스를 정렬하는 기능을 구현함"),ny.forEach(a),FE=r(hn),Zt=o(hn,"LI",{});var sy=l(Zt);ep=o(sy,"CODE",{});var Gy=l(ep);xE=e(Gy,"encoding"),Gy.forEach(a),HE=e(sy," 패키지에 정의된 다양한 데이터 타입과 함께, JSON이나 XML을 Marshaling 및 Unmarshaling할 때 Reflection이 사용됨. 구조체 tag는 Reflection를 통해 액세스되며, Reflection를 통해 구조체 필드를 읽고 씀."),sy.forEach(a),hn.forEach(a),yr=r(n),Xt=o(n,"P",{});var Ay=l(Xt);BE=e(Ay,"이러한 예시들은 한 가지 공통점을 공유한다. Go 프로그램으로 가져오거나 외부로 내보내는 데이터에 액세스하고 형식을 지정한다는 것이다. 다시 말해, Reflection은 Go 프로그램과 외부 세계의 경계선에서 사용되는 것이다."),Ay.forEach(a),Or=r(n),Dr=o(n,"BR",{}),wr=o(n,"BR",{}),Pr=r(n),Os=o(n,"H3",{id:!0});var ay=l(Os);Ds=o(ay,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Ky=l(Ds);pp=o(Ky,"SPAN",{class:!0}),l(pp).forEach(a),Ky.forEach(a),LE=e(ay,"Types, Kinds"),ay.forEach(a),Rr=r(n),Z=o(n,"P",{});var gn=l(Z);NE=e(gn,`이제 Reflection이 무엇을 하며 언제 필요한지 알았으니, 어떻게 쓰는 것인지 알아보려 한다.
`),op=o(gn,"CODE",{});var Uy=l(op);ME=e(Uy,"reflect"),Uy.forEach(a),IE=e(gn,` 패키지는 표준 라이브러리에 포함되어 있으며, Reflection을 위한 여러 타입들과 함수들이 구현되어 있다.
Reflection의 핵심 개념은 `),lp=o(gn,"EM",{});var $y=l(lp);GE=e($y,"types"),$y.forEach(a),AE=e(gn,", "),cp=o(gn,"EM",{});var Wy=l(cp);KE=e(Wy,"kinds"),Wy.forEach(a),UE=e(gn,", "),up=o(gn,"EM",{});var qy=l(up);$E=e(qy,"values"),qy.forEach(a),WE=e(gn,", 이렇게 세 가지이다."),gn.forEach(a),Tr=r(n),ws=o(n,"P",{});var F2=l(ws);qE=e(F2,"먼저 "),ip=o(F2,"EM",{});var zy=l(ip);zE=e(zy,"types"),zy.forEach(a),JE=e(F2,"에 대해 알아보자. Reflection에서 타입은 말 그대로 변수의 속성, 변수가 포함할 수 있는 항목 및 변수가 상호 작용할 수 있는 방법을 정의한다. Reflection을 쓰면 코드를 작성하여 타입을 쿼리할 수 있다."),F2.forEach(a),Vr=r(n),Sr=o(n,"BR",{}),Fr=r(n),Va=o(n,"PRE",{class:!0});var _S=l(Va);_S.forEach(a),xr=r(n),Qt=o(n,"P",{});var Jy=l(Qt);ZE=e(Jy,"위 구문의 실행 결과는 다음과 같다."),Jy.forEach(a),Hr=r(n),Sa=o(n,"PRE",{class:!0});var mS=l(Sa);mS.forEach(a),Br=r(n),x=o(n,"P",{});var On=l(x);XE=e(On,"이처럼 "),rp=o(On,"CODE",{});var Zy=l(rp);QE=e(Zy,"reflect"),Zy.forEach(a),jE=e(On," 패키지의 "),kp=o(On,"CODE",{});var Xy=l(kp);YE=e(Xy,"TypeOf()"),Xy.forEach(a),hE=e(On,` 함수를 통해 변수의 타입을 확인할 수 있다.
`),fp=o(On,"CODE",{});var Qy=l(fp);gE=e(Qy,"TypeOf()"),Qy.forEach(a),nv=e(On,"는 파라미터로 들어온 변수의 타입을 "),dp=o(On,"CODE",{});var jy=l(dp);sv=e(jy,"reflect.Type"),jy.forEach(a),av=e(On,`라는 타입으로 나타낸다.
`),Ep=o(On,"CODE",{});var Yy=l(Ep);tv=e(Yy,"reflect.Type"),Yy.forEach(a),ev=e(On,"에는 변수의 타입에 관련된 여러 메소드가 존재하지만 다는 다루지 못하고 몇 개만 다뤄보고자 한다."),On.forEach(a),Lr=r(n),Fn=o(n,"P",{});var Nt=l(Fn);vp=o(Nt,"CODE",{});var hy=l(vp);pv=e(hy,"Name()"),hy.forEach(a),ov=e(Nt," 메소드는 타입명을 문자열로 반환한다. 가장 마지막 출력 결과가 string임을 확인할 수 있다. 이처럼 "),_p=o(Nt,"CODE",{});var gy=l(_p);lv=e(gy,"Name()"),gy.forEach(a),cv=e(Nt,"은 int와 같은 원시 타입이나 위 예제의 "),mp=o(Nt,"CODE",{});var nO=l(mp);uv=e(nO,"Foo"),nO.forEach(a),iv=e(Nt,`와 같은 구조체의 이름을 반환한다.
그러나 slice나 포인터 등은 달리 이름이 없기 때문에 빈 문자열을 반환한다.`),Nt.forEach(a),Nr=r(n),_=o(n,"P",{});var P=l(_);bp=o(P,"CODE",{});var sO=l(bp);rv=e(sO,"reflect.Type"),sO.forEach(a),kv=e(P,"의 "),Cp=o(P,"CODE",{});var aO=l(Cp);fv=e(aO,"Kind()"),aO.forEach(a),dv=e(P," 메소드는 "),yp=o(P,"CODE",{});var tO=l(yp);Ev=e(tO,"reflect.Kind"),tO.forEach(a),vv=e(P," 타입의 값을 반환하며, "),Op=o(P,"CODE",{});var eO=l(Op);_v=e(eO,"reflect.Kind"),eO.forEach(a),mv=e(P,"는 해당 타입이 어떤 원시 타입으로 작성되었는지를 나타내는 상수값이다. 이를테면 slice, map, pointer, struct, interface, string, array, function, int 등, 어떠한 원시 타입인지 알려준다. "),Dp=o(P,"CODE",{});var pO=l(Dp);bv=e(pO,"reflect.Type"),pO.forEach(a),Cv=e(P,"과 "),wp=o(P,"CODE",{});var oO=l(wp);yv=e(oO,"reflect.Kind"),oO.forEach(a),Ov=e(P,"는 다소 헷갈릴 수 있는데, 만약 위 예제를 예로 든다면 "),Pp=o(P,"CODE",{});var lO=l(Pp);Dv=e(lO,"Foo"),lO.forEach(a),wv=e(P,"의 타입은 "),Rp=o(P,"CODE",{});var cO=l(Rp);Pv=e(cO,'"Foo"'),cO.forEach(a),Rv=e(P,"가 될 것이고 종류는 "),Tp=o(P,"CODE",{});var uO=l(Tp);Tv=e(uO,"reflect.Struct"),uO.forEach(a),Vv=e(P,"가 될 것이다."),P.forEach(a),Mr=r(n),kn=o(n,"P",{});var ma=l(kn);Sv=e(ma,"종류는 매우 중요하다. Reflection을 사용할 때 유의해야 할 것이 있는데, "),Vp=o(ma,"CODE",{});var iO=l(Vp);Fv=e(iO,"reflect"),iO.forEach(a),xv=e(ma," 패키지는 개발자가 Reflection에 대해 잘 알고 있다고 가정한다. "),Sp=o(ma,"CODE",{});var rO=l(Sp);Hv=e(rO,"reflect.Type"),rO.forEach(a),Bv=e(ma," 등 "),Fp=o(ma,"CODE",{});var kO=l(Fp);Lv=e(kO,"reflect"),kO.forEach(a),Nv=e(ma,"의 타입들에 정의된 일부 메소드는 특정 종류에서만 말이 된다."),ma.forEach(a),Ir=r(n),H=o(n,"P",{});var Dn=l(H);Mv=e(Dn,"예를 들어 "),xp=o(Dn,"CODE",{});var fO=l(xp);Iv=e(fO,"reflect.Type"),fO.forEach(a),Gv=e(Dn,"의 "),Hp=o(Dn,"CODE",{});var dO=l(Hp);Av=e(dO,"NumIn()"),dO.forEach(a),Kv=e(Dn,`이라는 메소드가 있다.
만약 `),Bp=o(Dn,"CODE",{});var EO=l(Bp);Uv=e(EO,"reflect.Type"),EO.forEach(a),$v=e(Dn,"이 함수를 나타내고 있다면 "),Lp=o(Dn,"CODE",{});var vO=l(Lp);Wv=e(vO,"NumIn()"),vO.forEach(a),qv=e(Dn,`은 입력 파라미터의 수를 반환하지만, 함수를 나타내고 있지 않다면 프로그램은 panic에 빠질 것이다.
따라서 종류를 사용하여 `),Np=o(Dn,"CODE",{});var _O=l(Np);zv=e(_O,"reflect.Type"),_O.forEach(a),Jv=e(Dn,"이 어떤 메소드를 사용할 수 있고 어떤 메소드가 panic이 되는지 아는 게 중요하다."),Dn.forEach(a),Gr=r(n),Ps=o(n,"P",{});var x2=l(Ps);Zv=e(x2,"아래 예제는 위 예제에서 "),Mp=o(x2,"CODE",{});var mO=l(Mp);Xv=e(mO,"Kind()"),mO.forEach(a),Qv=e(x2," 메소드를 통해 타입의 종류까지 출력하는 부분을 추가한 것이다."),x2.forEach(a),Ar=r(n),Fa=o(n,"PRE",{class:!0});var bS=l(Fa);bS.forEach(a),Kr=r(n),jt=o(n,"P",{});var bO=l(jt);jv=e(bO,"실행 결과는 다음과 같다."),bO.forEach(a),Ur=r(n),xa=o(n,"PRE",{class:!0});var CS=l(xa);CS.forEach(a),$r=r(n),Wr=o(n,"BR",{}),qr=r(n),R=o(n,"P",{});var en=l(R);Ip=o(en,"CODE",{});var CO=l(Ip);Yv=e(CO,"reflect.Type"),CO.forEach(a),hv=e(en,"의 또 다른 중요한 메소드는 "),Gp=o(en,"CODE",{});var yO=l(Gp);gv=e(yO,"Elem()"),yO.forEach(a),n3=e(en,`이다.
Go에는 다른 타입을 참조하는 타입이 있으며, `),Ap=o(en,"CODE",{});var OO=l(Ap);s3=e(OO,"Elem()"),OO.forEach(a),a3=e(en,`은 참조되는 타입이 어떤 타입인지 밝혀낸다.
이를테면 위 예시에서 종류가 `),Kp=o(en,"CODE",{});var DO=l(Kp);t3=e(DO,"ptr"),DO.forEach(a),e3=e(en,"이었던 "),Up=o(en,"CODE",{});var wO=l(Up);p3=e(wO,"xpt"),wO.forEach(a),o3=e(en,", "),$p=o(en,"CODE",{});var PO=l($p);l3=e(PO,"tt"),PO.forEach(a),c3=e(en," 부분을 다음과 같이 수정할 것이다."),en.forEach(a),zr=r(n),Ha=o(n,"PRE",{class:!0});var yS=l(Ha);yS.forEach(a),Jr=r(n),Yt=o(n,"P",{});var RO=l(Yt);u3=e(RO,"실행 결과는 다음과 같다."),RO.forEach(a),Zr=r(n),Ba=o(n,"PRE",{class:!0});var OS=l(Ba);OS.forEach(a),Xr=r(n),E=o(n,"P",{});var C=l(E);i3=e(C,"만약 "),Wp=o(C,"CODE",{});var TO=l(Wp);r3=e(TO,"reflect.Type"),TO.forEach(a),k3=e(C,"이 포인터를 나타내고 있다면 "),qp=o(C,"CODE",{});var VO=l(qp);f3=e(VO,"Elem()"),VO.forEach(a),d3=e(C,"은 그 포인터가 가리키는 타입의 "),zp=o(C,"CODE",{});var SO=l(zp);E3=e(SO,"reflect.Type"),SO.forEach(a),v3=e(C,`을 반환한다.
위 예제로 미루어 보아 `),Jp=o(C,"CODE",{});var FO=l(Jp);_3=e(FO,"xpt"),FO.forEach(a),m3=e(C,"는 int를, "),Zp=o(C,"CODE",{});var xO=l(Zp);b3=e(xO,"tt"),xO.forEach(a),C3=e(C,"는 "),Xp=o(C,"CODE",{});var HO=l(Xp);y3=e(HO,"rtype"),HO.forEach(a),O3=e(C,`라는 이름의 구조체를 가리키는 포인터임을 알 수 있다.
`),Qp=o(C,"CODE",{});var BO=l(Qp);D3=e(BO,"Elem()"),BO.forEach(a),w3=e(C," 메소드는 "),jp=o(C,"CODE",{});var LO=l(jp);P3=e(LO,"reflect.Type"),LO.forEach(a),R3=e(C,"이 포인터뿐 아니라 slice, map, channel, array를 나타낼 때도 동작한다. 한편 "),Yp=o(C,"CODE",{});var NO=l(Yp);T3=e(NO,"int"),NO.forEach(a),V3=e(C," 등의 원시 타입을 나타낸다면 panic이 발생한다."),C.forEach(a),Qr=r(n),jr=o(n,"BR",{}),Yr=r(n),T=o(n,"P",{});var pn=l(T);hp=o(pn,"CODE",{});var MO=l(hp);S3=e(MO,"reflect.Type"),MO.forEach(a),F3=e(pn,"이 구조체를 나타내고 있다면 "),gp=o(pn,"CODE",{});var IO=l(gp);x3=e(IO,"NumField()"),IO.forEach(a),H3=e(pn,` 메소드를 사용하여 구조체에 존재하는 필드의 수를 알 수 있다.
또한 `),no=o(pn,"CODE",{});var GO=l(no);B3=e(GO,"Field()"),GO.forEach(a),L3=e(pn," 메소드를 통해 필드에 접근할 수 있다. "),so=o(pn,"CODE",{});var AO=l(so);N3=e(AO,"Field()"),AO.forEach(a),M3=e(pn,"는 "),ao=o(pn,"CODE",{});var KO=l(ao);I3=e(KO,"reflect.StructField"),KO.forEach(a),G3=e(pn,"라는 타입으로 표현된 각 필드의 구조를 반환하며, "),to=o(pn,"CODE",{});var UO=l(to);A3=e(UO,"reflect.StructField"),UO.forEach(a),K3=e(pn,`는 필드의 이름, 순서, 타입, 구조체 태그 정보를 가지고 있다.
다음의 예제를 살펴보자!`),pn.forEach(a),hr=r(n),La=o(n,"PRE",{class:!0});var DS=l(La);DS.forEach(a),gr=r(n),V=o(n,"P",{});var on=l(V);eo=o(on,"CODE",{});var $O=l(eo);U3=e($O,"Foo"),$O.forEach(a),$3=e(on," 인스턴스인 f를 "),po=o(on,"CODE",{});var WO=l(po);W3=e(WO,"reflect.TypeOf()"),WO.forEach(a),q3=e(on,"의 파라미터로 보내서, 구조체를 표현하는 "),oo=o(on,"CODE",{});var qO=l(oo);z3=e(qO,"reflect.Type"),qO.forEach(a),J3=e(on,"을 "),lo=o(on,"CODE",{});var zO=l(lo);Z3=e(zO,"ft"),zO.forEach(a),X3=e(on,`에 저장한다.
그 후 `),co=o(on,"CODE",{});var JO=l(co);Q3=e(JO,"NumField()"),JO.forEach(a),j3=e(on,"로 필드 수 만큼 이터레이션을 돌며 "),uo=o(on,"CODE",{});var ZO=l(uo);Y3=e(ZO,"Field()"),ZO.forEach(a),h3=e(on," 메소드로 각 필드의 필드명, 타입, 태그 정보를 출력한다."),on.forEach(a),nk=r(n),ht=o(n,"P",{});var XO=l(ht);g3=e(XO,"실행 결과는 다음과 같다."),XO.forEach(a),sk=r(n),Na=o(n,"PRE",{class:!0});var wS=l(Na);wS.forEach(a),ak=r(n),fn=o(n,"P",{});var ba=l(fn);n_=e(ba,"마찬가지로, 구조체가 아닌 "),io=o(ba,"CODE",{});var QO=l(io);s_=e(QO,"reflect.Type"),QO.forEach(a),a_=e(ba,"에서 "),ro=o(ba,"CODE",{});var jO=l(ro);t_=e(jO,"NumField()"),jO.forEach(a),e_=e(ba,"나 "),ko=o(ba,"CODE",{});var YO=l(ko);p_=e(YO,"Field()"),YO.forEach(a),o_=e(ba," 메소드를 호출하면 panic이 발생한다."),ba.forEach(a),tk=r(n),ek=o(n,"BR",{}),pk=r(n),us=o(n,"P",{});var Yi=l(us);fo=o(Yi,"CODE",{});var hO=l(fo);l_=e(hO,"reflect.Type"),hO.forEach(a),c_=e(Yi,"에는 다른 더 많은 메소드가 존재하지만, 거의 비슷한 패턴을 따른다. 추가적인 정보를 원한다면 Go의 "),Ma=o(Yi,"A",{href:!0,rel:!0});var gO=l(Ma);u_=e(gO,"표준 라이브러리 문서"),gO.forEach(a),i_=e(Yi,"를 확인할 수 있다."),Yi.forEach(a),ok=r(n),lk=o(n,"BR",{}),ck=o(n,"BR",{}),uk=r(n),Rs=o(n,"H3",{id:!0});var ty=l(Rs);Ts=o(ty,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var nD=l(Ts);Eo=o(nD,"SPAN",{class:!0}),l(Eo).forEach(a),nD.forEach(a),r_=e(ty,"Values"),ty.forEach(a),ik=r(n),In=o(n,"P",{});var Fe=l(In);k_=e(Fe,"Reflection을 통해 변수의 타입 뿐 아니라, 변수의 값도 읽어올 수 있다. "),vo=o(Fe,"CODE",{});var sD=l(vo);f_=e(sD,"reflect.ValueOf()"),sD.forEach(a),d_=e(Fe," 함수를 호출하면 변수의 값을 나타내는 "),_o=o(Fe,"CODE",{});var aD=l(_o);E_=e(aD,"reflect.Value"),aD.forEach(a),v_=e(Fe," 인스턴스를 생성할 수 있다."),Fe.forEach(a),rk=r(n),Ia=o(n,"PRE",{class:!0});var PS=l(Ia);PS.forEach(a),kk=r(n),B=o(n,"P",{});var wn=l(B);__=e(wn,"Go의 모든 변수는 타입이 존재하기 때문에 "),mo=o(wn,"CODE",{});var tD=l(mo);m_=e(tD,"reflect.Value"),tD.forEach(a),b_=e(wn,"에는 "),bo=o(wn,"CODE",{});var eD=l(bo);C_=e(eD,"reflect.Type"),eD.forEach(a),y_=e(wn,"을 반환하는 "),Co=o(wn,"CODE",{});var pD=l(Co);O_=e(pD,"Type()"),pD.forEach(a),D_=e(wn,"이란 메소드가 존재하며, "),yo=o(wn,"CODE",{});var oD=l(yo);w_=e(oD,"reflect.Type"),oD.forEach(a),P_=e(wn,"처럼 종류를 반환하는 "),Oo=o(wn,"CODE",{});var lD=l(Oo);R_=e(lD,"Kind()"),lD.forEach(a),T_=e(wn," 메소드가 존재한다."),wn.forEach(a),fk=r(n),xn=o(n,"P",{});var Mt=l(xn);Do=o(Mt,"CODE",{});var cD=l(Do);V_=e(cD,"reflect.Type"),cD.forEach(a),S_=e(Mt,"이 변수의 타입에 대한 정보를 찾는 메소드를 가지고 있는 것처럼, "),wo=o(Mt,"CODE",{});var uD=l(wo);F_=e(uD,"reflect.Value"),uD.forEach(a),x_=e(Mt,"은 변수의 값에 대한 정보를 찾는 메소드를 가지고 있다. 마찬가지로 이들 모두를 다루진 않겠지만, 변수의 값을 얻고자 할 때 "),Po=o(Mt,"CODE",{});var iD=l(Po);H_=e(iD,"reflect.Value"),iD.forEach(a),B_=e(Mt,"를 어떻게 사용하는지 확인해볼 것이다."),Mt.forEach(a),dk=r(n),Ek=o(n,"BR",{}),vk=r(n),dn=o(n,"P",{});var Ca=l(dn);L_=e(Ca,"먼저 "),Ro=o(Ca,"CODE",{});var rD=l(Ro);N_=e(rD,"reflect.Value"),rD.forEach(a),M_=e(Ca,"에서 값을 다시 읽어오는 방법을 살펴볼 것이다. "),To=o(Ca,"CODE",{});var kD=l(To);I_=e(kD,"reflect.Value"),kD.forEach(a),G_=e(Ca,"의 "),Vo=o(Ca,"CODE",{});var fD=l(Vo);A_=e(fD,"Interface()"),fD.forEach(a),K_=e(Ca," 메소드는 변수의 값을 빈 인터페이스로 반환한다."),Ca.forEach(a),_k=r(n),Ga=o(n,"PRE",{class:!0});var RS=l(Ga);RS.forEach(a),mk=r(n),S=o(n,"P",{});var ln=l(S);So=o(ln,"CODE",{});var dD=l(So);U_=e(dD,"Interface()"),dD.forEach(a),$_=e(ln,"는 모든 종류의 값을 포함하는 "),Fo=o(ln,"CODE",{});var ED=l(Fo);W_=e(ED,"reflect.Value"),ED.forEach(a),q_=e(ln,` 인스턴스에 대해 호출할 수 있다. 하지만 변수의 종류가 Bool, Complex, Int, Uint, Float, String과 같은 Built-in 원시 타입인 경우 사용할 수 있는 특수한 메소드가 있다.
`),xo=o(ln,"CODE",{});var vD=l(xo);z_=e(vD,"Bytes()"),vD.forEach(a),J_=e(ln," 메소드는 변수의 타입이 "),Ho=o(ln,"CODE",{});var _D=l(Ho);Z_=e(_D,"[]bytes"),_D.forEach(a),X_=e(ln,`이면 사용할 수 있다.
`),Bo=o(ln,"CODE",{});var mD=l(Bo);Q_=e(mD,"reflect.Type"),mD.forEach(a),j_=e(ln,"에서처럼, "),Lo=o(ln,"CODE",{});var bD=l(Lo);Y_=e(bD,"reflect.Value"),bD.forEach(a),h_=e(ln,"에서 변수의 타입과 맞지 않는 메소드를 호출한다면 프로그램이 panic에 빠진다."),ln.forEach(a),bk=r(n),Ck=o(n,"BR",{}),yk=r(n),gt=o(n,"P",{});var CD=l(gt);g_=e(CD,"Reflection을 통해 변수의 값을 설정할 수도 있지만, 다음과 같은 세 단계를 거쳐야 한다."),CD.forEach(a),Ok=r(n),Gn=o(n,"P",{});var xe=l(Gn);n5=e(xe,"첫 번째로, 변수의 포인터를 "),No=o(xe,"CODE",{});var yD=l(No);s5=e(yD,"reflect.ValueOf()"),yD.forEach(a),a5=e(xe,"의 파라미터로 보낸다. 이렇게 하면 포인터를 나타내는 "),Mo=o(xe,"CODE",{});var OD=l(Mo);t5=e(OD,"reflect.Value"),OD.forEach(a),e5=e(xe,"를 반환한다."),xe.forEach(a),Dk=r(n),Aa=o(n,"PRE",{class:!0});var TS=l(Aa);TS.forEach(a),wk=r(n),m=o(n,"P",{});var A=l(m);p5=e(A,"다음으로, 설정해야 할 실제 값을 얻는다. "),Io=o(A,"CODE",{});var DD=l(Io);o5=e(DD,"reflect.Value"),DD.forEach(a),l5=e(A,"의 "),Go=o(A,"CODE",{});var wD=l(Go);c5=e(wD,"Elem()"),wD.forEach(a),u5=e(A," 메소드를 사용하여, 포인터가 가리키는 값을 얻을 수 있다. "),Ao=o(A,"CODE",{});var PD=l(Ao);i5=e(PD,"reflect.Type"),PD.forEach(a),r5=e(A,"의 "),Ko=o(A,"CODE",{});var RD=l(Ko);k5=e(RD,"Elem()"),RD.forEach(a),f5=e(A,"처럼, "),Uo=o(A,"CODE",{});var TD=l(Uo);d5=e(TD,"reflect.Value"),TD.forEach(a),E5=e(A,"의 "),$o=o(A,"CODE",{});var VD=l($o);v5=e(VD,"Elem()"),VD.forEach(a),_5=e(A,"은 포인터가 가리키는 값을 "),Wo=o(A,"CODE",{});var SD=l(Wo);m5=e(SD,"reflect.Value"),SD.forEach(a),b5=e(A," 또는 인터페이스로 반환한다."),A.forEach(a),Pk=r(n),Ka=o(n,"PRE",{class:!0});var VS=l(Ka);VS.forEach(a),Rk=r(n),L=o(n,"P",{});var Pn=l(L);C5=e(Pn,`마지막으로 값을 수정한다.
앞서 언급하였듯 값의 종류가 원시 타입일 때만 쓸 수 있는 특수한 메소드가 존재하며, 그것이 값을 설정하는 `),qo=o(Pn,"CODE",{});var FD=l(qo);y5=e(FD,"SetBool"),FD.forEach(a),O5=e(Pn,", "),zo=o(Pn,"CODE",{});var xD=l(zo);D5=e(xD,"SetInt"),xD.forEach(a),w5=e(Pn,", "),Jo=o(Pn,"CODE",{});var HD=l(Jo);P5=e(HD,"SetFloat"),HD.forEach(a),R5=e(Pn,", "),Zo=o(Pn,"CODE",{});var BD=l(Zo);T5=e(BD,"SetString"),BD.forEach(a),V5=e(Pn,` 등이다.
예제에서는 `),Xo=o(Pn,"CODE",{});var LD=l(Xo);S5=e(LD,"SetInt()"),LD.forEach(a),F5=e(Pn,"를 사용하여 값을 수정하였으며, 이렇게 하면 i의 값이 변경된다."),Pn.forEach(a),Tk=r(n),Ua=o(n,"PRE",{class:!0});var SS=l(Ua);SS.forEach(a),Vk=r(n),X=o(n,"P",{});var ns=l(X);x5=e(ns,"다른 모든 타입들에 대해서는 "),Qo=o(ns,"CODE",{});var ND=l(Qo);H5=e(ND,"reflect.Value"),ND.forEach(a),B5=e(ns,"를 파라미터로 받는 "),jo=o(ns,"CODE",{});var MD=l(jo);L5=e(MD,"Set()"),MD.forEach(a),N5=e(ns,`을 호출해야 한다.
값을 변경하는 게 아니라 이 값을 읽는 것이기 때문에, 설정하고자 하는 값은 포인터일 필요가 없다.
또한 `),Yo=o(ns,"CODE",{});var ID=l(Yo);M5=e(ID,"Interface()"),ID.forEach(a),I5=e(ns,"를 사용하여 원시 타입을 읽을 수 있듯, "),ho=o(ns,"CODE",{});var GD=l(ho);G5=e(GD,"Set()"),GD.forEach(a),A5=e(ns,"을 호출하여 원시 타입을 설정할 수 있다."),ns.forEach(a),Sk=r(n),Vs=o(n,"P",{});var H2=l(Vs);K5=e(H2,"값을 변경하기 위해 "),go=o(H2,"CODE",{});var AD=l(go);U5=e(AD,"reflect.ValueOf()"),AD.forEach(a),$5=e(H2,`의 파라미터로 포인터를 전달해야 하는 이유는 Go의 다른 함수와 동일하다.
다른 함수에서는 파라미터를 포인터 타입으로 지정하여 파라미터의 값을 변경할 수 있음을 나타내고, 변수의 값을 변경할 때 포인터에 dereference하여 값을 변경한다.
즉, 다음의 두 함수는 동일한 과정을 거친다고 볼 수 있다!`),H2.forEach(a),Fk=r(n),$a=o(n,"PRE",{class:!0});var FS=l($a);FS.forEach(a),xk=r(n),ne=o(n,"P",{});var KD=l(ne);W5=e(KD,"만약 다음과 같이 포인터를 거치지 않는다면 변수의 값을 읽어오는 데에는 문제가 없겠지만, 값을 설정할 때 panic이 발생한다."),KD.forEach(a),Hk=r(n),Wa=o(n,"PRE",{class:!0});var xS=l(Wa);xS.forEach(a),Bk=r(n),Lk=o(n,"BR",{}),Nk=o(n,"BR",{}),Mk=r(n),Ss=o(n,"H3",{id:!0});var ey=l(Ss);Fs=o(ey,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var UD=l(Fs);nl=o(UD,"SPAN",{class:!0}),l(nl).forEach(a),UD.forEach(a),q5=e(ey,"Making New Values"),ey.forEach(a),Ik=r(n),b=o(n,"P",{});var K=l(b);z5=e(K,`Reflection을 사용하는 최선의 방법을 살펴보기에 앞서, 값을 생성하는 방법에 대해서도 알아보려 한다.
`),sl=o(K,"CODE",{});var $D=l(sl);J5=e($D,"reflect.New()"),$D.forEach(a),Z5=e(K," 함수는 "),al=o(K,"CODE",{});var WD=l(al);X5=e(WD,"new()"),WD.forEach(a),Q5=e(K,` 함수의 reflection 버전이라고 볼 수 있다.
`),tl=o(K,"CODE",{});var qD=l(tl);j5=e(qD,"reflect.New()"),qD.forEach(a),Y5=e(K,"는 "),el=o(K,"CODE",{});var zD=l(el);h5=e(zD,"reflect.Type"),zD.forEach(a),g5=e(K,"을 파라미터로 받아 명시된 타입의 "),pl=o(K,"CODE",{});var JD=l(pl);n4=e(JD,"reflect.Value"),JD.forEach(a),s4=e(K,"를 가리키는 포인터 타입의 "),ol=o(K,"CODE",{});var ZD=l(ol);a4=e(ZD,"reflect.Value"),ZD.forEach(a),t4=e(K,`를 반환한다.
반환값이 포인터이기 때문에, `),ll=o(K,"CODE",{});var XD=l(ll);e4=e(XD,"Interface()"),XD.forEach(a),p4=e(K," 메소드를 사용하여 수정한 후 변수에 할당할 수 있다."),K.forEach(a),Gk=r(n),is=o(n,"P",{});var hi=l(is);cl=o(hi,"CODE",{});var QD=l(cl);o4=e(QD,"reflect.New()"),QD.forEach(a),l4=e(hi,"가 스칼라 타입의 포인터를 생성하는 것처럼, "),ul=o(hi,"CODE",{});var jD=l(ul);c4=e(jD,"make()"),jD.forEach(a),u4=e(hi," 함수에 대응되는 함수가 Reflection에도 존재한다."),hi.forEach(a),Ak=r(n),qa=o(n,"PRE",{class:!0});var HS=l(qa);HS.forEach(a),Kk=r(n),xs=o(n,"P",{});var B2=l(xs);i4=e(B2,"이러한 함수들은 포함된 타입이 아니라 복합 타입을 나타내는 "),il=o(B2,"CODE",{});var YD=l(il);r4=e(YD,"reflect.Type"),YD.forEach(a),k4=e(B2,"을 파라미터로 받는다."),B2.forEach(a),Uk=r(n),$k=o(n,"BR",{}),Wk=r(n),rs=o(n,"P",{});var gi=l(rs);rl=o(gi,"CODE",{});var hD=l(rl);f4=e(hD,"reflect.Type"),hD.forEach(a),d4=e(gi,"을 구성할 때는 항상 값에서 시작해야 하지만 마땅한 값이 없는 경우 "),kl=o(gi,"CODE",{});var gD=l(kl);E4=e(gD,"reflect.Type"),gD.forEach(a),v4=e(gi,"을 나타내는 변수를 만들 수 있는 방법이 있다."),gi.forEach(a),qk=r(n),za=o(n,"PRE",{class:!0});var BS=l(za);BS.forEach(a),zk=r(n),f=o(n,"P",{});var d=l(f);_4=e(d,"위 예제에서 변수 "),fl=o(d,"CODE",{});var nw=l(fl);m4=e(nw,"stringType"),nw.forEach(a),b4=e(d,"은 "),dl=o(d,"CODE",{});var sw=l(dl);C4=e(sw,"string"),sw.forEach(a),y4=e(d,"을 나타내는 "),El=o(d,"CODE",{});var aw=l(El);O4=e(aw,"reflect.Type"),aw.forEach(a),D4=e(d,"을 갖게 되며, "),vl=o(d,"CODE",{});var tw=l(vl);w4=e(tw,"stringSliceType"),tw.forEach(a),P4=e(d,"은 "),_l=o(d,"CODE",{});var ew=l(_l);R4=e(ew,"[]string"),ew.forEach(a),T4=e(d,"을 타나내는 "),ml=o(d,"CODE",{});var pw=l(ml);V4=e(pw,"reflect.Type"),pw.forEach(a),S4=e(d,`을 갖게 된다.
`),bl=o(d,"CODE",{});var ow=l(bl);F4=e(ow,"stringType"),ow.forEach(a),x4=e(d,"의 경우 해석하기 좀 어려울 수 있지만 포인터 타입을 먼저 생성한 뒤 "),Cl=o(d,"CODE",{});var lw=l(Cl);H4=e(lw,"Elem()"),lw.forEach(a),B4=e(d,"을 호출하여 결국 "),yl=o(d,"CODE",{});var cw=l(yl);L4=e(cw,"string"),cw.forEach(a),N4=e(d,"을 나타내는 "),Ol=o(d,"CODE",{});var uw=l(Ol);M4=e(uw,"reflect.Type"),uw.forEach(a),I4=e(d,`을 얻는 것이다.
`),Dl=o(d,"CODE",{});var iw=l(Dl);G4=e(iw,"stringSliceType"),iw.forEach(a),A4=e(d,"의 경우는 "),wl=o(d,"CODE",{});var rw=l(wl);K4=e(rw,"[]string"),rw.forEach(a),U4=e(d,"의 기본값 자체가 "),Pl=o(d,"CODE",{});var kw=l(Pl);$4=e(kw,"nil"),kw.forEach(a),W4=e(d,"이기 때문에 위처럼 위와 같은 절차를 거치면 "),Rl=o(d,"CODE",{});var fw=l(Rl);q4=e(fw,"[]string"),fw.forEach(a),z4=e(d,"을 타나내는 "),Tl=o(d,"CODE",{});var dw=l(Tl);J4=e(dw,"reflect.Type"),dw.forEach(a),Z4=e(d,"을 얻을 수 있다."),d.forEach(a),Jk=r(n),Q=o(n,"P",{});var ss=l(Q);X4=e(ss,"이렇게 얻은 "),Vl=o(ss,"CODE",{});var Ew=l(Vl);Q4=e(Ew,"stringType"),Ew.forEach(a),j4=e(ss,"와 "),Sl=o(ss,"CODE",{});var vw=l(Sl);Y4=e(vw,"stringSliceType"),vw.forEach(a),h4=e(ss,"을 "),Fl=o(ss,"CODE",{});var _w=l(Fl);g4=e(_w,"reflect.New()"),_w.forEach(a),n6=e(ss,"와 "),xl=o(ss,"CODE",{});var mw=l(xl);s6=e(mw,"reflect.MakeSlice()"),mw.forEach(a),a6=e(ss,"의 파라미터로 보내 값을 생성할 수 있다."),ss.forEach(a),Zk=r(n),Ja=o(n,"PRE",{class:!0});var LS=l(Ja);LS.forEach(a),Xk=r(n),se=o(n,"P",{});var bw=l(se);t6=e(bw,"실행하면 다음과 같은 결과를 확인할 수 있다."),bw.forEach(a),Qk=r(n),Za=o(n,"PRE",{class:!0});var NS=l(Za);NS.forEach(a),jk=r(n),Yk=o(n,"BR",{}),hk=o(n,"BR",{}),gk=r(n),Hs=o(n,"H3",{id:!0});var py=l(Hs);Bs=o(py,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Cw=l(Bs);Hl=o(Cw,"SPAN",{class:!0}),l(Hl).forEach(a),Cw.forEach(a),e6=e(py,"Use Reflection to Check If an Interface’s Value Is nil"),py.forEach(a),nf=r(n),An=o(n,"P",{});var He=l(An);p6=e(He,`interface는 두 가지 nil을 가질 수 있다. 첫 번째는 interface가 가리키는 타입이 nil인 경우(즉 아무 것도 가리키지 않는 상태. 이 경우를 nul 인터페이스라고 함)이고, 두 번째는 interface가 가리키는 타입은 nil이 아니지만 값이 nil인 경우이다.
만약 interface가 가리키는 값이 nil인지 확인하고 싶다면 reflection의 `),Bl=o(He,"CODE",{});var yw=l(Bl);o6=e(yw,"IsValid()"),yw.forEach(a),l6=e(He,"와 "),Ll=o(He,"CODE",{});var Ow=l(Ll);c6=e(Ow,"IsNil()"),Ow.forEach(a),u6=e(He," 메소드를 활용해야 한다."),He.forEach(a),sf=r(n),Xa=o(n,"PRE",{class:!0});var MS=l(Xa);MS.forEach(a),af=r(n),F=o(n,"P",{});var cn=l(F);Nl=o(cn,"CODE",{});var Dw=l(Nl);i6=e(Dw,"IsValid()"),Dw.forEach(a),r6=e(cn,"는 "),Ml=o(cn,"CODE",{});var ww=l(Ml);k6=e(ww,"reflect.Value"),ww.forEach(a),f6=e(cn,"가 nil 인터페이스 이외의 다른 타입을 나타내는 경우 "),Il=o(cn,"CODE",{});var Pw=l(Il);d6=e(Pw,"true"),Pw.forEach(a),E6=e(cn,`를 반환한다.
만일 `),Gl=o(cn,"CODE",{});var Rw=l(Gl);v6=e(Rw,"reflect.Value"),Rw.forEach(a),_6=e(cn,"가 nil 인터페이스라서 "),Al=o(cn,"CODE",{});var Tw=l(Al);m6=e(Tw,"IsValid()"),Tw.forEach(a),b6=e(cn,"의 값이 "),Kl=o(cn,"CODE",{});var Vw=l(Kl);C6=e(Vw,"true"),Vw.forEach(a),y6=e(cn,"인 상태에서, 다른 메소드를 호출하면 panic에 빠지기 때문이다."),cn.forEach(a),tf=r(n),U=o(n,"P",{});var Nn=l(U);Ul=o(Nn,"CODE",{});var Sw=l(Ul);O6=e(Sw,"IsNil()"),Sw.forEach(a),D6=e(Nn,"은 "),$l=o(Nn,"CODE",{});var Fw=l($l);w6=e(Fw,"reflect.Value"),Fw.forEach(a),P6=e(Nn,"의 값이 nil이라면 true를 반환한다. "),Wl=o(Nn,"CODE",{});var xw=l(Wl);R6=e(xw,"IsNil()"),xw.forEach(a),T6=e(Nn,"를 호출하기에 앞서 먼저 "),ql=o(Nn,"CODE",{});var Hw=l(ql);V6=e(Hw,"Kind()"),Hw.forEach(a),S6=e(Nn,"로 값의 종류를 검사하는 것을 알 수 있다. 어느 정도 예상할 수 있듯, 변수의 Zero value nil이 아닌 타입(int 등)일 때 "),zl=o(Nn,"CODE",{});var Bw=l(zl);F6=e(Bw,"IsNil()"),Bw.forEach(a),x6=e(Nn,"을 호출하면 panic이 발생하기 때문이다."),Nn.forEach(a),ef=r(n),pf=o(n,"BR",{}),of=o(n,"BR",{}),lf=r(n),Ls=o(n,"H3",{id:!0});var oy=l(Ls);Ns=o(oy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Lw=l(Ns);Jl=o(Lw,"SPAN",{class:!0}),l(Jl).forEach(a),Lw.forEach(a),H6=e(oy,"Use Reflection to Write a Data Marshaler"),oy.forEach(a),cf=r(n),ae=o(n,"P",{});var Nw=l(ae);B6=e(Nw,"앞서 언급했듯 Replection은 marshaling과 unmarshaling을 구현하기 위해 사용된다. 우리는 데이터 marshaler를 직접 설계하여 어떻게 사용되는 지 알아보려 한다!"),Nw.forEach(a),uf=r(n),Kn=o(n,"P",{});var Be=l(Kn);L6=e(Be,"Go는 CSV 파일을 읽고 쓰기 위해 "),Zl=o(Be,"CODE",{});var Mw=l(Zl);N6=e(Mw,"csv.NewReader"),Mw.forEach(a),M6=e(Be,"와 "),Xl=o(Be,"CODE",{});var Iw=l(Xl);I6=e(Iw,"csv.NewWriter"),Iw.forEach(a),G6=e(Be," 함수를 제공하지만 데이터를 구조체로 매핑해주는 기능은 따로 없다. 이 기능을 직접 구현해볼 것이다."),Be.forEach(a),rf=r(n),kf=o(n,"BR",{}),ff=r(n),te=o(n,"P",{});var Gw=l(te);A6=e(Gw,"먼저 데이터 타입을 정의한다. 구조체 태그를 달아서, 다른 marshaler처럼 데이터에 존재하는 필드가 구조체의 각 필드에 매핑될 수 있게끔 한다."),Gw.forEach(a),df=r(n),Qa=o(n,"PRE",{class:!0});var IS=l(Qa);IS.forEach(a),Ef=r(n),ee=o(n,"P",{});var Aw=l(ee);K6=e(Aw,"public API는 두 개의 함수로 구성된다."),Aw.forEach(a),vf=r(n),ja=o(n,"PRE",{class:!0});var GS=l(ja);GS.forEach(a),_f=r(n),Ms=o(n,"P",{});var L2=l(Ms);U6=e(L2,"먼저 "),Ql=o(L2,"CODE",{});var Kw=l(Ql);$6=e(Kw,"Marshal()"),Kw.forEach(a),W6=e(L2," 함수를 작성해 보자."),L2.forEach(a),mf=r(n),Ya=o(n,"PRE",{class:!0});var AS=l(Ya);AS.forEach(a),bf=r(n),Is=o(n,"P",{});var N2=l(Is);q6=e(N2,"어떤 종류의 구조체든 marsharling이 가능해야 하기 떄문에, "),jl=o(N2,"CODE",{});var Uw=l(jl);z6=e(Uw,"interface{}"),Uw.forEach(a),J6=e(N2," 타입의 파라미터를 사용한다. 데이터를 수정하지 않고 읽기만 할 것이기 때문에 구조체의 slice에 대한 포인터가 아니다."),N2.forEach(a),Cf=r(n),N=o(n,"P",{});var Rn=l(N);Z6=e(Rn,"먼저, csv의 첫 줄은 각 열의 이름이 저장된 헤더가 될 것이므로, 구조체에 명시된 구조체 태그로부터 열 이름을 가져와 출력 데이터에 추가한다. slice의 "),Yl=o(Rn,"CODE",{});var $w=l(Yl);X6=e($w,"reflect.Value"),$w.forEach(a),Q6=e(Rn,"에서 "),hl=o(Rn,"CODE",{});var Ww=l(hl);j6=e(Ww,"Type()"),Ww.forEach(a),Y6=e(Rn," 메소드를 호출하여 "),gl=o(Rn,"CODE",{});var qw=l(gl);h6=e(qw,"reflect.Type"),qw.forEach(a),g6=e(Rn,"을 얻고, 다시 "),nc=o(Rn,"CODE",{});var zw=l(nc);n9=e(zw,"Elem()"),zw.forEach(a),s9=e(Rn,"을 호출하여 slice의 내부 타입 정보를 얻는다. 그리하여 얻은 타입 정보를 "),sc=o(Rn,"CODE",{});var Jw=l(sc);a9=e(Jw,"marshalHeader()"),Jw.forEach(a),t9=e(Rn,"에 전달하여 반환된 값을 출력 데이터에 추가하는 것이다."),Rn.forEach(a),yf=r(n),Un=o(n,"P",{});var Le=l(Un);e9=e(Le,"이후 구조체 slice의 이터레이션을 돌면서 각 인덱스의 "),ac=o(Le,"CODE",{});var Zw=l(ac);p9=e(Zw,"reflect.Value"),Zw.forEach(a),o9=e(Le,"를 "),tc=o(Le,"CODE",{});var Xw=l(tc);l9=e(Xw,"marshalOne()"),Xw.forEach(a),c9=e(Le,"의 파라미터로 보내서 반환된 값을 출력 데이터에 추가한다. 이터레이션이 끝나면 값을 반환한다."),Le.forEach(a),Of=r(n),ha=o(n,"P",{});var ly=l(ha);ec=o(ly,"CODE",{});var Qw=l(ec);u9=e(Qw,"marshalHeader()"),Qw.forEach(a),i9=e(ly,"는 다음과 같이 작성되었다."),ly.forEach(a),Df=r(n),ga=o(n,"PRE",{class:!0});var KS=l(ga);KS.forEach(a),wf=r(n),$n=o(n,"P",{});var Ne=l($n);r9=e(Ne,"구조체를 나타내는 "),pc=o(Ne,"CODE",{});var jw=l(pc);k9=e(jw,"reflect.Type"),jw.forEach(a),f9=e(Ne,"의 각 필드에 대해 이터레이션을 돌며, "),oc=o(Ne,"CODE",{});var Yw=l(oc);d9=e(Yw,"csv"),Yw.forEach(a),E9=e(Ne," 태그를 읽고 출력 slice에 추가하여 반환한다."),Ne.forEach(a),Pf=r(n),Gs=o(n,"P",{});var M2=l(Gs);v9=e(M2,"그리고 "),lc=o(M2,"CODE",{});var hw=l(lc);_9=e(hw,"marshalOne()"),hw.forEach(a),m9=e(M2,"은 다음과 같이 작성되었다."),M2.forEach(a),Rf=r(n),nt=o(n,"PRE",{class:!0});var US=l(nt);US.forEach(a),Tf=r(n),Wn=o(n,"P",{});var Me=l(Wn);b9=e(Me,"구조체를 나타내는 "),cc=o(Me,"CODE",{});var gw=l(cc);C9=e(gw,"vv reflect.Value"),gw.forEach(a),y9=e(Me,"를 파라미터로 받고, "),uc=o(Me,"CODE",{});var nP=l(uc);O9=e(nP,"Kind()"),nP.forEach(a),D9=e(Me," 메소드로 각 필드의 종류를 보고 문자열로 적절히 변환해준 후 출력한다."),Me.forEach(a),Vf=r(n),Sf=o(n,"BR",{}),Ff=r(n),As=o(n,"P",{});var I2=l(As);w9=e(I2,"이제 "),ic=o(I2,"CODE",{});var sP=l(ic);P9=e(sP,"Unmarshal()"),sP.forEach(a),R9=e(I2," 함수를 작성해보자."),I2.forEach(a),xf=r(n),st=o(n,"PRE",{class:!0});var $S=l(st);$S.forEach(a),Hf=r(n),Ks=o(n,"P",{});var G2=l(Ks);T9=e(G2,"데이터를 복사할 것이기 때문에, "),rc=o(G2,"CODE",{});var aP=l(rc);V9=e(aP,"Unmarshal()"),aP.forEach(a),S9=e(G2,`에서 파라미터로 받는 데이터는 구조체 slice의 포인터여야 한다.
함수 최상단에 이를 검사하는 부분이 존재한다. 이후 차례로 포인터가 가리키는 slice, slice가 저장하는 구조체를 검사한다.`),G2.forEach(a),Bf=r(n),Us=o(n,"P",{});var A2=l(Us);F9=e(A2,"데이터의 첫째 줄은 각 열의 이름이 저장된 헤더이다. 이 정보를 통해 구조체의 "),kc=o(A2,"CODE",{});var tP=l(kc);x9=e(tP,"csv"),tP.forEach(a),H9=e(A2," 태그를 각 인덱스에 대응시키는 map을 생성할 수 있다."),A2.forEach(a),Lf=r(n),j=o(n,"P",{});var as=l(j);B9=e(as,"이후 데이터의 각 행마다 이터레이션을 돌며 새로운 "),fc=o(as,"CODE",{});var eP=l(fc);L9=e(eP,"structType"),eP.forEach(a),N9=e(as," 타입의 "),dc=o(as,"CODE",{});var pP=l(dc);M9=e(pP,"reflect.Value"),pP.forEach(a),I9=e(as,"를 생성한다. 그리고 "),Ec=o(as,"CODE",{});var oP=l(Ec);G9=e(oP,"unmarshalOne()"),oP.forEach(a),A9=e(as,"을 호출하여 각 행의 데이터를"),vc=o(as,"CODE",{});var lP=l(vc);K9=e(lP,"reflect.Value"),lP.forEach(a),U9=e(as,"에 복사한 후 출력 데이터에 추가한다."),as.forEach(a),Nf=r(n),at=o(n,"P",{});var cy=l(at);_c=o(cy,"CODE",{});var cP=l(_c);$9=e(cP,"unmarshalOne()"),cP.forEach(a),W9=e(cy,"은 다음과 같이 작성되었다."),cy.forEach(a),Mf=r(n),tt=o(n,"PRE",{class:!0});var WS=l(tt);WS.forEach(a),If=r(n),En=o(n,"P",{});var ya=l(En);q9=e(ya,"이 함수는 새로 생성된 reflect.Value 타입의 각 필드에 대해 이터레이션을 돌며, "),mc=o(ya,"CODE",{});var uP=l(mc);z9=e(uP,"csv"),uP.forEach(a),J9=e(ya," 태그의 이름을 통해 "),bc=o(ya,"CODE",{});var iP=l(bc);Z9=e(iP,"namePos"),iP.forEach(a),X9=e(ya," 맵에서 "),Cc=o(ya,"CODE",{});var rP=l(Cc);Q9=e(rP,"data"),rP.forEach(a),j9=e(ya," slice의 위치를 찾아 문자열로 변환된 값을 저장한다."),ya.forEach(a),Gf=r(n),Af=o(n,"BR",{}),Kf=r(n),pe=o(n,"P",{});var kP=l(pe);Y9=e(kP,"이제 작성한 marshaler와 unmarshaler를 통해 csv를 분석해보자!"),kP.forEach(a),Uf=r(n),et=o(n,"PRE",{class:!0});var qS=l(et);qS.forEach(a),$f=r(n),Wf=o(n,"BR",{}),qf=r(n),$s=o(n,"P",{});var K2=l($s);h9=e(K2,"전체 예제 코드는 "),pt=o(K2,"A",{href:!0,rel:!0});var fP=l(pt);g9=e(fP,"https://go.dev/play/p/3kwe7ag1i1C"),fP.forEach(a),n7=e(K2,"에서 확인할 수 있다."),K2.forEach(a),zf=r(n),Jf=o(n,"BR",{}),Zf=o(n,"BR",{}),Xf=r(n),Ws=o(n,"H3",{id:!0});var uy=l(Ws);qs=o(uy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var dP=l(qs);yc=o(dP,"SPAN",{class:!0}),l(yc).forEach(a),dP.forEach(a),s7=e(uy,"Build Functions with Reflection to Automate Repetitive Tasks"),uy.forEach(a),Qf=r(n),oe=o(n,"P",{});var EP=l(oe);a7=e(EP,`Reflection을 통해 반복적인 코드를 작성하지 않고, 기존 함수를 감싸 재사용하여 함수를 생성할 수도 있다.
다음의 예제는 들어온 파라미터로 함수에 시간을 재는 기능이 추가된 함수를 반환하는 Factory 함수이다.`),EP.forEach(a),jf=r(n),ot=o(n,"PRE",{class:!0});var zS=l(ot);zS.forEach(a),Yf=r(n),M=o(n,"P",{});var Tn=l(M);t7=e(Tn,"이 함수는 함수를 파라미터로 받아, 함수를 나타내는 "),Oc=o(Tn,"CODE",{});var vP=l(Oc);e7=e(vP,"reflect.Type"),vP.forEach(a),p7=e(Tn,"을 얻어 "),Dc=o(Tn,"CODE",{});var _P=l(Dc);o7=e(_P,"reflect.MakeFunc()"),_P.forEach(a),l7=e(Tn,`로 보낸다.
이후 `),wc=o(Tn,"CODE",{});var mP=l(wc);c7=e(mP,"reflect.MakeFunc()"),mP.forEach(a),u7=e(Tn,`로 시작 시각을 얻고, 기존 함수를 호출하고, 종료 시각을 얻어서 시간차를 출력하고, 기존 함수의 반환값을 반환 하는 함수를 작성한다.
이후 해당 함수를 가리키는 `),Pc=o(Tn,"CODE",{});var bP=l(Pc);i7=e(bP,"reflect.Value"),bP.forEach(a),r7=e(Tn,"를 "),Rc=o(Tn,"CODE",{});var CP=l(Rc);k7=e(CP,"Interface()"),CP.forEach(a),f7=e(Tn," 메소드를 통해 반환할 함수를 얻는다."),Tn.forEach(a),hf=r(n),le=o(n,"P",{});var yP=l(le);d7=e(yP,"위 함수는 다음과 같이 사용할 수 있다."),yP.forEach(a),gf=r(n),lt=o(n,"PRE",{class:!0});var JS=l(lt);JS.forEach(a),nd=r(n),ce=o(n,"P",{});var OP=l(ce);E7=e(OP,`이처럼 Reflection을 통해 함수를 생성할 수는 있지만 이 기능을 사용할 때는 주의해야 한다.
언제 함수를 생성할지, 어떤 기능을 추가할지에 대해 확실히 해 두는 편이 좋다. 그렇지 않으면 프로그램 내 데이터 흐름을 이해하기 더욱 어려워질 것이다.`),OP.forEach(a),sd=r(n),ue=o(n,"P",{});var DP=l(ue);v7=e(DP,"뿐만 아니라 기본적으로 Reflection은 프로그램을 느리게 만든다. 네트워크 통신 같은 원래 느린 동작을 하는 게 아닌 이상, 함수를 생성하고 생성된 함수를 호출하는 것은 성능에 중대한 영향을 미칠 것이다. 다시 한번 언급하지만, Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 매핑할 때 유용하다."),DP.forEach(a),ad=r(n),td=o(n,"BR",{}),ed=o(n,"BR",{}),pd=r(n),zs=o(n,"H3",{id:!0});var iy=l(zs);Js=o(iy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var wP=l(Js);Tc=o(wP,"SPAN",{class:!0}),l(Tc).forEach(a),wP.forEach(a),_7=e(iy,"What you shouldn’t do with Reflection"),iy.forEach(a),od=r(n),tn=o(n,"P",{});var fs=l(tn);Vc=o(fs,"CODE",{});var PP=l(Vc);m7=e(PP,"reflect.StructOf()"),PP.forEach(a),b7=e(fs," 함수는 "),Sc=o(fs,"CODE",{});var RP=l(Sc);C7=e(RP,"reflect.StructField"),RP.forEach(a),y7=e(fs,"의 slice를 파라미터로 받아 새로운 구조체 타입을 가리키는 "),Fc=o(fs,"CODE",{});var TP=l(Fc);O7=e(TP,"reflect.Type"),TP.forEach(a),D7=e(fs,"을 반환한다. 이렇게 생성된 구조체는 "),xc=o(fs,"CODE",{});var VP=l(xc);w7=e(VP,"interface{}"),VP.forEach(a),P7=e(fs,"를 통해서만 변수에 할당될 수 있으며, Reflection을 사용해야만 데이터를 읽고 쓸 수 있다."),fs.forEach(a),ld=r(n),ie=o(n,"P",{});var SP=l(ie);R7=e(SP,"근데 굳이 이렇게까지 할 필요가 없다. 이 기능은 학술적인 목적에서만 사용된다고 하며, 우리 같은 일반 사용자들은 그냥 구조체 선언해서 쓰자. 하지말라면 하지마!"),SP.forEach(a),cd=r(n),ud=o(n,"BR",{}),id=r(n),re=o(n,"P",{});var FP=l(re);T7=e(FP,"또한 Reflection으로는 메소드를 만들 수도 없다. 함수나 구조체 타입은 만들 수 있긴 한데, 타입에 메소드를 추가할 수는 없다. 당연히 인터페이스를 만드는 것도 안된다."),FP.forEach(a),rd=r(n),kd=o(n,"BR",{}),fd=o(n,"BR",{}),dd=r(n),Zs=o(n,"H3",{id:!0});var ry=l(Zs);Xs=o(ry,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var xP=l(Xs);Hc=o(xP,"SPAN",{class:!0}),l(Hc).forEach(a),xP.forEach(a),V7=e(ry,"Only Use Reflection If It’s Worthwhile"),ry.forEach(a),Ed=r(n),ke=o(n,"P",{});var HP=l(ke);S7=e(HP,`입이 닳도록 말하지만 Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 변환할 때 필수적이다.
하지만 그 외의 상황에서는 사용에 주의를 기울여야 한다.`),HP.forEach(a),vd=r(n),qn=o(n,"P",{});var Ie=l(qn);F7=e(Ie,"이를테면 여러 언어에 존재하는 "),Bc=o(Ie,"CODE",{});var BP=l(Bc);x7=e(BP,"Filter()"),BP.forEach(a),H7=e(Ie," 함수를 작성한다고 가정해보자. 만약 문자열에 대해 동작하는 "),Lc=o(Ie,"CODE",{});var LP=l(Lc);B7=e(LP,"Filter()"),LP.forEach(a),L7=e(Ie,"함수를 작성한다면 아래와 같이 작성할 것이다."),Ie.forEach(a),_d=r(n),ct=o(n,"PRE",{class:!0});var ZS=l(ct);ZS.forEach(a),md=r(n),fe=o(n,"P",{});var NP=l(fe);N7=e(NP,"반면 단일 타입이 아니라 여러 타입에 대해 연산을 가능하게 한다고 가정할 때, 이런 함수는 Reflection을 통해서 작성할 수 있다."),NP.forEach(a),bd=r(n),ut=o(n,"PRE",{class:!0});var XS=l(ut);XS.forEach(a),Cd=r(n),de=o(n,"P",{});var MP=l(de);M7=e(MP,"그리고 아래와 같이 호출하여 사용한다."),MP.forEach(a),yd=r(n),it=o(n,"PRE",{class:!0});var QS=l(it);QS.forEach(a),Od=r(n),ks=o(n,"P",{});var nr=l(ks);Nc=o(nr,"CODE",{});var IP=l(Nc);I7=e(IP,"ReflectedFilter()"),IP.forEach(a),G7=e(nr," 함수는 어렵지 않지만 "),Mc=o(nr,"CODE",{});var GP=l(Mc);A7=e(GP,"Filter()"),GP.forEach(a),K7=e(nr,`보다는 분명히 길다.
게다가 성능을 측정해보면 Reflection을 사용한 코드는 사용하지 않은 코드보다 30~70배 느린 것을 확인할 수 있다.`),nr.forEach(a),Dd=r(n),rt=o(n,"PRE",{class:!0});var jS=l(rt);jS.forEach(a),wd=r(n),Ee=o(n,"P",{});var AP=l(Ee);U7=e(AP,`더 많은 메모리를 사용하고 수천 회의 메모리 할당이 일어나므로 가비지 컬렉터가 해야 할 일이 늘어나기 때문이다.
즉, 필요에 따라 Reflection을 사용할 수는 있지만 충분히 고민을 거쳐야 한다.`),AP.forEach(a),Pd=r(n),ve=o(n,"P",{});var KP=l(ve);$7=e(KP,`성능 이슈보다 중요한 문제는 파라미터로 잘못된 타입을 넘기는 것을 컴파일러가 잡아주지 못한다는 것이다.
특정 타입만 허용해주는 작업을 반복적으로 진행해야 하기 떄문에 에러를 찾기도 힘들며, 코드의 유지보수 난이도가 증가한다.`),KP.forEach(a),Rd=r(n),Td=o(n,"BR",{}),Vd=o(n,"BR",{}),Sd=r(n),Qs=o(n,"H2",{id:!0});var ky=l(Qs);js=o(ky,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var UP=l(js);Ic=o(UP,"SPAN",{class:!0}),l(Ic).forEach(a),UP.forEach(a),W7=e(ky,"unsafe is Unsafe"),ky.forEach(a),Fd=r(n),Hn=o(n,"P",{});var It=l(Hn);Gc=o(It,"CODE",{});var $P=l(Gc);q7=e($P,"reflect"),$P.forEach(a),z7=e(It," 패키지를 통해 타입, 값을 조작할 수 있듯, "),Ac=o(It,"CODE",{});var WP=l(Ac);J7=e(WP,"unsafe"),WP.forEach(a),Z7=e(It,` 패키지를 통해 메모리를 조작할 수 있다.
그러나 `),Kc=o(It,"CODE",{});var qP=l(Kc);X7=e(qP,"unsafe"),qP.forEach(a),Q7=e(It," 패키지는 굉장히 특이한 3개의 함수와 하나의 타입을 정의하는데, 다른 패키지의 함수나 타입과는 완전히 다르다고 볼 수 있다."),It.forEach(a),xd=r(n),vn=o(n,"P",{});var Oa=l(vn);j7=e(Oa,"함수 "),Uc=o(Oa,"CODE",{});var zP=l(Uc);Y7=e(zP,"Sizeof()"),zP.forEach(a),h7=e(Oa,`는 특정 타입의 변수가 몇 바이트를 사용하고 있는지 반환한다.
함수 `),$c=o(Oa,"CODE",{});var JP=l($c);g7=e(JP,"Offsetof()"),JP.forEach(a),n8=e(Oa,`는 구조체의 필드가 구조체의 시작점으로부터 몇 바이트 떨어져 있는지 반환한다.
함수 `),Wc=o(Oa,"CODE",{});var ZP=l(Wc);s8=e(ZP,"Alignof()"),ZP.forEach(a),a8=e(Oa,`는 변수 또는 필드가 얼마만큼 byte alignment를 필요로 하는지 반환한다.
어떤 값이든 이 함수들의 파라미터로 보낼 수 있으며, 반환되는 값은 상수이므로 상수 표현식에 사용할 수 있다.`),Oa.forEach(a),Hd=r(n),$=o(n,"P",{});var Mn=l($);qc=o(Mn,"CODE",{});var XP=l(qc);t8=e(XP,"unsafe.Pointer"),XP.forEach(a),e8=e(Mn," 타입은 모든 유형의 포인터를 "),zc=o(Mn,"CODE",{});var QP=l(zc);p8=e(QP,"unsafe.Pointer"),QP.forEach(a),o8=e(Mn,"로 변환하거나, 또는 "),Jc=o(Mn,"CODE",{});var jP=l(Jc);l8=e(jP,"unsafe.Pointer"),jP.forEach(a),c8=e(Mn,`를 변환하여 포인터를 얻을 수 있는 특별한 타입이다.
또한 `),Zc=o(Mn,"CODE",{});var YP=l(Zc);u8=e(YP,"unsafe.Pointer"),YP.forEach(a),i8=e(Mn,"는 "),Xc=o(Mn,"CODE",{});var hP=l(Xc);r8=e(hP,"uintptr"),hP.forEach(a),k8=e(Mn,`이라고 하는 특별한 정수형 타입으로도 변환할 수 있으며, C/C++처럼 이 타입을 통해 수학적 연산도 가능하다.
이렇게 하면 특정 타입의 인스턴스로 들어가서 각각의 바이트를 추출할 수 있으며, 바이트를 조작하면 변수의 실제 값이 변경된다.`),Mn.forEach(a),Bd=r(n),I=o(n,"P",{});var Vn=l(I);f8=e(Vn,"일반적으로 "),Qc=o(Vn,"CODE",{});var gP=l(Qc);d8=e(gP,"unsafe"),gP.forEach(a),E8=e(Vn,` 패키지를 사용하는 두 가지 패턴이 있다.
첫 번째는 일반적으로 변환할 수 없는 두 타입간의 변수를 변환하는 것이다. `),jc=o(Vn,"CODE",{});var nR=l(jc);v8=e(nR,"unsafe.Pointer"),nR.forEach(a),_8=e(Vn,`를 가운데 두고 몇 단계의 타입 변환을 거쳐 수행할 수 있다.
두 번째는 변수를 `),Yc=o(Vn,"CODE",{});var sR=l(Yc);m8=e(sR,"unsafe.Pointer"),sR.forEach(a),b8=e(Vn,"로 변환하고 "),hc=o(Vn,"CODE",{});var aR=l(hc);C8=e(aR,"unsafe.Pointer"),aR.forEach(a),y8=e(Vn,"를 "),gc=o(Vn,"CODE",{});var tR=l(gc);O8=e(tR,"uintptr"),tR.forEach(a),D8=e(Vn,"로 변환한 다음, 바이트에 접근하여 복사하거나 조작하는 것이다."),Vn.forEach(a),Ld=r(n),Nd=o(n,"BR",{}),Md=o(n,"BR",{}),Id=r(n),Ys=o(n,"H3",{id:!0});var fy=l(Ys);hs=o(fy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var eR=l(hs);nu=o(eR,"SPAN",{class:!0}),l(nu).forEach(a),eR.forEach(a),w8=e(fy,"Use unsafe to Convert External Binary Data"),fy.forEach(a),Gd=r(n),Y=o(n,"P",{});var ts=l(Y);P8=e(ts,"Go는 메모리 안정성을 중요시 하는 언어인데 왜 "),su=o(ts,"CODE",{});var pR=l(su);R8=e(pR,"unsafe"),pR.forEach(a),T8=e(ts,`같은 패키지가 존재하는가에 대해 의문이 생길 것이다.
Go 프로그램과 외부 세계의 사이에서 데이터를 변환하기 위해 `),au=o(ts,"CODE",{});var oR=l(au);V8=e(oR,"reflect"),oR.forEach(a),S8=e(ts,"를 사용하는 것처럼, 바이너리 데이터를 변환하기 위해 "),tu=o(ts,"CODE",{});var lR=l(tu);F8=e(lR,"unsafe"),lR.forEach(a),x8=e(ts,`를 사용한다.
실제로 `),eu=o(ts,"CODE",{});var cR=l(eu);H8=e(cR,"unsafe"),cR.forEach(a),B8=e(ts,"가 사용되는 목적을 살펴보면 주로 운영체제 또는 C로 작성된 코드와의 통합을 위해 사용되거나, 코드 최적화를 위해 사용된다."),ts.forEach(a),Ad=r(n),zn=o(n,"P",{});var Ge=l(zn);L8=e(Ge,"특히 네트워크로부터 데이터를 읽어들이거나 전송할 때 "),pu=o(Ge,"CODE",{});var uR=l(pu);N8=e(uR,"unsafe"),uR.forEach(a),M8=e(Ge,"의 "),ou=o(Ge,"CODE",{});var iR=l(ou);I8=e(iR,"unsafe.Pointer"),iR.forEach(a),G8=e(Ge,`를 사용하여 데이터를 매핑하면 매우 빠르다.
가령 다음과 같은 구조의 데이터 프로토콜이 있다고 해보자.`),Ge.forEach(a),Kd=r(n),_n=o(n,"UL",{});var Da=l(_n);lu=o(Da,"LI",{});var rR=l(lu);A8=e(rR,"Value: 4 바이트, big endian, unsigned int"),rR.forEach(a),K8=r(Da),cu=o(Da,"LI",{});var kR=l(cu);U8=e(kR,"Label: 10 바이트, 값에 대한 ASCII 이름"),kR.forEach(a),$8=r(Da),uu=o(Da,"LI",{});var fR=l(uu);W8=e(fR,"Active: 1 바이트, 필드가 활성화되어 있는지 나타내기 위한 플래그"),fR.forEach(a),q8=r(Da),iu=o(Da,"LI",{});var dR=l(iu);z8=e(dR,"Padding: 데이터를 16바이트로 맞춰주기 위한 Padding"),dR.forEach(a),Da.forEach(a),Ud=r(n),_e=o(n,"BLOCKQUOTE",{});var ER=l(_e);ru=o(ER,"P",{});var vR=l(ru);J8=e(vR,`네트워크상의 데이터는 대부분 Big endian 또는 Network Byte Order로, most significant byte가 가장 작은 주소에 할당된다.
반면 오늘날 대부분의 CPU에서는 least significant byte가 가장 작은 주소에 할당되는 little endian을 사용한다.
네트워크상의 데이터를 읽거나 쓸 때는 데이터의 처리에 주의해야 한다.`),vR.forEach(a),ER.forEach(a),$d=r(n),Wd=o(n,"BR",{}),qd=r(n),me=o(n,"P",{});var _R=l(me);Z8=e(_R,"다음과 같은 구조체를 정의한다."),_R.forEach(a),zd=r(n),kt=o(n,"PRE",{class:!0});var YS=l(kt);YS.forEach(a),Jd=r(n),be=o(n,"P",{});var mR=l(be);X8=e(mR,"그리고, 네트워크로부터 다음과 같은 바이트 열을 읽었다고 가정해보자."),mR.forEach(a),Zd=r(n),ft=o(n,"PRE",{class:!0});var hS=l(ft);hS.forEach(a),Xd=r(n),gs=o(n,"P",{});var U2=l(gs);Q8=e(U2,"이제 이 데이터를 길이가 16인 바이트로 읽은 후, "),ku=o(U2,"CODE",{});var bR=l(ku);j8=e(bR,"Data"),bR.forEach(a),Y8=e(U2,` 구조체로 변환할 것이다.
안전한 Go 코드에서는 다음과 같은 코드로 데이터 매핑을 할 수 있다.`),U2.forEach(a),Qd=r(n),dt=o(n,"PRE",{class:!0});var gS=l(dt);gS.forEach(a),jd=r(n),na=o(n,"P",{});var $2=l(na);h8=e($2,"혹은 이렇게 "),fu=o($2,"CODE",{});var CR=l(fu);g8=e(CR,"unsafe.Pointer"),CR.forEach(a),n0=e($2,"를 사용할 수도 있다."),$2.forEach(a),Yd=r(n),Et=o(n,"PRE",{class:!0});var nF=l(Et);nF.forEach(a),hd=r(n),h=o(n,"P",{});var es=l(h);s0=e(es,"먼저 "),du=o(es,"CODE",{});var yR=l(du);a0=e(yR,"[16]byte"),yR.forEach(a),t0=e(es,"의 포인터를 "),Eu=o(es,"CODE",{});var OR=l(Eu);e0=e(OR,"unsafe.Pointer"),OR.forEach(a),p0=e(es,"로 변환한 후 이를 다시 "),vu=o(es,"CODE",{});var DR=l(vu);o0=e(DR,"*Data"),DR.forEach(a),l0=e(es,`로 변환한다.
구조체의 포인터가 아니라 값을 반환할 것이기 때문에 가장 바깥에서 `),_u=o(es,"CODE",{});var wR=l(_u);c0=e(wR,"*"),wR.forEach(a),u0=e(es,`를 통해 포인터를 derefernce해준다.
이때 little endian 플랫폼이라면 값을 뒤집어주는 작업을 거친 후 데이터를 반환해준다.`),es.forEach(a),gd=r(n),Ce=o(n,"P",{});var PR=l(Ce);i0=e(PR,"Go 프로그램이 little endian 플랫폼에서 돌아가고 있는지 다음과 같이 확인할 수 있다."),PR.forEach(a),n1=r(n),vt=o(n,"PRE",{class:!0});var sF=l(vt);sF.forEach(a),s1=r(n),Bn=o(n,"P",{});var Gt=l(Bn);mu=o(Gt,"CODE",{});var RR=l(mu);r0=e(RR,"init()"),RR.forEach(a),k0=e(Gt," 함수의 사용은 최대한 피해야 하지만, 지금의 경우는 실질적으로 변하지 않는 패키지 변수를 초기화하는 경우이므로 "),bu=o(Gt,"CODE",{});var TR=l(bu);f0=e(TR,"init()"),TR.forEach(a),d0=e(Gt,"을 사용하여 "),Cu=o(Gt,"CODE",{});var VR=l(Cu);E0=e(VR,"isLE"),VR.forEach(a),v0=e(Gt,`를 초기화한다.
프로그램 런타임 중 프로세서의 endian이 변할 일은 없기 때문에 적절한 용례라고 볼 수 있다.`),Gt.forEach(a),a1=r(n),mn=o(n,"P",{});var wa=l(mn);_0=e(wa,"litten endian 플랫폼에서는 "),yu=o(wa,"CODE",{});var SR=l(yu);m0=e(SR,"x"),SR.forEach(a),b0=e(wa,`의 바이트 열이 [00 FF]로 저장되지만 big endian 플랫폼에서는 [FF 00]으로 저장된다.
따라서 `),Ou=o(wa,"CODE",{});var FR=l(Ou);C0=e(FR,"unsafe.Pointer"),FR.forEach(a),y0=e(wa,"로 정수를 바이트 열로 변환한 후, 첫 번째 바이트의 값을 확인하여 "),Du=o(wa,"CODE",{});var xR=l(Du);O0=e(xR,"isLE"),xR.forEach(a),D0=e(wa,"를 결정할 수 있다."),wa.forEach(a),t1=r(n),e1=o(n,"BR",{}),p1=r(n),ye=o(n,"P",{});var HR=l(ye);w0=e(HR,"마찬가지로 네트워크상에 데이터를 전송하는 경우, 안전한 Go 코드는 다음과 같다."),HR.forEach(a),o1=r(n),_t=o(n,"PRE",{class:!0});var aF=l(_t);aF.forEach(a),l1=r(n),sa=o(n,"P",{});var W2=l(sa);P0=e(W2,"그리고 "),wu=o(W2,"CODE",{});var BR=l(wu);R0=e(BR,"unsafe"),BR.forEach(a),T0=e(W2,"를 사용하면 다음과 같다."),W2.forEach(a),c1=r(n),mt=o(n,"PRE",{class:!0});var tF=l(mt);tF.forEach(a),u1=r(n),aa=o(n,"P",{});var q2=l(aa);V0=e(q2,"실제로 성능을 비교해보면, "),Pu=o(q2,"CODE",{});var LR=l(Pu);S0=e(LR,"unsafe"),LR.forEach(a),F0=e(q2,"를 사용한 코드가 두 배 가량 빠르다고 한다."),q2.forEach(a),i1=r(n),bt=o(n,"PRE",{class:!0});var eF=l(bt);eF.forEach(a),r1=r(n),Oe=o(n,"P",{});var NR=l(Oe);x0=e(NR,"..나는 두 배가 아닌데..?"),NR.forEach(a),k1=r(n),De=o(n,"P",{});var MR=l(De);H0=e(MR,`어쨌든 이러한 로우레벨 기술을 활용하여 퍼포먼스를 끌어올려야 하는 프로그램에서는 유용하게 사용할 수 있을 것이다.
다만 대부분의 프로그램에서는 이렇게까지 할 필요는 없고 그냥 안전한 코드를 쓰자.`),MR.forEach(a),f1=r(n),d1=o(n,"BR",{}),E1=o(n,"BR",{}),v1=r(n),ta=o(n,"H3",{id:!0});var dy=l(ta);ea=o(dy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var IR=l(ea);Ru=o(IR,"SPAN",{class:!0}),l(Ru).forEach(a),IR.forEach(a),B0=e(dy,"unsafe Strings and Slices"),dy.forEach(a),_1=r(n),Ct=o(n,"P",{});var Ey=l(Ct);Tu=o(Ey,"CODE",{});var GR=l(Tu);L0=e(GR,"unsafe"),GR.forEach(a),N0=e(Ey,"에서도 slice나 string을 사용할 수 있다."),Ey.forEach(a),m1=r(n),g=o(n,"P",{});var ps=l(g);M0=e(ps,"우선 "),Vu=o(ps,"CODE",{});var AR=l(Vu);I0=e(AR,"string"),AR.forEach(a),G0=e(ps,`은 기본적으로 byte 열의 포인터와 길이로 이루어 있다.
`),Su=o(ps,"CODE",{});var KR=l(Su);A0=e(KR,"reflect"),KR.forEach(a),K0=e(ps," 패키지에는 이러한 구조를 가지고 있는 "),Fu=o(ps,"CODE",{});var UR=l(Fu);U0=e(UR,"reflect.StringHeader"),UR.forEach(a),$0=e(ps,"라는 타입이 존재하며, 이를 통해 "),xu=o(ps,"CODE",{});var $R=l(xu);W0=e($R,"string"),$R.forEach(a),q0=e(ps,`의 내부적 구조에 접근하여 조작할 수 있다.
아래 예제는 길이 정보에 접근하는 예제이다.`),ps.forEach(a),b1=r(n),yt=o(n,"PRE",{class:!0});var pF=l(yt);pF.forEach(a),C1=r(n),bn=o(n,"P",{});var Pa=l(bn);z0=e(Pa,"또한 "),Hu=o(Pa,"CODE",{});var WR=l(Hu);J0=e(WR,"sHdr"),WR.forEach(a),Z0=e(Pa,"의 "),Bu=o(Pa,"CODE",{});var qR=l(Bu);X0=e(qR,"Data"),qR.forEach(a),Q0=e(Pa," 필드에 접근하여 “pointer arithmetic”을 통해 문자열 내부의 바이트를 읽을 수 있다. 이때 피연산자의 타입은 "),Lu=o(Pa,"CODE",{});var zR=l(Lu);j0=e(zR,"uintptr"),zR.forEach(a),Y0=e(Pa,"여야 한다. C/C++에서 보던 것과 유사한 접근이다!"),Pa.forEach(a),y1=r(n),Ot=o(n,"PRE",{class:!0});var oF=l(Ot);oF.forEach(a),O1=r(n),O=o(n,"P",{});var W=l(O);Nu=o(W,"CODE",{});var JR=l(Nu);h0=e(JR,"reflect.StringHeader"),JR.forEach(a),g0=e(W,"의 "),Mu=o(W,"CODE",{});var ZR=l(Mu);nm=e(ZR,"Data"),ZR.forEach(a),sm=e(W," 필드는 "),Iu=o(W,"CODE",{});var XR=l(Iu);am=e(XR,"uintptr"),XR.forEach(a),tm=e(W,` 유형이다.
그런데 가비지 컬렉터의 존재로 인해 `),Gu=o(W,"CODE",{});var QR=l(Gu);em=e(QR,"uintptr"),QR.forEach(a),pm=e(W,`을 통해 유효한 메모리를 단일 구문 이상 참조할 수는 없다.
이때 `),Au=o(W,"CODE",{});var jR=l(Au);om=e(jR,"runtime.KeepAlive(s)"),jR.forEach(a),lm=e(W,"를 함수의 마지막에 추가하면, Go 런타임의 가비지 컬렉터가 "),Ku=o(W,"CODE",{});var YR=l(Ku);cm=e(YR,"KeepAlive()"),YR.forEach(a),um=e(W,"를 호출할 때까지 "),Uu=o(W,"CODE",{});var hR=l(Uu);im=e(hR,"s"),hR.forEach(a),rm=e(W,"를 수집하지 않게 된다."),W.forEach(a),D1=r(n),w1=o(n,"BR",{}),P1=r(n),D=o(n,"P",{});var q=l(D);$u=o(q,"CODE",{});var gR=l($u);km=e(gR,"unsafe"),gR.forEach(a),fm=e(q," 패키지를 통해 string으로부터 "),Wu=o(q,"CODE",{});var nT=l(Wu);dm=e(nT,"reflect.StringHeader"),nT.forEach(a),Em=e(q,"을 얻을 수 있듯, slice로부터 "),qu=o(q,"CODE",{});var sT=l(qu);vm=e(sT,"reflect.SliceHeader"),sT.forEach(a),_m=e(q,`를 얻을 수 있다.
`),zu=o(q,"CODE",{});var aT=l(zu);mm=e(aT,"reflect.SliceHeader"),aT.forEach(a),bm=e(q,"에는 각각 "),Ju=o(q,"CODE",{});var tT=l(Ju);Cm=e(tT,"Len"),tT.forEach(a),ym=e(q,", "),Zu=o(q,"CODE",{});var eT=l(Zu);Om=e(eT,"Cap"),eT.forEach(a),Dm=e(q,", "),Xu=o(q,"CODE",{});var pT=l(Xu);wm=e(pT,"Data"),pT.forEach(a),Pm=e(q,"의 세 가지 필드가 있으며 각각 길이, 용량, 그리고 slice의 데이터를 가리키는 포인터이다."),q.forEach(a),R1=r(n),Dt=o(n,"PRE",{class:!0});var lF=l(Dt);lF.forEach(a),T1=r(n),G=o(n,"P",{});var Sn=l(G);Rm=e(Sn,"string에서와 유사하게 "),Qu=o(Sn,"CODE",{});var oT=l(Qu);Tm=e(oT,"[]int"),oT.forEach(a),Vm=e(Sn," 포인터를 "),ju=o(Sn,"CODE",{});var lT=l(ju);Sm=e(lT,"unsafe.Pointer"),lT.forEach(a),Fm=e(Sn,"로 변환한 후, 이를 다시 "),Yu=o(Sn,"CODE",{});var cT=l(Yu);xm=e(cT,"reflect.SliceHeader"),cT.forEach(a),Hm=e(Sn,"의 포인터로 변환한다. 이후 "),hu=o(Sn,"CODE",{});var uT=l(hu);Bm=e(uT,"Len"),uT.forEach(a),Lm=e(Sn,", "),gu=o(Sn,"CODE",{});var iT=l(gu);Nm=e(iT,"Cap"),iT.forEach(a),Mm=e(Sn," 필드에 접근할 수 있다."),Sn.forEach(a),V1=r(n),we=o(n,"P",{});var rT=l(we);Im=e(rT,"slice 또한 각 원소에 대해 이터레이션이 가능하다."),rT.forEach(a),S1=r(n),wt=o(n,"PRE",{class:!0});var cF=l(wt);cF.forEach(a),F1=r(n),w=o(n,"P",{});var z=l(w);ni=o(z,"CODE",{});var kT=l(ni);Gm=e(kT,"int"),kT.forEach(a),Am=e(z,"의 크기는 32비트 또는 64비트이기 때문에, 반드시 "),si=o(z,"CODE",{});var fT=l(si);Km=e(fT,"unsafe.Sizeof()"),fT.forEach(a),Um=e(z," 함수로 "),ai=o(z,"CODE",{});var dT=l(ai);$m=e(dT,"Data"),dT.forEach(a),Wm=e(z,` 필드의 각 값이 몇 바이트인지 확인해야 한다.
이후 그 크기만큼 `),ti=o(z,"CODE",{});var ET=l(ti);qm=e(ET,"uintptr"),ET.forEach(a),zm=e(z,"로 변환한 "),ei=o(z,"CODE",{});var vT=l(ei);Jm=e(vT,"i"),vT.forEach(a),Zm=e(z,"를 곱하면 "),pi=o(z,"CODE",{});var _T=l(pi);Xm=e(_T,"Data"),_T.forEach(a),Qm=e(z,` 필드의 각 데이터의 접근할 수 있다.
마지막으로 `),oi=o(z,"CODE",{});var mT=l(oi);jm=e(mT,"int"),mT.forEach(a),Ym=e(z," 포인터로 변환해주고 dereference하면 값을 얻을 수 있다."),z.forEach(a),x1=r(n),H1=o(n,"BR",{}),B1=o(n,"BR",{}),L1=r(n),pa=o(n,"H3",{id:!0});var vy=l(pa);oa=o(vy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var bT=l(oa);li=o(bT,"SPAN",{class:!0}),l(li).forEach(a),bT.forEach(a),hm=e(vy,"unsafe Tools"),vy.forEach(a),N1=r(n),nn=o(n,"P",{});var os=l(nn);gm=e(os,"실행 명령어에 "),ci=o(os,"CODE",{});var CT=l(ci);nb=e(CT,"-gcflags=-d=checkptr"),CT.forEach(a),sb=e(os," 플래그를 붙이면 잘못 사용된 "),ui=o(os,"CODE",{});var yT=l(ui);ab=e(yT,"unsafe.Pointer"),yT.forEach(a),tb=e(os,"나 "),ii=o(os,"CODE",{});var OT=l(ii);eb=e(OT,"uintptr"),OT.forEach(a),pb=e(os,`를 찾을 수 있다.
이 플래그는 Race Checker처럼 모든 `),ri=o(os,"CODE",{});var DT=l(ri);ob=e(DT,"unsafe"),DT.forEach(a),lb=e(os," 문제를 찾을 수 있는 것은 아니고 프로그램의 속도를 느리게 만들지만, 테스트 단계에서는 붙이는 것이 좋다."),os.forEach(a),M1=r(n),Pe=o(n,"P",{});var wT=l(Pe);cb=e(wT,"unsafe는 유용한 로우 레벨 패키지이지만, 지금 무엇을 필요로 하는지 잘 모르거나 성능 향상이 필요한 게 아니라면 사용하지 않는 것이 좋다."),wT.forEach(a),I1=r(n),la=o(n,"P",{});var z2=l(la);ub=e(z2,"unsafe에 대해 더 알고싶다면 "),Pt=o(z2,"A",{href:!0,rel:!0});var PT=l(Pt);ib=e(PT,"패키지 문서"),PT.forEach(a),rb=e(z2,"를 참조해 보자."),z2.forEach(a),G1=r(n),A1=o(n,"BR",{}),K1=o(n,"BR",{}),U1=r(n),ca=o(n,"H2",{id:!0});var _y=l(ca);ua=o(_y,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var RT=l(ua);ki=o(RT,"SPAN",{class:!0}),l(ki).forEach(a),RT.forEach(a),kb=e(_y,"Cgo"),_y.forEach(a),$1=r(n),W1=o(n,"HR",{}),q1=r(n),Jn=o(n,"P",{});var Ae=l(Jn);fb=e(Ae,"reflection이나 "),fi=o(Ae,"CODE",{});var TT=l(fi);db=e(TT,"unsafe"),TT.forEach(a),Eb=e(Ae,"와 마찬가지로, "),di=o(Ae,"CODE",{});var VT=l(di);vb=e(VT,"cgo"),VT.forEach(a),_b=e(Ae,"는 Go 프로그램과 외부 세계의 경계, 그 중 C 라이브러리와의 integration을 할 때 가장 유용하다."),Ae.forEach(a),z1=r(n),Zn=o(n,"P",{});var Ke=l(Zn);mb=e(Ke,"C는 매우 오래 된 언어임에도 불구하고, 프로그래밍 언어의 "),fV(ia.$$.fragment,Ke),bb=e(Ke,`로 자리잡고 있다. 거의 운영체제가 C나 C++로 작성되며, 이에 포함된 라이브러리들도 C로 작성되었다.
따라서 거의 모든 언어가 C 라이브러리와 통합하는 방법을 제공한다. Go에서는 C에 대한 Foreign Function Interface(FFI)를 `),Ei=o(Ke,"CODE",{});var ST=l(Ei);Cb=e(ST,"cgo"),ST.forEach(a),yb=e(Ke,"라고 이름붙였다."),Ke.forEach(a),J1=r(n),ra=o(n,"P",{});var J2=l(ra);Ob=e(J2,"Go는 명시적인 것을 지향하는 언어이지만, "),vi=o(J2,"CODE",{});var FT=l(vi);Db=e(FT,"cgo"),FT.forEach(a),wb=e(J2,"는 뭔가 자동으로 알아서 해주는 느낌이 강하다. 직접 예제를 보자."),J2.forEach(a),Z1=r(n),Rt=o(n,"PRE",{class:!0});var uF=l(Rt);uF.forEach(a),X1=r(n),Cn=o(n,"P",{});var Ra=l(Cn);Pb=e(Ra,"일단, "),_i=o(Ra,"CODE",{});var xT=l(_i);Rb=e(xT,"/**/"),xT.forEach(a),Tb=e(Ra,"로 묶인 주석이 "),mi=o(Ra,"STRONG",{});var HT=l(mi);Vb=e(HT,"반드시"),HT.forEach(a),Sb=e(Ra," 필요하며, 주석과 "),bi=o(Ra,"CODE",{});var BT=l(bi);Fb=e(BT,'import "C"'),BT.forEach(a),xb=e(Ra," 사이에는 빈 줄이 없어야 한다. 이 빈 줄때문에 컴파일이 안돼서 한참 찾았다.."),Ra.forEach(a),Q1=r(n),yn=o(n,"P",{});var Ta=l(yn);Hb=e(Ta,"위 "),Ci=o(Ta,"CODE",{});var LT=l(Ci);Bb=e(LT,"main.go"),LT.forEach(a),Lb=e(Ta," 파일과 같은 폴더 안에 각각 "),yi=o(Ta,"CODE",{});var NT=l(yi);Nb=e(NT,"mylib.h"),NT.forEach(a),Mb=e(Ta,", "),Oi=o(Ta,"CODE",{});var MT=l(Oi);Ib=e(MT,"mylib.c"),MT.forEach(a),Gb=e(Ta,"을 생성하여 다음과 같이 작성해준다."),Ta.forEach(a),j1=r(n),Tt=o(n,"PRE",{class:!0});var iF=l(Tt);iF.forEach(a),Y1=r(n),Vt=o(n,"PRE",{class:!0});var rF=l(Vt);rF.forEach(a),h1=r(n),ka=o(n,"P",{});var Z2=l(ka);Ab=e(Z2,"그러고 나서 "),Di=o(Z2,"CODE",{});var IT=l(Di);Kb=e(IT,"go build"),IT.forEach(a),Ub=e(Z2," 명령어로 컴파일하여 생성된 파일을 실행하면 다음과 같은 결과를 얻을 수 있을 것이다."),Z2.forEach(a),g1=r(n),St=o(n,"PRE",{class:!0});var kF=l(St);kF.forEach(a),n2=r(n),v=o(n,"P",{});var y=l(v);$b=e(y,"우선 "),wi=o(y,"CODE",{});var GT=l(wi);Wb=e(GT,"C"),GT.forEach(a),qb=e(y,`라는 패키지는 실존하는 표준 라이브러리가 아니다!
`),Pi=o(y,"CODE",{});var AT=l(Pi);zb=e(AT,"C"),AT.forEach(a),Jb=e(y,"는 자동으로 생성되는 패키지이며, "),Ri=o(y,"CODE",{});var KT=l(Ri);Zb=e(KT,'import "C"'),KT.forEach(a),Xb=e(y,` 위에 명시된 주석에 내장된 C 코드에서 대부분의 식별자가 정의된다.
예제의 주석에서는 `),Ti=o(y,"CODE",{});var UT=l(Ti);Qb=e(UT,"add()"),UT.forEach(a),jb=e(y," 함수를 선언하였고, "),Vi=o(y,"CODE",{});var $T=l(Vi);Yb=e($T,"C.add()"),$T.forEach(a),hb=e(y,`로 그 함수를 불러와서 호출하였다.
또한 주석 블록 안에서 import된 다른 함수나 전역변수 등도 불러올 수 있다. 이를테면 `),Si=o(y,"CODE",{});var WT=l(Si);gb=e(WT,"math.h"),WT.forEach(a),nC=e(y,"에서 불러온 "),Fi=o(y,"CODE",{});var qT=l(Fi);sC=e(qT,"C.sqr()"),qT.forEach(a),aC=e(y,"나 "),xi=o(y,"CODE",{});var zT=l(xi);tC=e(zT,"mylib.h"),zT.forEach(a),eC=e(y,"에서 불러온 "),Hi=o(y,"CODE",{});var JT=l(Hi);pC=e(JT,"C.multiply()"),JT.forEach(a),oC=e(y,"처럼 말이다."),y.forEach(a),s2=r(n),sn=o(n,"P",{});var ls=l(sn);lC=e(ls,"이뿐 아니라 "),Bi=o(ls,"CODE",{});var ZT=l(Bi);cC=e(ZT,"C"),ZT.forEach(a),uC=e(ls," 패키지에서는 C 내장 타입을 나타내기 위한 "),Li=o(ls,"CODE",{});var XT=l(Li);iC=e(XT,"C.int"),XT.forEach(a),rC=e(ls,"나 "),Ni=o(ls,"CODE",{});var QT=l(Ni);kC=e(QT,"C.char"),QT.forEach(a),fC=e(ls," 타입 등도 정의하고 있으며, Go의 문자열을 C의 문자열로 변환하기 위한 "),Mi=o(ls,"CODE",{});var jT=l(Mi);dC=e(jT,"C.Cstring"),jT.forEach(a),EC=e(ls," 함수도 있다."),ls.forEach(a),a2=r(n),t2=o(n,"BR",{}),e2=r(n),Xn=o(n,"P",{});var Ue=l(Xn);vC=e(Ue,"더 신기한 일도 가능하다. 이번에는 Go의 함수를 C로 export할 건데, Go의 함수 앞에 "),Ii=o(Ue,"CODE",{});var YT=l(Ii);_C=e(YT,"//export"),YT.forEach(a),mC=e(Ue," 주석을 붙이면 할 수 있다. 먼저 "),Gi=o(Ue,"CODE",{});var hT=l(Gi);bC=e(hT,"main.go"),hT.forEach(a),CC=e(Ue,"의 소스코드를 작성한다."),Ue.forEach(a),p2=r(n),Ft=o(n,"PRE",{class:!0});var fF=l(Ft);fF.forEach(a),o2=r(n),Qn=o(n,"P",{});var $e=l(Qn);yC=e($e,"이제 "),Ai=o($e,"CODE",{});var gT=l(Ai);OC=e(gT,"main.go"),gT.forEach(a),DC=e($e,"와 동일한 디렉토리에 .c 파일을 생성하여 작성한다. 이 때 특수 헤더인 "),Ki=o($e,"CODE",{});var nV=l(Ki);wC=e(nV,'"_cgo_export.h"'),nV.forEach(a),PC=e($e,"를 include해야 한다."),$e.forEach(a),l2=r(n),xt=o(n,"PRE",{class:!0});var dF=l(xt);dF.forEach(a),c2=r(n),Re=o(n,"P",{});var sV=l(Re);RC=e(sV,"위 예제를 실행하면 다음과 같은 결과를 얻는다."),sV.forEach(a),u2=r(n),Ht=o(n,"PRE",{class:!0});var EF=l(Ht);EF.forEach(a),i2=r(n),r2=o(n,"BR",{}),k2=r(n),fa=o(n,"P",{});var X2=l(fa);TC=e(X2,"이렇듯 "),Ui=o(X2,"CODE",{});var aV=l(Ui);VC=e(aV,"cgo"),aV.forEach(a),SC=e(X2,`로 Go와 C의 함수를 상호 호출하는 것은 생각보다 간단하다.
하지만 Go는 가비지 컬렉터가 존재하지만 C에는 없다는 점 때문에, 대수롭지 않은 Go 코드라도 C와 통합되기가 생각보다 쉽지 않다. 그래서 포인터를 C 코드로 보낼 수는 있지만, 포인터를 포함하는 무언가를 보낼 수는 없다. 이러한 점 때문에 문자열, 슬라이스, 함수 등 포인터로 구현된 것들은 C로 보낼 수 없다.`),X2.forEach(a),f2=r(n),Te=o(n,"P",{});var tV=l(Te);FC=e(tV,"또한 C 함수가 반환되어도 Go 포인터의 복사본을 가지고 있으면 안된다. Go가 가비지 컬렉팅을 하고 나면 포인터가 이상한 메모리 주소를 가리키게 되기 때문에, 프로그램이 컴파일은 되더라도 런타임에 죽거나 이상하게 동작할 수도 있다."),tV.forEach(a),d2=r(n),jn=o(n,"P",{});var We=l(jn);xC=e(We,"다른 제약도 있다. "),$i=o(We,"CODE",{});var eV=l($i);HC=e(eV,"printf()"),eV.forEach(a),BC=e(We,"와 같이 가변적인 함수를 호출하기 위해 "),Wi=o(We,"CODE",{});var pV=l(Wi);LC=e(pV,"cgo"),pV.forEach(a),NC=e(We,`를 사용하면 안된다.
C의 Union 타입은 바이트 어레이로 변환되며 C의 함수 포인터를 Go에서 호출할 수는 없지만, 변수에 저장해 두었다가 다시 C 함수로 전달할 수는 있다.`),We.forEach(a),E2=r(n),Yn=o(n,"P",{});var qe=l(Yn);MC=e(qe,"이러한 규칙들 때문에 "),qi=o(qe,"CODE",{});var oV=l(qi);IC=e(oV,"cgo"),oV.forEach(a),GC=e(qe,`를 사용하기가 쉽지 않다.
만약 Python이나 Ruby에 익숙하다면 `),zi=o(qe,"CODE",{});var lV=l(zi);AC=e(lV,"cgo"),lV.forEach(a),KC=e(qe,"같은 접근이 성능 측면에서 굉장한 이점이 있을 것임을 알 것이다. 실제로 Python의 NumPy는 C로 작성되기도 했다."),qe.forEach(a),v2=r(n),da=o(n,"P",{});var Q2=l(da);UC=e(Q2,"하지만 Go는 파이썬이나 루비보다 훨씬 빠르다. 알고리즘을 로우 레벨에서 재작성할 필요가 크게 없다. 그리고 "),Ji=o(Q2,"CODE",{});var cV=l(Ji);$C=e(cV,"cgo"),cV.forEach(a),WC=e(Q2,"를 쓰더라도 성능 향상을 기대하기는 어렵다. C와 Go의 메모리 모델과 프로세싱 방법이 다르기 때문인데, Go에서 C 코드를 호출할 때 C에서 C 코드를 호출하는 것보다 대략 29배 느리다고 한다."),Q2.forEach(a),_2=r(n),Bt=o(n,"P",{});var my=l(Bt);Zi=o(my,"CODE",{});var uV=l(Zi);qC=e(uV,"cgo"),uV.forEach(a),zC=e(my,`가 빠르지도 않고 사용하기도 쉽지 않지만, 사용하는 이유는 명확하다.
반드시 사용해야 하는 C 라이브러리가 있지만 대체할 Go 라이브러리는 없는 경우일 때이다.
만약 대체할 Go 라이브러리가 있다면, 웬만하면 그걸 쓰도록 하자.`),my.forEach(a),m2=r(n),b2=o(n,"BR",{}),C2=o(n,"BR",{}),y2=r(n),Ea=o(n,"H2",{id:!0});var by=l(Ea);va=o(by,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var iV=l(va);Xi=o(iV,"SPAN",{class:!0}),l(Xi).forEach(a),iV.forEach(a),JC=e(by,"References"),by.forEach(a),O2=r(n),D2=o(n,"HR",{}),w2=r(n),Ln=o(n,"CENTER",{});var At=l(Ln);Qi=o(At,"P",{});var rV=l(Qi);ZC=e(rV,"["),rV.forEach(a),XC=r(At),fV(Lt.$$.fragment,At),QC=e(At,`
](https://learning.oreilly.com/library/view/learning-go/9781492077206/) `),jC=o(At,"BR",{}),YC=e(At,`
[Jon Bodner, 『Learning Go』, O'Reilly Media, Inc.](https://learning.oreilly.com/library/view/learning-go/9781492077206/)`),At.forEach(a),P2=r(n),R2=o(n,"BR",{}),T2=o(n,"BR",{}),this.h()},h(){k(ze,"class","icon icon-link"),k(_s,"aria-hidden","true"),k(_s,"tabindex","-1"),k(_s,"href","#introduction"),k(vs,"id","introduction"),k(Ye,"class","icon icon-link"),k(Cs,"aria-hidden","true"),k(Cs,"tabindex","-1"),k(Cs,"href","#reflection"),k(bs,"id","reflection"),k(pp,"class","icon icon-link"),k(Ds,"aria-hidden","true"),k(Ds,"tabindex","-1"),k(Ds,"href","#types-kinds"),k(Os,"id","types-kinds"),k(Va,"class","language-go"),k(Sa,"class","language-text"),k(Fa,"class","language-go"),k(xa,"class","language-text"),k(Ha,"class","language-go"),k(Ba,"class","language-text"),k(La,"class","language-go"),k(Na,"class","language-text"),k(Ma,"href","https://pkg.go.dev/reflect#Type"),k(Ma,"rel","nofollow"),k(Eo,"class","icon icon-link"),k(Ts,"aria-hidden","true"),k(Ts,"tabindex","-1"),k(Ts,"href","#values"),k(Rs,"id","values"),k(Ia,"class","language-go"),k(Ga,"class","language-go"),k(Aa,"class","language-go"),k(Ka,"class","language-go"),k(Ua,"class","language-go"),k($a,"class","language-go"),k(Wa,"class","language-go"),k(nl,"class","icon icon-link"),k(Fs,"aria-hidden","true"),k(Fs,"tabindex","-1"),k(Fs,"href","#making-new-values"),k(Ss,"id","making-new-values"),k(qa,"class","language-go"),k(za,"class","language-go"),k(Ja,"class","language-go"),k(Za,"class","language-text"),k(Hl,"class","icon icon-link"),k(Bs,"aria-hidden","true"),k(Bs,"tabindex","-1"),k(Bs,"href","#use-reflection-to-check-if-an-interfaces-value-is-nil"),k(Hs,"id","use-reflection-to-check-if-an-interfaces-value-is-nil"),k(Xa,"class","language-go"),k(Jl,"class","icon icon-link"),k(Ns,"aria-hidden","true"),k(Ns,"tabindex","-1"),k(Ns,"href","#use-reflection-to-write-a-data-marshaler"),k(Ls,"id","use-reflection-to-write-a-data-marshaler"),k(Qa,"class","language-go"),k(ja,"class","language-go"),k(Ya,"class","language-go"),k(ga,"class","language-go"),k(nt,"class","language-go"),k(st,"class","language-go"),k(tt,"class","language-go"),k(et,"class","language-go"),k(pt,"href","https://go.dev/play/p/3kwe7ag1i1C"),k(pt,"rel","nofollow"),k(yc,"class","icon icon-link"),k(qs,"aria-hidden","true"),k(qs,"tabindex","-1"),k(qs,"href","#build-functions-with-reflection-to-automate-repetitive-tasks"),k(Ws,"id","build-functions-with-reflection-to-automate-repetitive-tasks"),k(ot,"class","language-go"),k(lt,"class","language-go"),k(Tc,"class","icon icon-link"),k(Js,"aria-hidden","true"),k(Js,"tabindex","-1"),k(Js,"href","#what-you-shouldnt-do-with-reflection"),k(zs,"id","what-you-shouldnt-do-with-reflection"),k(Hc,"class","icon icon-link"),k(Xs,"aria-hidden","true"),k(Xs,"tabindex","-1"),k(Xs,"href","#only-use-reflection-if-its-worthwhile"),k(Zs,"id","only-use-reflection-if-its-worthwhile"),k(ct,"class","language-go"),k(ut,"class","language-go"),k(it,"class","language-go"),k(rt,"class","language-text"),k(Ic,"class","icon icon-link"),k(js,"aria-hidden","true"),k(js,"tabindex","-1"),k(js,"href","#unsafe-is-unsafe"),k(Qs,"id","unsafe-is-unsafe"),k(nu,"class","icon icon-link"),k(hs,"aria-hidden","true"),k(hs,"tabindex","-1"),k(hs,"href","#use-unsafe-to-convert-external-binary-data"),k(Ys,"id","use-unsafe-to-convert-external-binary-data"),k(kt,"class","language-go"),k(ft,"class","language-go"),k(dt,"class","language-go"),k(Et,"class","language-go"),k(vt,"class","language-go"),k(_t,"class","language-go"),k(mt,"class","language-go"),k(bt,"class","language-text"),k(Ru,"class","icon icon-link"),k(ea,"aria-hidden","true"),k(ea,"tabindex","-1"),k(ea,"href","#unsafe-strings-and-slices"),k(ta,"id","unsafe-strings-and-slices"),k(yt,"class","language-go"),k(Ot,"class","language-go"),k(Dt,"class","language-go"),k(wt,"class","language-go"),k(li,"class","icon icon-link"),k(oa,"aria-hidden","true"),k(oa,"tabindex","-1"),k(oa,"href","#unsafe-tools"),k(pa,"id","unsafe-tools"),k(Pt,"href","https://pkg.go.dev/unsafe"),k(Pt,"rel","nofollow"),k(ki,"class","icon icon-link"),k(ua,"aria-hidden","true"),k(ua,"tabindex","-1"),k(ua,"href","#cgo"),k(ca,"id","cgo"),k(Rt,"class","language-go"),k(Tt,"class","language-c"),k(Vt,"class","language-c"),k(St,"class","language-text"),k(Ft,"class","language-go"),k(xt,"class","language-c"),k(Ht,"class","language-text"),k(Xi,"class","icon icon-link"),k(va,"aria-hidden","true"),k(va,"tabindex","-1"),k(va,"href","#references"),k(Ea,"id","references")},m(n,c){u(n,an,c),u(n,ds,c),u(n,un,c),s(un,Es),u(n,sr,c),u(n,ar,c),u(n,tr,c),u(n,er,c),u(n,vs,c),s(vs,_s),s(_s,ze),s(vs,Y2),u(n,pr,c),u(n,or,c),u(n,lr,c),u(n,Kt,c),s(Kt,h2),u(n,cr,c),u(n,rn,c),s(rn,g2),s(rn,Je),s(Je,nE),s(rn,sE),s(rn,Ze),s(Ze,aE),s(rn,tE),s(rn,Xe),s(Xe,eE),s(rn,pE),u(n,ur,c),u(n,Ut,c),s(Ut,oE),u(n,ir,c),u(n,ms,c),s(ms,Qe),s(Qe,lE),s(ms,cE),s(ms,je),s(je,uE),u(n,rr,c),u(n,kr,c),u(n,fr,c),u(n,dr,c),u(n,bs,c),s(bs,Cs),s(Cs,Ye),s(bs,iE),u(n,Er,c),u(n,vr,c),u(n,_r,c),u(n,$t,c),s($t,rE),u(n,mr,c),u(n,Wt,c),s(Wt,kE),u(n,br,c),u(n,qt,c),s(qt,fE),u(n,Cr,c),u(n,J,c),s(J,zt),s(zt,he),s(he,dE),s(zt,EE),s(J,vE),s(J,cs),s(cs,_E),s(cs,ge),s(ge,mE),s(cs,bE),s(cs,np),s(np,CE),s(cs,yE),s(J,OE),s(J,ys),s(ys,sp),s(sp,DE),s(ys,wE),s(ys,ap),s(ap,PE),s(ys,RE),s(J,TE),s(J,Jt),s(Jt,tp),s(tp,VE),s(Jt,SE),s(J,FE),s(J,Zt),s(Zt,ep),s(ep,xE),s(Zt,HE),u(n,yr,c),u(n,Xt,c),s(Xt,BE),u(n,Or,c),u(n,Dr,c),u(n,wr,c),u(n,Pr,c),u(n,Os,c),s(Os,Ds),s(Ds,pp),s(Os,LE),u(n,Rr,c),u(n,Z,c),s(Z,NE),s(Z,op),s(op,ME),s(Z,IE),s(Z,lp),s(lp,GE),s(Z,AE),s(Z,cp),s(cp,KE),s(Z,UE),s(Z,up),s(up,$E),s(Z,WE),u(n,Tr,c),u(n,ws,c),s(ws,qE),s(ws,ip),s(ip,zE),s(ws,JE),u(n,Vr,c),u(n,Sr,c),u(n,Fr,c),u(n,Va,c),Va.innerHTML=mV,u(n,xr,c),u(n,Qt,c),s(Qt,ZE),u(n,Hr,c),u(n,Sa,c),Sa.innerHTML=bV,u(n,Br,c),u(n,x,c),s(x,XE),s(x,rp),s(rp,QE),s(x,jE),s(x,kp),s(kp,YE),s(x,hE),s(x,fp),s(fp,gE),s(x,nv),s(x,dp),s(dp,sv),s(x,av),s(x,Ep),s(Ep,tv),s(x,ev),u(n,Lr,c),u(n,Fn,c),s(Fn,vp),s(vp,pv),s(Fn,ov),s(Fn,_p),s(_p,lv),s(Fn,cv),s(Fn,mp),s(mp,uv),s(Fn,iv),u(n,Nr,c),u(n,_,c),s(_,bp),s(bp,rv),s(_,kv),s(_,Cp),s(Cp,fv),s(_,dv),s(_,yp),s(yp,Ev),s(_,vv),s(_,Op),s(Op,_v),s(_,mv),s(_,Dp),s(Dp,bv),s(_,Cv),s(_,wp),s(wp,yv),s(_,Ov),s(_,Pp),s(Pp,Dv),s(_,wv),s(_,Rp),s(Rp,Pv),s(_,Rv),s(_,Tp),s(Tp,Tv),s(_,Vv),u(n,Mr,c),u(n,kn,c),s(kn,Sv),s(kn,Vp),s(Vp,Fv),s(kn,xv),s(kn,Sp),s(Sp,Hv),s(kn,Bv),s(kn,Fp),s(Fp,Lv),s(kn,Nv),u(n,Ir,c),u(n,H,c),s(H,Mv),s(H,xp),s(xp,Iv),s(H,Gv),s(H,Hp),s(Hp,Av),s(H,Kv),s(H,Bp),s(Bp,Uv),s(H,$v),s(H,Lp),s(Lp,Wv),s(H,qv),s(H,Np),s(Np,zv),s(H,Jv),u(n,Gr,c),u(n,Ps,c),s(Ps,Zv),s(Ps,Mp),s(Mp,Xv),s(Ps,Qv),u(n,Ar,c),u(n,Fa,c),Fa.innerHTML=CV,u(n,Kr,c),u(n,jt,c),s(jt,jv),u(n,Ur,c),u(n,xa,c),xa.innerHTML=yV,u(n,$r,c),u(n,Wr,c),u(n,qr,c),u(n,R,c),s(R,Ip),s(Ip,Yv),s(R,hv),s(R,Gp),s(Gp,gv),s(R,n3),s(R,Ap),s(Ap,s3),s(R,a3),s(R,Kp),s(Kp,t3),s(R,e3),s(R,Up),s(Up,p3),s(R,o3),s(R,$p),s($p,l3),s(R,c3),u(n,zr,c),u(n,Ha,c),Ha.innerHTML=OV,u(n,Jr,c),u(n,Yt,c),s(Yt,u3),u(n,Zr,c),u(n,Ba,c),Ba.innerHTML=DV,u(n,Xr,c),u(n,E,c),s(E,i3),s(E,Wp),s(Wp,r3),s(E,k3),s(E,qp),s(qp,f3),s(E,d3),s(E,zp),s(zp,E3),s(E,v3),s(E,Jp),s(Jp,_3),s(E,m3),s(E,Zp),s(Zp,b3),s(E,C3),s(E,Xp),s(Xp,y3),s(E,O3),s(E,Qp),s(Qp,D3),s(E,w3),s(E,jp),s(jp,P3),s(E,R3),s(E,Yp),s(Yp,T3),s(E,V3),u(n,Qr,c),u(n,jr,c),u(n,Yr,c),u(n,T,c),s(T,hp),s(hp,S3),s(T,F3),s(T,gp),s(gp,x3),s(T,H3),s(T,no),s(no,B3),s(T,L3),s(T,so),s(so,N3),s(T,M3),s(T,ao),s(ao,I3),s(T,G3),s(T,to),s(to,A3),s(T,K3),u(n,hr,c),u(n,La,c),La.innerHTML=wV,u(n,gr,c),u(n,V,c),s(V,eo),s(eo,U3),s(V,$3),s(V,po),s(po,W3),s(V,q3),s(V,oo),s(oo,z3),s(V,J3),s(V,lo),s(lo,Z3),s(V,X3),s(V,co),s(co,Q3),s(V,j3),s(V,uo),s(uo,Y3),s(V,h3),u(n,nk,c),u(n,ht,c),s(ht,g3),u(n,sk,c),u(n,Na,c),Na.innerHTML=PV,u(n,ak,c),u(n,fn,c),s(fn,n_),s(fn,io),s(io,s_),s(fn,a_),s(fn,ro),s(ro,t_),s(fn,e_),s(fn,ko),s(ko,p_),s(fn,o_),u(n,tk,c),u(n,ek,c),u(n,pk,c),u(n,us,c),s(us,fo),s(fo,l_),s(us,c_),s(us,Ma),s(Ma,u_),s(us,i_),u(n,ok,c),u(n,lk,c),u(n,ck,c),u(n,uk,c),u(n,Rs,c),s(Rs,Ts),s(Ts,Eo),s(Rs,r_),u(n,ik,c),u(n,In,c),s(In,k_),s(In,vo),s(vo,f_),s(In,d_),s(In,_o),s(_o,E_),s(In,v_),u(n,rk,c),u(n,Ia,c),Ia.innerHTML=RV,u(n,kk,c),u(n,B,c),s(B,__),s(B,mo),s(mo,m_),s(B,b_),s(B,bo),s(bo,C_),s(B,y_),s(B,Co),s(Co,O_),s(B,D_),s(B,yo),s(yo,w_),s(B,P_),s(B,Oo),s(Oo,R_),s(B,T_),u(n,fk,c),u(n,xn,c),s(xn,Do),s(Do,V_),s(xn,S_),s(xn,wo),s(wo,F_),s(xn,x_),s(xn,Po),s(Po,H_),s(xn,B_),u(n,dk,c),u(n,Ek,c),u(n,vk,c),u(n,dn,c),s(dn,L_),s(dn,Ro),s(Ro,N_),s(dn,M_),s(dn,To),s(To,I_),s(dn,G_),s(dn,Vo),s(Vo,A_),s(dn,K_),u(n,_k,c),u(n,Ga,c),Ga.innerHTML=TV,u(n,mk,c),u(n,S,c),s(S,So),s(So,U_),s(S,$_),s(S,Fo),s(Fo,W_),s(S,q_),s(S,xo),s(xo,z_),s(S,J_),s(S,Ho),s(Ho,Z_),s(S,X_),s(S,Bo),s(Bo,Q_),s(S,j_),s(S,Lo),s(Lo,Y_),s(S,h_),u(n,bk,c),u(n,Ck,c),u(n,yk,c),u(n,gt,c),s(gt,g_),u(n,Ok,c),u(n,Gn,c),s(Gn,n5),s(Gn,No),s(No,s5),s(Gn,a5),s(Gn,Mo),s(Mo,t5),s(Gn,e5),u(n,Dk,c),u(n,Aa,c),Aa.innerHTML=VV,u(n,wk,c),u(n,m,c),s(m,p5),s(m,Io),s(Io,o5),s(m,l5),s(m,Go),s(Go,c5),s(m,u5),s(m,Ao),s(Ao,i5),s(m,r5),s(m,Ko),s(Ko,k5),s(m,f5),s(m,Uo),s(Uo,d5),s(m,E5),s(m,$o),s($o,v5),s(m,_5),s(m,Wo),s(Wo,m5),s(m,b5),u(n,Pk,c),u(n,Ka,c),Ka.innerHTML=SV,u(n,Rk,c),u(n,L,c),s(L,C5),s(L,qo),s(qo,y5),s(L,O5),s(L,zo),s(zo,D5),s(L,w5),s(L,Jo),s(Jo,P5),s(L,R5),s(L,Zo),s(Zo,T5),s(L,V5),s(L,Xo),s(Xo,S5),s(L,F5),u(n,Tk,c),u(n,Ua,c),Ua.innerHTML=FV,u(n,Vk,c),u(n,X,c),s(X,x5),s(X,Qo),s(Qo,H5),s(X,B5),s(X,jo),s(jo,L5),s(X,N5),s(X,Yo),s(Yo,M5),s(X,I5),s(X,ho),s(ho,G5),s(X,A5),u(n,Sk,c),u(n,Vs,c),s(Vs,K5),s(Vs,go),s(go,U5),s(Vs,$5),u(n,Fk,c),u(n,$a,c),$a.innerHTML=xV,u(n,xk,c),u(n,ne,c),s(ne,W5),u(n,Hk,c),u(n,Wa,c),Wa.innerHTML=HV,u(n,Bk,c),u(n,Lk,c),u(n,Nk,c),u(n,Mk,c),u(n,Ss,c),s(Ss,Fs),s(Fs,nl),s(Ss,q5),u(n,Ik,c),u(n,b,c),s(b,z5),s(b,sl),s(sl,J5),s(b,Z5),s(b,al),s(al,X5),s(b,Q5),s(b,tl),s(tl,j5),s(b,Y5),s(b,el),s(el,h5),s(b,g5),s(b,pl),s(pl,n4),s(b,s4),s(b,ol),s(ol,a4),s(b,t4),s(b,ll),s(ll,e4),s(b,p4),u(n,Gk,c),u(n,is,c),s(is,cl),s(cl,o4),s(is,l4),s(is,ul),s(ul,c4),s(is,u4),u(n,Ak,c),u(n,qa,c),qa.innerHTML=BV,u(n,Kk,c),u(n,xs,c),s(xs,i4),s(xs,il),s(il,r4),s(xs,k4),u(n,Uk,c),u(n,$k,c),u(n,Wk,c),u(n,rs,c),s(rs,rl),s(rl,f4),s(rs,d4),s(rs,kl),s(kl,E4),s(rs,v4),u(n,qk,c),u(n,za,c),za.innerHTML=LV,u(n,zk,c),u(n,f,c),s(f,_4),s(f,fl),s(fl,m4),s(f,b4),s(f,dl),s(dl,C4),s(f,y4),s(f,El),s(El,O4),s(f,D4),s(f,vl),s(vl,w4),s(f,P4),s(f,_l),s(_l,R4),s(f,T4),s(f,ml),s(ml,V4),s(f,S4),s(f,bl),s(bl,F4),s(f,x4),s(f,Cl),s(Cl,H4),s(f,B4),s(f,yl),s(yl,L4),s(f,N4),s(f,Ol),s(Ol,M4),s(f,I4),s(f,Dl),s(Dl,G4),s(f,A4),s(f,wl),s(wl,K4),s(f,U4),s(f,Pl),s(Pl,$4),s(f,W4),s(f,Rl),s(Rl,q4),s(f,z4),s(f,Tl),s(Tl,J4),s(f,Z4),u(n,Jk,c),u(n,Q,c),s(Q,X4),s(Q,Vl),s(Vl,Q4),s(Q,j4),s(Q,Sl),s(Sl,Y4),s(Q,h4),s(Q,Fl),s(Fl,g4),s(Q,n6),s(Q,xl),s(xl,s6),s(Q,a6),u(n,Zk,c),u(n,Ja,c),Ja.innerHTML=NV,u(n,Xk,c),u(n,se,c),s(se,t6),u(n,Qk,c),u(n,Za,c),Za.innerHTML=MV,u(n,jk,c),u(n,Yk,c),u(n,hk,c),u(n,gk,c),u(n,Hs,c),s(Hs,Bs),s(Bs,Hl),s(Hs,e6),u(n,nf,c),u(n,An,c),s(An,p6),s(An,Bl),s(Bl,o6),s(An,l6),s(An,Ll),s(Ll,c6),s(An,u6),u(n,sf,c),u(n,Xa,c),Xa.innerHTML=IV,u(n,af,c),u(n,F,c),s(F,Nl),s(Nl,i6),s(F,r6),s(F,Ml),s(Ml,k6),s(F,f6),s(F,Il),s(Il,d6),s(F,E6),s(F,Gl),s(Gl,v6),s(F,_6),s(F,Al),s(Al,m6),s(F,b6),s(F,Kl),s(Kl,C6),s(F,y6),u(n,tf,c),u(n,U,c),s(U,Ul),s(Ul,O6),s(U,D6),s(U,$l),s($l,w6),s(U,P6),s(U,Wl),s(Wl,R6),s(U,T6),s(U,ql),s(ql,V6),s(U,S6),s(U,zl),s(zl,F6),s(U,x6),u(n,ef,c),u(n,pf,c),u(n,of,c),u(n,lf,c),u(n,Ls,c),s(Ls,Ns),s(Ns,Jl),s(Ls,H6),u(n,cf,c),u(n,ae,c),s(ae,B6),u(n,uf,c),u(n,Kn,c),s(Kn,L6),s(Kn,Zl),s(Zl,N6),s(Kn,M6),s(Kn,Xl),s(Xl,I6),s(Kn,G6),u(n,rf,c),u(n,kf,c),u(n,ff,c),u(n,te,c),s(te,A6),u(n,df,c),u(n,Qa,c),Qa.innerHTML=GV,u(n,Ef,c),u(n,ee,c),s(ee,K6),u(n,vf,c),u(n,ja,c),ja.innerHTML=AV,u(n,_f,c),u(n,Ms,c),s(Ms,U6),s(Ms,Ql),s(Ql,$6),s(Ms,W6),u(n,mf,c),u(n,Ya,c),Ya.innerHTML=KV,u(n,bf,c),u(n,Is,c),s(Is,q6),s(Is,jl),s(jl,z6),s(Is,J6),u(n,Cf,c),u(n,N,c),s(N,Z6),s(N,Yl),s(Yl,X6),s(N,Q6),s(N,hl),s(hl,j6),s(N,Y6),s(N,gl),s(gl,h6),s(N,g6),s(N,nc),s(nc,n9),s(N,s9),s(N,sc),s(sc,a9),s(N,t9),u(n,yf,c),u(n,Un,c),s(Un,e9),s(Un,ac),s(ac,p9),s(Un,o9),s(Un,tc),s(tc,l9),s(Un,c9),u(n,Of,c),u(n,ha,c),s(ha,ec),s(ec,u9),s(ha,i9),u(n,Df,c),u(n,ga,c),ga.innerHTML=UV,u(n,wf,c),u(n,$n,c),s($n,r9),s($n,pc),s(pc,k9),s($n,f9),s($n,oc),s(oc,d9),s($n,E9),u(n,Pf,c),u(n,Gs,c),s(Gs,v9),s(Gs,lc),s(lc,_9),s(Gs,m9),u(n,Rf,c),u(n,nt,c),nt.innerHTML=$V,u(n,Tf,c),u(n,Wn,c),s(Wn,b9),s(Wn,cc),s(cc,C9),s(Wn,y9),s(Wn,uc),s(uc,O9),s(Wn,D9),u(n,Vf,c),u(n,Sf,c),u(n,Ff,c),u(n,As,c),s(As,w9),s(As,ic),s(ic,P9),s(As,R9),u(n,xf,c),u(n,st,c),st.innerHTML=WV,u(n,Hf,c),u(n,Ks,c),s(Ks,T9),s(Ks,rc),s(rc,V9),s(Ks,S9),u(n,Bf,c),u(n,Us,c),s(Us,F9),s(Us,kc),s(kc,x9),s(Us,H9),u(n,Lf,c),u(n,j,c),s(j,B9),s(j,fc),s(fc,L9),s(j,N9),s(j,dc),s(dc,M9),s(j,I9),s(j,Ec),s(Ec,G9),s(j,A9),s(j,vc),s(vc,K9),s(j,U9),u(n,Nf,c),u(n,at,c),s(at,_c),s(_c,$9),s(at,W9),u(n,Mf,c),u(n,tt,c),tt.innerHTML=qV,u(n,If,c),u(n,En,c),s(En,q9),s(En,mc),s(mc,z9),s(En,J9),s(En,bc),s(bc,Z9),s(En,X9),s(En,Cc),s(Cc,Q9),s(En,j9),u(n,Gf,c),u(n,Af,c),u(n,Kf,c),u(n,pe,c),s(pe,Y9),u(n,Uf,c),u(n,et,c),et.innerHTML=zV,u(n,$f,c),u(n,Wf,c),u(n,qf,c),u(n,$s,c),s($s,h9),s($s,pt),s(pt,g9),s($s,n7),u(n,zf,c),u(n,Jf,c),u(n,Zf,c),u(n,Xf,c),u(n,Ws,c),s(Ws,qs),s(qs,yc),s(Ws,s7),u(n,Qf,c),u(n,oe,c),s(oe,a7),u(n,jf,c),u(n,ot,c),ot.innerHTML=JV,u(n,Yf,c),u(n,M,c),s(M,t7),s(M,Oc),s(Oc,e7),s(M,p7),s(M,Dc),s(Dc,o7),s(M,l7),s(M,wc),s(wc,c7),s(M,u7),s(M,Pc),s(Pc,i7),s(M,r7),s(M,Rc),s(Rc,k7),s(M,f7),u(n,hf,c),u(n,le,c),s(le,d7),u(n,gf,c),u(n,lt,c),lt.innerHTML=ZV,u(n,nd,c),u(n,ce,c),s(ce,E7),u(n,sd,c),u(n,ue,c),s(ue,v7),u(n,ad,c),u(n,td,c),u(n,ed,c),u(n,pd,c),u(n,zs,c),s(zs,Js),s(Js,Tc),s(zs,_7),u(n,od,c),u(n,tn,c),s(tn,Vc),s(Vc,m7),s(tn,b7),s(tn,Sc),s(Sc,C7),s(tn,y7),s(tn,Fc),s(Fc,O7),s(tn,D7),s(tn,xc),s(xc,w7),s(tn,P7),u(n,ld,c),u(n,ie,c),s(ie,R7),u(n,cd,c),u(n,ud,c),u(n,id,c),u(n,re,c),s(re,T7),u(n,rd,c),u(n,kd,c),u(n,fd,c),u(n,dd,c),u(n,Zs,c),s(Zs,Xs),s(Xs,Hc),s(Zs,V7),u(n,Ed,c),u(n,ke,c),s(ke,S7),u(n,vd,c),u(n,qn,c),s(qn,F7),s(qn,Bc),s(Bc,x7),s(qn,H7),s(qn,Lc),s(Lc,B7),s(qn,L7),u(n,_d,c),u(n,ct,c),ct.innerHTML=XV,u(n,md,c),u(n,fe,c),s(fe,N7),u(n,bd,c),u(n,ut,c),ut.innerHTML=QV,u(n,Cd,c),u(n,de,c),s(de,M7),u(n,yd,c),u(n,it,c),it.innerHTML=jV,u(n,Od,c),u(n,ks,c),s(ks,Nc),s(Nc,I7),s(ks,G7),s(ks,Mc),s(Mc,A7),s(ks,K7),u(n,Dd,c),u(n,rt,c),rt.innerHTML=YV,u(n,wd,c),u(n,Ee,c),s(Ee,U7),u(n,Pd,c),u(n,ve,c),s(ve,$7),u(n,Rd,c),u(n,Td,c),u(n,Vd,c),u(n,Sd,c),u(n,Qs,c),s(Qs,js),s(js,Ic),s(Qs,W7),u(n,Fd,c),u(n,Hn,c),s(Hn,Gc),s(Gc,q7),s(Hn,z7),s(Hn,Ac),s(Ac,J7),s(Hn,Z7),s(Hn,Kc),s(Kc,X7),s(Hn,Q7),u(n,xd,c),u(n,vn,c),s(vn,j7),s(vn,Uc),s(Uc,Y7),s(vn,h7),s(vn,$c),s($c,g7),s(vn,n8),s(vn,Wc),s(Wc,s8),s(vn,a8),u(n,Hd,c),u(n,$,c),s($,qc),s(qc,t8),s($,e8),s($,zc),s(zc,p8),s($,o8),s($,Jc),s(Jc,l8),s($,c8),s($,Zc),s(Zc,u8),s($,i8),s($,Xc),s(Xc,r8),s($,k8),u(n,Bd,c),u(n,I,c),s(I,f8),s(I,Qc),s(Qc,d8),s(I,E8),s(I,jc),s(jc,v8),s(I,_8),s(I,Yc),s(Yc,m8),s(I,b8),s(I,hc),s(hc,C8),s(I,y8),s(I,gc),s(gc,O8),s(I,D8),u(n,Ld,c),u(n,Nd,c),u(n,Md,c),u(n,Id,c),u(n,Ys,c),s(Ys,hs),s(hs,nu),s(Ys,w8),u(n,Gd,c),u(n,Y,c),s(Y,P8),s(Y,su),s(su,R8),s(Y,T8),s(Y,au),s(au,V8),s(Y,S8),s(Y,tu),s(tu,F8),s(Y,x8),s(Y,eu),s(eu,H8),s(Y,B8),u(n,Ad,c),u(n,zn,c),s(zn,L8),s(zn,pu),s(pu,N8),s(zn,M8),s(zn,ou),s(ou,I8),s(zn,G8),u(n,Kd,c),u(n,_n,c),s(_n,lu),s(lu,A8),s(_n,K8),s(_n,cu),s(cu,U8),s(_n,$8),s(_n,uu),s(uu,W8),s(_n,q8),s(_n,iu),s(iu,z8),u(n,Ud,c),u(n,_e,c),s(_e,ru),s(ru,J8),u(n,$d,c),u(n,Wd,c),u(n,qd,c),u(n,me,c),s(me,Z8),u(n,zd,c),u(n,kt,c),kt.innerHTML=hV,u(n,Jd,c),u(n,be,c),s(be,X8),u(n,Zd,c),u(n,ft,c),ft.innerHTML=gV,u(n,Xd,c),u(n,gs,c),s(gs,Q8),s(gs,ku),s(ku,j8),s(gs,Y8),u(n,Qd,c),u(n,dt,c),dt.innerHTML=nS,u(n,jd,c),u(n,na,c),s(na,h8),s(na,fu),s(fu,g8),s(na,n0),u(n,Yd,c),u(n,Et,c),Et.innerHTML=sS,u(n,hd,c),u(n,h,c),s(h,s0),s(h,du),s(du,a0),s(h,t0),s(h,Eu),s(Eu,e0),s(h,p0),s(h,vu),s(vu,o0),s(h,l0),s(h,_u),s(_u,c0),s(h,u0),u(n,gd,c),u(n,Ce,c),s(Ce,i0),u(n,n1,c),u(n,vt,c),vt.innerHTML=aS,u(n,s1,c),u(n,Bn,c),s(Bn,mu),s(mu,r0),s(Bn,k0),s(Bn,bu),s(bu,f0),s(Bn,d0),s(Bn,Cu),s(Cu,E0),s(Bn,v0),u(n,a1,c),u(n,mn,c),s(mn,_0),s(mn,yu),s(yu,m0),s(mn,b0),s(mn,Ou),s(Ou,C0),s(mn,y0),s(mn,Du),s(Du,O0),s(mn,D0),u(n,t1,c),u(n,e1,c),u(n,p1,c),u(n,ye,c),s(ye,w0),u(n,o1,c),u(n,_t,c),_t.innerHTML=tS,u(n,l1,c),u(n,sa,c),s(sa,P0),s(sa,wu),s(wu,R0),s(sa,T0),u(n,c1,c),u(n,mt,c),mt.innerHTML=eS,u(n,u1,c),u(n,aa,c),s(aa,V0),s(aa,Pu),s(Pu,S0),s(aa,F0),u(n,i1,c),u(n,bt,c),bt.innerHTML=pS,u(n,r1,c),u(n,Oe,c),s(Oe,x0),u(n,k1,c),u(n,De,c),s(De,H0),u(n,f1,c),u(n,d1,c),u(n,E1,c),u(n,v1,c),u(n,ta,c),s(ta,ea),s(ea,Ru),s(ta,B0),u(n,_1,c),u(n,Ct,c),s(Ct,Tu),s(Tu,L0),s(Ct,N0),u(n,m1,c),u(n,g,c),s(g,M0),s(g,Vu),s(Vu,I0),s(g,G0),s(g,Su),s(Su,A0),s(g,K0),s(g,Fu),s(Fu,U0),s(g,$0),s(g,xu),s(xu,W0),s(g,q0),u(n,b1,c),u(n,yt,c),yt.innerHTML=oS,u(n,C1,c),u(n,bn,c),s(bn,z0),s(bn,Hu),s(Hu,J0),s(bn,Z0),s(bn,Bu),s(Bu,X0),s(bn,Q0),s(bn,Lu),s(Lu,j0),s(bn,Y0),u(n,y1,c),u(n,Ot,c),Ot.innerHTML=lS,u(n,O1,c),u(n,O,c),s(O,Nu),s(Nu,h0),s(O,g0),s(O,Mu),s(Mu,nm),s(O,sm),s(O,Iu),s(Iu,am),s(O,tm),s(O,Gu),s(Gu,em),s(O,pm),s(O,Au),s(Au,om),s(O,lm),s(O,Ku),s(Ku,cm),s(O,um),s(O,Uu),s(Uu,im),s(O,rm),u(n,D1,c),u(n,w1,c),u(n,P1,c),u(n,D,c),s(D,$u),s($u,km),s(D,fm),s(D,Wu),s(Wu,dm),s(D,Em),s(D,qu),s(qu,vm),s(D,_m),s(D,zu),s(zu,mm),s(D,bm),s(D,Ju),s(Ju,Cm),s(D,ym),s(D,Zu),s(Zu,Om),s(D,Dm),s(D,Xu),s(Xu,wm),s(D,Pm),u(n,R1,c),u(n,Dt,c),Dt.innerHTML=cS,u(n,T1,c),u(n,G,c),s(G,Rm),s(G,Qu),s(Qu,Tm),s(G,Vm),s(G,ju),s(ju,Sm),s(G,Fm),s(G,Yu),s(Yu,xm),s(G,Hm),s(G,hu),s(hu,Bm),s(G,Lm),s(G,gu),s(gu,Nm),s(G,Mm),u(n,V1,c),u(n,we,c),s(we,Im),u(n,S1,c),u(n,wt,c),wt.innerHTML=uS,u(n,F1,c),u(n,w,c),s(w,ni),s(ni,Gm),s(w,Am),s(w,si),s(si,Km),s(w,Um),s(w,ai),s(ai,$m),s(w,Wm),s(w,ti),s(ti,qm),s(w,zm),s(w,ei),s(ei,Jm),s(w,Zm),s(w,pi),s(pi,Xm),s(w,Qm),s(w,oi),s(oi,jm),s(w,Ym),u(n,x1,c),u(n,H1,c),u(n,B1,c),u(n,L1,c),u(n,pa,c),s(pa,oa),s(oa,li),s(pa,hm),u(n,N1,c),u(n,nn,c),s(nn,gm),s(nn,ci),s(ci,nb),s(nn,sb),s(nn,ui),s(ui,ab),s(nn,tb),s(nn,ii),s(ii,eb),s(nn,pb),s(nn,ri),s(ri,ob),s(nn,lb),u(n,M1,c),u(n,Pe,c),s(Pe,cb),u(n,I1,c),u(n,la,c),s(la,ub),s(la,Pt),s(Pt,ib),s(la,rb),u(n,G1,c),u(n,A1,c),u(n,K1,c),u(n,U1,c),u(n,ca,c),s(ca,ua),s(ua,ki),s(ca,kb),u(n,$1,c),u(n,W1,c),u(n,q1,c),u(n,Jn,c),s(Jn,fb),s(Jn,fi),s(fi,db),s(Jn,Eb),s(Jn,di),s(di,vb),s(Jn,_b),u(n,z1,c),u(n,Zn,c),s(Zn,mb),dV(ia,Zn,null),s(Zn,bb),s(Zn,Ei),s(Ei,Cb),s(Zn,yb),u(n,J1,c),u(n,ra,c),s(ra,Ob),s(ra,vi),s(vi,Db),s(ra,wb),u(n,Z1,c),u(n,Rt,c),Rt.innerHTML=iS,u(n,X1,c),u(n,Cn,c),s(Cn,Pb),s(Cn,_i),s(_i,Rb),s(Cn,Tb),s(Cn,mi),s(mi,Vb),s(Cn,Sb),s(Cn,bi),s(bi,Fb),s(Cn,xb),u(n,Q1,c),u(n,yn,c),s(yn,Hb),s(yn,Ci),s(Ci,Bb),s(yn,Lb),s(yn,yi),s(yi,Nb),s(yn,Mb),s(yn,Oi),s(Oi,Ib),s(yn,Gb),u(n,j1,c),u(n,Tt,c),Tt.innerHTML=rS,u(n,Y1,c),u(n,Vt,c),Vt.innerHTML=kS,u(n,h1,c),u(n,ka,c),s(ka,Ab),s(ka,Di),s(Di,Kb),s(ka,Ub),u(n,g1,c),u(n,St,c),St.innerHTML=fS,u(n,n2,c),u(n,v,c),s(v,$b),s(v,wi),s(wi,Wb),s(v,qb),s(v,Pi),s(Pi,zb),s(v,Jb),s(v,Ri),s(Ri,Zb),s(v,Xb),s(v,Ti),s(Ti,Qb),s(v,jb),s(v,Vi),s(Vi,Yb),s(v,hb),s(v,Si),s(Si,gb),s(v,nC),s(v,Fi),s(Fi,sC),s(v,aC),s(v,xi),s(xi,tC),s(v,eC),s(v,Hi),s(Hi,pC),s(v,oC),u(n,s2,c),u(n,sn,c),s(sn,lC),s(sn,Bi),s(Bi,cC),s(sn,uC),s(sn,Li),s(Li,iC),s(sn,rC),s(sn,Ni),s(Ni,kC),s(sn,fC),s(sn,Mi),s(Mi,dC),s(sn,EC),u(n,a2,c),u(n,t2,c),u(n,e2,c),u(n,Xn,c),s(Xn,vC),s(Xn,Ii),s(Ii,_C),s(Xn,mC),s(Xn,Gi),s(Gi,bC),s(Xn,CC),u(n,p2,c),u(n,Ft,c),Ft.innerHTML=dS,u(n,o2,c),u(n,Qn,c),s(Qn,yC),s(Qn,Ai),s(Ai,OC),s(Qn,DC),s(Qn,Ki),s(Ki,wC),s(Qn,PC),u(n,l2,c),u(n,xt,c),xt.innerHTML=ES,u(n,c2,c),u(n,Re,c),s(Re,RC),u(n,u2,c),u(n,Ht,c),Ht.innerHTML=vS,u(n,i2,c),u(n,r2,c),u(n,k2,c),u(n,fa,c),s(fa,TC),s(fa,Ui),s(Ui,VC),s(fa,SC),u(n,f2,c),u(n,Te,c),s(Te,FC),u(n,d2,c),u(n,jn,c),s(jn,xC),s(jn,$i),s($i,HC),s(jn,BC),s(jn,Wi),s(Wi,LC),s(jn,NC),u(n,E2,c),u(n,Yn,c),s(Yn,MC),s(Yn,qi),s(qi,IC),s(Yn,GC),s(Yn,zi),s(zi,AC),s(Yn,KC),u(n,v2,c),u(n,da,c),s(da,UC),s(da,Ji),s(Ji,$C),s(da,WC),u(n,_2,c),u(n,Bt,c),s(Bt,Zi),s(Zi,qC),s(Bt,zC),u(n,m2,c),u(n,b2,c),u(n,C2,c),u(n,y2,c),u(n,Ea,c),s(Ea,va),s(va,Xi),s(Ea,JC),u(n,O2,c),u(n,D2,c),u(n,w2,c),u(n,Ln,c),s(Ln,Qi),s(Qi,ZC),s(Ln,XC),dV(Lt,Ln,null),s(Ln,QC),s(Ln,jC),s(Ln,YC),u(n,P2,c),u(n,R2,c),u(n,T2,c),V2=!0},p(n,[c]){const Ve={};c&1&&(Ve.$$scope={dirty:c,ctx:n}),ia.$set(Ve)},i(n){V2||(EV(ia.$$.fragment,n),EV(Lt.$$.fragment,n),V2=!0)},o(n){vV(ia.$$.fragment,n),vV(Lt.$$.fragment,n),V2=!1},d(n){n&&a(an),n&&a(ds),n&&a(un),n&&a(sr),n&&a(ar),n&&a(tr),n&&a(er),n&&a(vs),n&&a(pr),n&&a(or),n&&a(lr),n&&a(Kt),n&&a(cr),n&&a(rn),n&&a(ur),n&&a(Ut),n&&a(ir),n&&a(ms),n&&a(rr),n&&a(kr),n&&a(fr),n&&a(dr),n&&a(bs),n&&a(Er),n&&a(vr),n&&a(_r),n&&a($t),n&&a(mr),n&&a(Wt),n&&a(br),n&&a(qt),n&&a(Cr),n&&a(J),n&&a(yr),n&&a(Xt),n&&a(Or),n&&a(Dr),n&&a(wr),n&&a(Pr),n&&a(Os),n&&a(Rr),n&&a(Z),n&&a(Tr),n&&a(ws),n&&a(Vr),n&&a(Sr),n&&a(Fr),n&&a(Va),n&&a(xr),n&&a(Qt),n&&a(Hr),n&&a(Sa),n&&a(Br),n&&a(x),n&&a(Lr),n&&a(Fn),n&&a(Nr),n&&a(_),n&&a(Mr),n&&a(kn),n&&a(Ir),n&&a(H),n&&a(Gr),n&&a(Ps),n&&a(Ar),n&&a(Fa),n&&a(Kr),n&&a(jt),n&&a(Ur),n&&a(xa),n&&a($r),n&&a(Wr),n&&a(qr),n&&a(R),n&&a(zr),n&&a(Ha),n&&a(Jr),n&&a(Yt),n&&a(Zr),n&&a(Ba),n&&a(Xr),n&&a(E),n&&a(Qr),n&&a(jr),n&&a(Yr),n&&a(T),n&&a(hr),n&&a(La),n&&a(gr),n&&a(V),n&&a(nk),n&&a(ht),n&&a(sk),n&&a(Na),n&&a(ak),n&&a(fn),n&&a(tk),n&&a(ek),n&&a(pk),n&&a(us),n&&a(ok),n&&a(lk),n&&a(ck),n&&a(uk),n&&a(Rs),n&&a(ik),n&&a(In),n&&a(rk),n&&a(Ia),n&&a(kk),n&&a(B),n&&a(fk),n&&a(xn),n&&a(dk),n&&a(Ek),n&&a(vk),n&&a(dn),n&&a(_k),n&&a(Ga),n&&a(mk),n&&a(S),n&&a(bk),n&&a(Ck),n&&a(yk),n&&a(gt),n&&a(Ok),n&&a(Gn),n&&a(Dk),n&&a(Aa),n&&a(wk),n&&a(m),n&&a(Pk),n&&a(Ka),n&&a(Rk),n&&a(L),n&&a(Tk),n&&a(Ua),n&&a(Vk),n&&a(X),n&&a(Sk),n&&a(Vs),n&&a(Fk),n&&a($a),n&&a(xk),n&&a(ne),n&&a(Hk),n&&a(Wa),n&&a(Bk),n&&a(Lk),n&&a(Nk),n&&a(Mk),n&&a(Ss),n&&a(Ik),n&&a(b),n&&a(Gk),n&&a(is),n&&a(Ak),n&&a(qa),n&&a(Kk),n&&a(xs),n&&a(Uk),n&&a($k),n&&a(Wk),n&&a(rs),n&&a(qk),n&&a(za),n&&a(zk),n&&a(f),n&&a(Jk),n&&a(Q),n&&a(Zk),n&&a(Ja),n&&a(Xk),n&&a(se),n&&a(Qk),n&&a(Za),n&&a(jk),n&&a(Yk),n&&a(hk),n&&a(gk),n&&a(Hs),n&&a(nf),n&&a(An),n&&a(sf),n&&a(Xa),n&&a(af),n&&a(F),n&&a(tf),n&&a(U),n&&a(ef),n&&a(pf),n&&a(of),n&&a(lf),n&&a(Ls),n&&a(cf),n&&a(ae),n&&a(uf),n&&a(Kn),n&&a(rf),n&&a(kf),n&&a(ff),n&&a(te),n&&a(df),n&&a(Qa),n&&a(Ef),n&&a(ee),n&&a(vf),n&&a(ja),n&&a(_f),n&&a(Ms),n&&a(mf),n&&a(Ya),n&&a(bf),n&&a(Is),n&&a(Cf),n&&a(N),n&&a(yf),n&&a(Un),n&&a(Of),n&&a(ha),n&&a(Df),n&&a(ga),n&&a(wf),n&&a($n),n&&a(Pf),n&&a(Gs),n&&a(Rf),n&&a(nt),n&&a(Tf),n&&a(Wn),n&&a(Vf),n&&a(Sf),n&&a(Ff),n&&a(As),n&&a(xf),n&&a(st),n&&a(Hf),n&&a(Ks),n&&a(Bf),n&&a(Us),n&&a(Lf),n&&a(j),n&&a(Nf),n&&a(at),n&&a(Mf),n&&a(tt),n&&a(If),n&&a(En),n&&a(Gf),n&&a(Af),n&&a(Kf),n&&a(pe),n&&a(Uf),n&&a(et),n&&a($f),n&&a(Wf),n&&a(qf),n&&a($s),n&&a(zf),n&&a(Jf),n&&a(Zf),n&&a(Xf),n&&a(Ws),n&&a(Qf),n&&a(oe),n&&a(jf),n&&a(ot),n&&a(Yf),n&&a(M),n&&a(hf),n&&a(le),n&&a(gf),n&&a(lt),n&&a(nd),n&&a(ce),n&&a(sd),n&&a(ue),n&&a(ad),n&&a(td),n&&a(ed),n&&a(pd),n&&a(zs),n&&a(od),n&&a(tn),n&&a(ld),n&&a(ie),n&&a(cd),n&&a(ud),n&&a(id),n&&a(re),n&&a(rd),n&&a(kd),n&&a(fd),n&&a(dd),n&&a(Zs),n&&a(Ed),n&&a(ke),n&&a(vd),n&&a(qn),n&&a(_d),n&&a(ct),n&&a(md),n&&a(fe),n&&a(bd),n&&a(ut),n&&a(Cd),n&&a(de),n&&a(yd),n&&a(it),n&&a(Od),n&&a(ks),n&&a(Dd),n&&a(rt),n&&a(wd),n&&a(Ee),n&&a(Pd),n&&a(ve),n&&a(Rd),n&&a(Td),n&&a(Vd),n&&a(Sd),n&&a(Qs),n&&a(Fd),n&&a(Hn),n&&a(xd),n&&a(vn),n&&a(Hd),n&&a($),n&&a(Bd),n&&a(I),n&&a(Ld),n&&a(Nd),n&&a(Md),n&&a(Id),n&&a(Ys),n&&a(Gd),n&&a(Y),n&&a(Ad),n&&a(zn),n&&a(Kd),n&&a(_n),n&&a(Ud),n&&a(_e),n&&a($d),n&&a(Wd),n&&a(qd),n&&a(me),n&&a(zd),n&&a(kt),n&&a(Jd),n&&a(be),n&&a(Zd),n&&a(ft),n&&a(Xd),n&&a(gs),n&&a(Qd),n&&a(dt),n&&a(jd),n&&a(na),n&&a(Yd),n&&a(Et),n&&a(hd),n&&a(h),n&&a(gd),n&&a(Ce),n&&a(n1),n&&a(vt),n&&a(s1),n&&a(Bn),n&&a(a1),n&&a(mn),n&&a(t1),n&&a(e1),n&&a(p1),n&&a(ye),n&&a(o1),n&&a(_t),n&&a(l1),n&&a(sa),n&&a(c1),n&&a(mt),n&&a(u1),n&&a(aa),n&&a(i1),n&&a(bt),n&&a(r1),n&&a(Oe),n&&a(k1),n&&a(De),n&&a(f1),n&&a(d1),n&&a(E1),n&&a(v1),n&&a(ta),n&&a(_1),n&&a(Ct),n&&a(m1),n&&a(g),n&&a(b1),n&&a(yt),n&&a(C1),n&&a(bn),n&&a(y1),n&&a(Ot),n&&a(O1),n&&a(O),n&&a(D1),n&&a(w1),n&&a(P1),n&&a(D),n&&a(R1),n&&a(Dt),n&&a(T1),n&&a(G),n&&a(V1),n&&a(we),n&&a(S1),n&&a(wt),n&&a(F1),n&&a(w),n&&a(x1),n&&a(H1),n&&a(B1),n&&a(L1),n&&a(pa),n&&a(N1),n&&a(nn),n&&a(M1),n&&a(Pe),n&&a(I1),n&&a(la),n&&a(G1),n&&a(A1),n&&a(K1),n&&a(U1),n&&a(ca),n&&a($1),n&&a(W1),n&&a(q1),n&&a(Jn),n&&a(z1),n&&a(Zn),_V(ia),n&&a(J1),n&&a(ra),n&&a(Z1),n&&a(Rt),n&&a(X1),n&&a(Cn),n&&a(Q1),n&&a(yn),n&&a(j1),n&&a(Tt),n&&a(Y1),n&&a(Vt),n&&a(h1),n&&a(ka),n&&a(g1),n&&a(St),n&&a(n2),n&&a(v),n&&a(s2),n&&a(sn),n&&a(a2),n&&a(t2),n&&a(e2),n&&a(Xn),n&&a(p2),n&&a(Ft),n&&a(o2),n&&a(Qn),n&&a(l2),n&&a(xt),n&&a(c2),n&&a(Re),n&&a(u2),n&&a(Ht),n&&a(i2),n&&a(r2),n&&a(k2),n&&a(fa),n&&a(f2),n&&a(Te),n&&a(d2),n&&a(jn),n&&a(E2),n&&a(Yn),n&&a(v2),n&&a(da),n&&a(_2),n&&a(Bt),n&&a(m2),n&&a(b2),n&&a(C2),n&&a(y2),n&&a(Ea),n&&a(O2),n&&a(D2),n&&a(w2),n&&a(Ln),_V(Lt),n&&a(P2),n&&a(R2),n&&a(T2)}}}const TF={title:"Reflect, Unsafe, Cgo",date:"2023-02-21T00:00:00.000Z",excerpt:"'Learning Go'를 읽고, Go의 런타입 타입 확인을 위한 Reflect, 에 대해 정리해보았습니다",categories:["Golang","Basic Golang"],coverImage:"/post_img/Go/Golang_basics/cover.png",coverWidth:16,coverHeight:9,indexed:!1,exposed:!0};class VF extends vF{constructor(an){super(),_F(this,an,null,DF,mF,{})}}export{VF as default,TF as metadata};
