import{S as dF,i as EF,s as vF,k as p,a as i,q as t,y as _F,l as o,c as r,m as l,r as e,h as a,z as mF,n as k,U as bF,b as u,E as s,A as CF,g as yF,d as OF,B as DF,M as wF}from"./index.5621e629.js";import{H as PF}from"./Highlight.2decd09b.js";function RF(h2){let an,ds;return{c(){an=p("em"),ds=t("lingua franca")},l(un){an=o(un,"EM",{});var Es=l(an);ds=e(Es,"lingua franca"),Es.forEach(a)},m(un,Es){u(un,an,Es),s(an,ds)},p:wF,d(un){un&&a(an)}}}function TF(h2){let an,ds,un,Es,tr,er,pr,or,vs,_s,Xe,g2,lr,cr,ur,Kt,nE,ir,rn,sE,Qe,aE,tE,je,eE,pE,Ye,oE,lE,rr,Ut,cE,kr,ms,he,uE,iE,ge,rE,fr,dr,Er,vr,bs,Cs,np,kE,_r,mr,br,$t,fE,Cr,Wt,dE,yr,qt,EE,Or,J,zt,sp,vE,_E,mE,ls,bE,ap,CE,yE,tp,OE,DE,wE,ys,ep,PE,RE,pp,TE,VE,SE,Jt,op,FE,xE,HE,Zt,lp,BE,LE,Dr,Xt,NE,wr,Pr,Rr,Tr,Os,Ds,cp,ME,Vr,Z,IE,up,GE,AE,ip,KE,UE,rp,$E,WE,kp,qE,zE,Sr,ws,JE,fp,ZE,XE,Fr,xr,Hr,Va,vV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	xt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    tnt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tnt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Br,Qt,QE,Lr,Sa,_V=`<code class="language-text">int
Foo


string</code>`,Nr,x,jE,dp,YE,hE,Ep,gE,nv,vp,sv,av,_p,tv,ev,mp,pv,ov,Mr,Fn,bp,lv,cv,Cp,uv,iv,yp,rv,kv,Ir,_,Op,fv,dv,Dp,Ev,vv,wp,_v,mv,Pp,bv,Cv,Rp,yv,Ov,Tp,Dv,wv,Vp,Pv,Rv,Sp,Tv,Vv,Fp,Sv,Fv,Gr,kn,xv,xp,Hv,Bv,Hp,Lv,Nv,Bp,Mv,Iv,Ar,H,Gv,Lp,Av,Kv,Np,Uv,$v,Mp,Wv,qv,Ip,zv,Jv,Gp,Zv,Xv,Kr,Ps,Qv,Ap,jv,Yv,Ur,Fa,mV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	x <span class="token operator">:=</span> <span class="token number">1</span>
	xt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ft<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tnt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tnt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,$r,jt,hv,Wr,xa,bV=`<code class="language-text">int int
Foo struct
 ptr
 ptr
string ptr</code>`,qr,zr,Jr,R,Kp,gv,n3,Up,s3,a3,$p,t3,e3,Wp,p3,o3,qp,l3,c3,zp,u3,i3,Zr,Ha,CV=`<code class="language-go">	xpt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>xpt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> xpt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	tt <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>ft<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tt<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> tt<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Xr,Yt,r3,Qr,Ba,yV=`<code class="language-text"> ptr int int
 ptr rtype struct</code>`,jr,E,k3,Jp,f3,d3,Zp,E3,v3,Xp,_3,m3,Qp,b3,C3,jp,y3,O3,Yp,D3,w3,hp,P3,R3,gp,T3,V3,no,S3,F3,Yr,hr,gr,T,so,x3,H3,ao,B3,L3,to,N3,M3,eo,I3,G3,po,A3,K3,oo,U3,$3,nk,La,OV=`<code class="language-go"><span class="token keyword">type</span> Foo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	A <span class="token builtin">int</span>    <span class="token string">&#96;myTag:"value"&#96;</span>
	B <span class="token builtin">string</span> <span class="token string">&#96;myTag:"value2"&#96;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	f <span class="token operator">:=</span> Foo<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ft<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		curField <span class="token operator">:=</span> ft<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>curField<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> curField<span class="token punctuation">.</span>Type<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> curField<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"myTag"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,sk,V,lo,W3,q3,co,z3,J3,uo,Z3,X3,io,Q3,j3,ro,Y3,h3,ko,g3,n_,ak,ht,s_,tk,Na,DV=`<code class="language-text">A int value
B string value</code>`,ek,fn,a_,fo,t_,e_,Eo,p_,o_,vo,l_,c_,pk,ok,lk,cs,_o,u_,i_,Ma,r_,k_,ck,uk,ik,rk,Rs,Ts,mo,f_,kk,Mn,d_,bo,E_,v_,Co,__,m_,fk,Ia,wV='<code class="language-go">vValue <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span></code>',dk,B,b_,yo,C_,y_,Oo,O_,D_,Do,w_,P_,wo,R_,T_,Po,V_,S_,Ek,xn,Ro,F_,x_,To,H_,B_,Vo,L_,N_,vk,_k,mk,dn,M_,So,I_,G_,Fo,A_,K_,xo,U_,$_,bk,Ga,PV=`<code class="language-go">	s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">&#125;</span>
	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	s2 <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span></code>`,Ck,S,Ho,W_,q_,Bo,z_,J_,Lo,Z_,X_,No,Q_,j_,Mo,Y_,h_,Io,g_,n5,yk,Ok,Dk,gt,s5,wk,In,a5,Go,t5,e5,Ao,p5,o5,Pk,Aa,RV=`<code class="language-go">    i <span class="token operator">:=</span> <span class="token number">10</span>
	iv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">)</span></code>`,Rk,m,l5,Ko,c5,u5,Uo,i5,r5,$o,k5,f5,Wo,d5,E5,qo,v5,_5,zo,m5,b5,Jo,C5,y5,Tk,Ka,TV='<code class="language-go">ivv <span class="token operator">:=</span> iv<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>',Vk,L,O5,Zo,D5,w5,Xo,P5,R5,Qo,T5,V5,jo,S5,F5,Yo,x5,H5,Sk,Ua,VV=`<code class="language-go">    ivv<span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span></code>`,Fk,X,B5,ho,L5,N5,go,M5,I5,nl,G5,A5,sl,K5,U5,xk,Vs,$5,al,W5,q5,Hk,$a,SV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">changeInt</span><span class="token punctuation">(</span>i <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token operator">*</span>i <span class="token operator">=</span> <span class="token number">20</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">changeIntReflect</span><span class="token punctuation">(</span>i <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Bk,ne,z5,Lk,Wa,FV=`<code class="language-go">    i3 <span class="token operator">:=</span> <span class="token number">10</span>
	reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// this calls will panic</span></code>`,Nk,Mk,Ik,Gk,Ss,Fs,tl,J5,Ak,b,Z5,el,X5,Q5,pl,j5,Y5,ol,h5,g5,ll,n4,s4,cl,a4,t4,ul,e4,p4,il,o4,l4,Kk,us,rl,c4,u4,kl,i4,r4,Uk,qa,xV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">MakeChan</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> buffer <span class="token builtin">int</span><span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeMap</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeMapWithSize</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> Value
<span class="token keyword">func</span> <span class="token function">MakeSlice</span><span class="token punctuation">(</span>typ Type<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">,</span> <span class="token builtin">cap</span> <span class="token builtin">int</span><span class="token punctuation">)</span> Value</code>`,$k,xs,k4,fl,f4,d4,Wk,qk,zk,is,dl,E4,v4,El,_4,m4,Jk,za,HV=`<code class="language-go">	<span class="token keyword">var</span> stringType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> stringSliceType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Zk,f,b4,vl,C4,y4,_l,O4,D4,ml,w4,P4,bl,R4,T4,Cl,V4,S4,yl,F4,x4,Ol,H4,B4,Dl,L4,N4,wl,M4,I4,Pl,G4,A4,Rl,K4,U4,Tl,$4,W4,Vl,q4,z4,Sl,J4,Z4,Fl,X4,Q4,Xk,Q,j4,xl,Y4,h4,Hl,g4,n6,Bl,s6,a6,Ll,t6,e6,Qk,Ja,BV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> stringType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> stringSliceType <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>stringType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	sv<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>

	ssv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeSlice</span><span class="token punctuation">(</span>stringSliceType<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	ssv <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>ssv<span class="token punctuation">,</span> sv<span class="token punctuation">)</span>

	ss <span class="token operator">:=</span> ssv<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,jk,se,p6,Yk,Za,LV='<code class="language-text">[hello]</code>',hk,gk,nf,sf,Hs,Bs,Nl,o6,af,Gn,l6,Ml,c6,u6,Il,i6,r6,tf,Xa,NV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span>i <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
	iv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>iv<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">switch</span> iv<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Ptr<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Slice<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Map<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Func<span class="token punctuation">,</span> reflect<span class="token punctuation">.</span>Interface<span class="token punctuation">:</span>
		<span class="token keyword">return</span> iv<span class="token punctuation">.</span><span class="token function">IsNil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> s <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token string">"asd"</span>
	<span class="token keyword">var</span> p <span class="token operator">*</span><span class="token builtin">string</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">hasNoValue</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">hasNoValue</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,ef,F,Gl,k6,f6,Al,d6,E6,Kl,v6,_6,Ul,m6,b6,$l,C6,y6,Wl,O6,D6,pf,U,ql,w6,P6,zl,R6,T6,Jl,V6,S6,Zl,F6,x6,Xl,H6,B6,of,lf,cf,uf,Ls,Ns,Ql,L6,rf,ae,N6,kf,An,M6,jl,I6,G6,Yl,A6,K6,ff,df,Ef,te,U6,vf,Qa,MV=`<code class="language-go"><span class="token keyword">type</span> MyData <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	Name   <span class="token builtin">string</span> <span class="token string">&#96;csv:"name"&#96;</span>
	Age    <span class="token builtin">int</span>    <span class="token string">&#96;csv:"age"&#96;</span>
	HasPet <span class="token builtin">bool</span>   <span class="token string">&#96;csv:"has_pet"&#96;</span>
<span class="token punctuation">&#125;</span></code>`,_f,ee,$6,mf,ja,IV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Unmarshal</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">error</span>

<span class="token keyword">func</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span></code>`,bf,Ms,W6,hl,q6,z6,Cf,Ya,GV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sliceVal <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	structType <span class="token operator">:=</span> sliceVal<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> structType<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Struct <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">var</span> out <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	header <span class="token operator">:=</span> <span class="token function">marshalHeader</span><span class="token punctuation">(</span>structType<span class="token punctuation">)</span>
	out <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> header<span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sliceVal<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		row<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">marshalOne</span><span class="token punctuation">(</span>sliceVal<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
		<span class="token punctuation">&#125;</span>
		out <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> row<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> out<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,yf,Is,J6,gl,Z6,X6,Of,N,Q6,nc,j6,Y6,sc,h6,g6,ac,n9,s9,tc,a9,t9,ec,e9,p9,Df,Kn,o9,pc,l9,c9,oc,u9,i9,wf,ha,lc,r9,k9,Pf,ga,AV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">marshalHeader</span><span class="token punctuation">(</span>vt reflect<span class="token punctuation">.</span>Type<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vt<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		field <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		<span class="token keyword">if</span> curTag<span class="token punctuation">,</span> ok <span class="token operator">:=</span> field<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">&#123;</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> curTag<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> row
<span class="token punctuation">&#125;</span></code>`,Rf,Un,f9,cc,d9,E9,uc,v9,_9,Tf,Gs,m9,ic,b9,C9,Vf,nt,KV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">marshalOne</span><span class="token punctuation">(</span>vv reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	vt <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vv<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		fieldVal <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">&#125;</span>

		<span class="token keyword">switch</span> fieldVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Int<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span>fieldVal<span class="token punctuation">.</span><span class="token function">Int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>String<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> fieldVal<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Bool<span class="token punctuation">:</span>
			row <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> strconv<span class="token punctuation">.</span><span class="token function">FormatBool</span><span class="token punctuation">(</span>fieldVal<span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"cannot handle field of kind %v"</span><span class="token punctuation">,</span> fieldVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> row<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,Sf,$n,y9,rc,O9,D9,kc,w9,P9,Ff,xf,Hf,As,R9,fc,T9,V9,Bf,st,UV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Unmarshal</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> v <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>
	sliceValPtr <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceValPtr<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Ptr <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a pointer to a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	sliceVal <span class="token operator">:=</span> sliceValPtr<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> sliceVal<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"must be a pointer to a slice of structs"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	structType <span class="token operator">:=</span> sliceVal<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> structType<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Struct <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">"muast be a pointer to"</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	header <span class="token operator">:=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	namePos <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>header<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> header <span class="token punctuation">&#123;</span>
		namePos<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> k
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> row <span class="token operator">:=</span> <span class="token keyword">range</span> data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token punctuation">&#123;</span>
		newVal <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>structType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		err <span class="token operator">:=</span> <span class="token function">unmarshalOne</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> namePos<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">&#125;</span>
		sliceVal<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>sliceVal<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,Lf,Ks,S9,dc,F9,x9,Nf,Us,H9,Ec,B9,L9,Mf,j,N9,vc,M9,I9,_c,G9,A9,mc,K9,U9,bc,$9,W9,If,at,Cc,q9,z9,Gf,tt,$V=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">unmarshalOne</span><span class="token punctuation">(</span>row <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> namePos <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> vv reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">&#123;</span>
	vt <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vv<span class="token punctuation">.</span><span class="token function">NumField</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		typeField <span class="token operator">:=</span> vt<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		pos<span class="token punctuation">,</span> ok <span class="token operator">:=</span> namePos<span class="token punctuation">[</span>typeField<span class="token punctuation">.</span>Tag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"csv"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">&#123;</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">&#125;</span>

		val <span class="token operator">:=</span> row<span class="token punctuation">[</span>pos<span class="token punctuation">]</span>
		field <span class="token operator">:=</span> vv<span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		<span class="token keyword">switch</span> field<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Int<span class="token punctuation">:</span>
			i<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">&#125;</span>
			field<span class="token punctuation">.</span><span class="token function">SetInt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>String<span class="token punctuation">:</span>
			field<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>

		<span class="token keyword">case</span> reflect<span class="token punctuation">.</span>Bool<span class="token punctuation">:</span>
			b<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">&#125;</span>
			field<span class="token punctuation">.</span><span class="token function">SetBool</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>

		<span class="token keyword">default</span><span class="token punctuation">:</span>
			<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">"cannot handle field of kind %v"</span><span class="token punctuation">,</span> field<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span></code>`,Af,En,J9,yc,Z9,X9,Oc,Q9,j9,Dc,Y9,h9,Kf,Uf,$f,pe,g9,Wf,et,WV=`<code class="language-go">data <span class="token operator">:=</span>
		<span class="token string">&#96;name,age,has_pet
Jon,"100",true
"Fred ""The Hammer"" Smith",42,false
Martha,37,"true"
&#96;</span>
	r <span class="token operator">:=</span> csv<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
	allData<span class="token punctuation">,</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>

	<span class="token keyword">var</span> entries <span class="token punctuation">[</span><span class="token punctuation">]</span>MyData
	<span class="token function">Unmarshal</span><span class="token punctuation">(</span>allData<span class="token punctuation">,</span> <span class="token operator">&amp;</span>entries<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>

	out<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">Marshal</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	sb <span class="token operator">:=</span> <span class="token operator">&amp;</span>strings<span class="token punctuation">.</span>Builder<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	w <span class="token operator">:=</span> csv<span class="token punctuation">.</span><span class="token function">NewWriter</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span>
	w<span class="token punctuation">.</span><span class="token function">WriteAll</span><span class="token punctuation">(</span>out<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span></code>`,qf,zf,Jf,$s,n7,pt,s7,a7,Zf,Xf,Qf,jf,Ws,qs,wc,t7,Yf,oe,e7,hf,ot,qV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">MakeTimedFunction</span><span class="token punctuation">(</span>f <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>
	ft <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
	fv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>

	wrapperF <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeFunc</span><span class="token punctuation">(</span>ft<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>args <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value <span class="token punctuation">&#123;</span>
		start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		out <span class="token operator">:=</span> fv<span class="token punctuation">.</span><span class="token function">Call</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
		end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> out
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> wrapperF<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,gf,M,p7,Pc,o7,l7,Rc,c7,u7,Tc,i7,r7,Vc,k7,f7,Sc,d7,E7,nd,le,v7,sd,lt,zV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">timeMe</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> result <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		result <span class="token operator">+=</span> <span class="token number">1</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	timed <span class="token operator">:=</span> <span class="token function">MakeTimedFunction</span><span class="token punctuation">(</span>timeMe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">timed</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,ad,ce,_7,td,ue,m7,ed,pd,od,ld,zs,Js,Fc,b7,cd,tn,xc,C7,y7,Hc,O7,D7,Bc,w7,P7,Lc,R7,T7,ud,ie,V7,id,rd,kd,re,S7,fd,dd,Ed,vd,Zs,Xs,Nc,F7,_d,ke,x7,md,Wn,H7,Mc,B7,L7,Ic,N7,M7,bd,ct,JV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">Filter</span><span class="token punctuation">(</span>slice <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> filter <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
	res <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> s <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span> <span class="token function">filter</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span></code>`,Cd,fe,I7,yd,ut,ZV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>slice <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> filter <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span>
	sv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>slice<span class="token punctuation">)</span>
	fv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>filter<span class="token punctuation">)</span>

	sliceLen <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Len</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	out <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">MakeSlice</span><span class="token punctuation">(</span>sv<span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> sliceLen<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sliceLen<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
		curVal <span class="token operator">:=</span> sv<span class="token punctuation">.</span><span class="token function">Index</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
		values <span class="token operator">:=</span> fv<span class="token punctuation">.</span><span class="token function">Call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>reflect<span class="token punctuation">.</span>Value<span class="token punctuation">&#123;</span>curVal<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">Bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			out <span class="token operator">=</span> reflect<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span> curVal<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> out<span class="token punctuation">.</span><span class="token function">Interface</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,Od,de,G7,Dd,it,XV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	names <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span><span class="token string">"Andrew"</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token string">"Clara"</span><span class="token punctuation">,</span> <span class="token string">"Hortense"</span><span class="token punctuation">&#125;</span>
	longNames <span class="token operator">:=</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>names<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">3</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>longNames<span class="token punctuation">)</span><span class="token punctuation">)</span>

	ages <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">&#125;</span>
	adults <span class="token operator">:=</span> <span class="token function">ReflectedFilter</span><span class="token punctuation">(</span>ages<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>age <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> age <span class="token operator">>=</span> <span class="token number">18</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>adults<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,wd,rs,Gc,A7,K7,Ac,U7,$7,Pd,rt,QV=`<code class="language-text">BenchmarkFilterReflectString-12             4123            336595 ns/op
BenchmarkFilterString-12                  191110              8211 ns/op
BenchmarkFilterReflectInt-12                3427            359483 ns/op
BenchmarkFilterInt-12                     497114              4233 ns/op</code>`,Rd,Ee,W7,Td,ve,q7,Vd,Sd,Fd,xd,Qs,js,Kc,z7,Hd,Hn,Uc,J7,Z7,$c,X7,Q7,Wc,j7,Y7,Bd,vn,h7,qc,g7,n8,zc,s8,a8,Jc,t8,e8,Ld,$,Zc,p8,o8,Xc,l8,c8,Qc,u8,i8,jc,r8,k8,Yc,f8,d8,Nd,I,E8,hc,v8,_8,gc,m8,b8,nu,C8,y8,su,O8,D8,au,w8,P8,Md,Id,Gd,Ad,Ys,hs,tu,R8,Kd,Y,T8,eu,V8,S8,pu,F8,x8,ou,H8,B8,lu,L8,N8,Ud,qn,M8,cu,I8,G8,uu,A8,K8,$d,_n,iu,U8,$8,ru,W8,q8,ku,z8,J8,fu,Z8,Wd,_e,du,X8,qd,zd,Jd,me,Q8,Zd,kt,jV=`<code class="language-go"><span class="token keyword">type</span> Data <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
	Value  <span class="token builtin">uint32</span>
	Label  <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">byte</span>
	Active <span class="token builtin">bool</span>
	<span class="token comment">// padded 1 byte</span>
<span class="token punctuation">&#125;</span></code>`,Xd,be,j8,Qd,ft,YV='<code class="language-go"><span class="token punctuation">[</span><span class="token number">0</span> <span class="token number">132</span> <span class="token number">95</span> <span class="token number">237</span> <span class="token number">80</span> <span class="token number">104</span> <span class="token number">111</span> <span class="token number">110</span> <span class="token number">101</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">0</span><span class="token punctuation">]</span></code>',jd,gs,Y8,Eu,h8,g8,Yd,dt,hV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">DataFromBytes</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> Data <span class="token punctuation">&#123;</span>
	d <span class="token operator">:=</span> Data<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	d<span class="token punctuation">.</span>Value <span class="token operator">=</span> binary<span class="token punctuation">.</span>BigEndian<span class="token punctuation">.</span><span class="token function">Uint32</span><span class="token punctuation">(</span>b<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Label<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	d<span class="token punctuation">.</span>Active <span class="token operator">=</span> b<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span>
	<span class="token keyword">return</span> d
<span class="token punctuation">&#125;</span></code>`,hd,na,n0,vu,s0,a0,gd,Et,gV=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">DataFromBytesUnsafe</span><span class="token punctuation">(</span>b <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> Data <span class="token punctuation">&#123;</span>
	data <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>Data<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> isLE <span class="token punctuation">&#123;</span>
		data<span class="token punctuation">.</span>Value <span class="token operator">=</span> bits<span class="token punctuation">.</span><span class="token function">ReverseBytes32</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> data
<span class="token punctuation">&#125;</span></code>`,n1,h,t0,_u,e0,p0,mu,o0,l0,bu,c0,u0,Cu,i0,r0,s1,Ce,k0,a1,vt,nS=`<code class="language-go"><span class="token keyword">var</span> isLE <span class="token builtin">bool</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">var</span> x <span class="token builtin">uint16</span> <span class="token operator">=</span> <span class="token number">0xFF00</span>
	xb <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
	isLE <span class="token operator">=</span> <span class="token punctuation">(</span>xb<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0x00</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,t1,Bn,yu,f0,d0,Ou,E0,v0,Du,_0,m0,e1,mn,b0,wu,C0,y0,Pu,O0,D0,Ru,w0,P0,p1,o1,l1,ye,R0,c1,_t,sS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">BytesFromData</span><span class="token punctuation">(</span>d Data<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">&#123;</span>
	out <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	binary<span class="token punctuation">.</span>BigEndian<span class="token punctuation">.</span><span class="token function">PutUint32</span><span class="token punctuation">(</span>out<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token function">copy</span><span class="token punctuation">(</span>out<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>Label<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> d<span class="token punctuation">.</span>Active <span class="token punctuation">&#123;</span>
		out<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> out
<span class="token punctuation">&#125;</span></code>`,u1,sa,T0,Tu,V0,S0,i1,mt,aS=`<code class="language-go"><span class="token keyword">func</span> <span class="token function">BytesFromDataUnsafe</span><span class="token punctuation">(</span>d Data<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> isLE <span class="token punctuation">&#123;</span>
		d<span class="token punctuation">.</span>Value <span class="token operator">=</span> bits<span class="token punctuation">.</span><span class="token function">ReverseBytes32</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Value<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	b <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> b
<span class="token punctuation">&#125;</span></code>`,r1,aa,F0,Vu,x0,H0,k1,bt,tS=`<code class="language-text">BenchmarkBytesFromData-12               127067046                9.444 ns/op
BenchmarkBytesFromDataUnsafe-12         187575825                6.395 ns/op
BenchmarkDataFromBytes-12               127086181                9.590 ns/op
BenchmarkDataFromBytesUnsafe-12         135862089                8.999 ns/op</code>`,f1,Oe,B0,d1,De,L0,E1,v1,_1,m1,ta,ea,Su,N0,b1,Ct,Fu,M0,I0,C1,g,G0,xu,A0,K0,Hu,U0,$0,Bu,W0,q0,Lu,z0,J0,y1,yt,eS=`<code class="language-go">s <span class="token operator">:=</span> <span class="token string">"hello"</span>
sHdr <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>StringHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">)</span></code>`,O1,bn,Z0,Nu,X0,Q0,Mu,j0,Y0,Iu,h0,g0,D1,Ot,pS=`<code class="language-go"><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
	bp <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">byte</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Data <span class="token operator">+</span> <span class="token function">uintptr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>bp<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
runtime<span class="token punctuation">.</span><span class="token function">KeepAlive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code>`,w1,O,Gu,nm,sm,Au,am,tm,Ku,em,pm,Uu,om,lm,$u,cm,um,Wu,im,rm,qu,km,fm,P1,R1,T1,D,zu,dm,Em,Ju,vm,_m,Zu,mm,bm,Xu,Cm,ym,Qu,Om,Dm,ju,wm,Pm,Yu,Rm,Tm,V1,Dt,oS=`<code class="language-go">s <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">&#125;</span>
sHdr <span class="token operator">:=</span> <span class="token punctuation">(</span><span class="token operator">*</span>reflect<span class="token punctuation">.</span>SliceHeader<span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Cap<span class="token punctuation">)</span></code>`,S1,G,Vm,hu,Sm,Fm,gu,xm,Hm,ni,Bm,Lm,si,Nm,Mm,ai,Im,Gm,F1,we,Am,x1,wt,lS=`<code class="language-go">intByteSize <span class="token operator">:=</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intByteSize<span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sHdr<span class="token punctuation">.</span>Len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">&#123;</span>
	intVal <span class="token operator">:=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>sHdr<span class="token punctuation">.</span>Data <span class="token operator">+</span> intByteSize<span class="token operator">*</span><span class="token function">uintptr</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>intVal<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
runtime<span class="token punctuation">.</span><span class="token function">KeepAlive</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span></code>`,H1,w,ti,Km,Um,ei,$m,Wm,pi,qm,zm,oi,Jm,Zm,li,Xm,Qm,ci,jm,Ym,ui,hm,gm,B1,L1,N1,M1,pa,oa,ii,nb,I1,nn,sb,ri,ab,tb,ki,eb,pb,fi,ob,lb,di,cb,ub,G1,Pe,ib,A1,la,rb,Pt,kb,fb,K1,U1,$1,W1,ca,ua,Ei,db,q1,z1,J1,zn,Eb,vi,vb,_b,_i,mb,bb,Z1,Jn,Cb,ia,yb,mi,Ob,Db,X1,ra,wb,bi,Pb,Rb,Q1,Rt,cS=`<code class="language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">/*
   #cgo LDFLAGS: -lm
   #include &lt;stdio.h>
   #include &lt;math.h>
   #include "mylib.h"

   int add(int a, int b) &#123;
       int sum = a + b;
       printf("a: %d, b: %d, sum %d&#92;n", a, b, sum);
       return sum;
   &#125;
*/</span>
<span class="token keyword">import</span> <span class="token string">"C"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	sum <span class="token operator">:=</span> C<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,j1,Cn,Tb,Ci,Vb,Sb,yi,Fb,xb,Oi,Hb,Bb,Y1,yn,Lb,Di,Nb,Mb,wi,Ib,Gb,Pi,Ab,Kb,h1,Tt,uS='<code class="language-c"><span class="token keyword">int</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',g1,Vt,iS=`<code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"mylib.h"</span></span>

<span class="token keyword">int</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,n2,ka,Ub,Ri,$b,Wb,s2,St,rS=`<code class="language-text">$ ./cgo
a: 3, b: 2, sum 5
5
10
200</code>`,a2,v,qb,Ti,zb,Jb,Vi,Zb,Xb,Si,Qb,jb,Fi,Yb,hb,xi,gb,nC,Hi,sC,aC,Bi,tC,eC,Li,pC,oC,Ni,lC,cC,t2,sn,uC,Mi,iC,rC,Ii,kC,fC,Gi,dC,EC,Ai,vC,_C,e2,p2,o2,Zn,mC,Ki,bC,CC,Ui,yC,OC,l2,Ft,kS=`<code class="language-go"><span class="token keyword">package</span> main

<span class="token comment">/*
   extern int add(int a, int b);
*/</span>
<span class="token keyword">import</span> <span class="token string">"C"</span>
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">//export doubler</span>
<span class="token keyword">func</span> <span class="token function">doubler</span><span class="token punctuation">(</span>i <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> i <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>C<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span></code>`,c2,Xn,DC,$i,wC,PC,Wi,RC,TC,u2,xt,fS=`<code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"_cgo_export.h"</span></span>

<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> doubleA <span class="token operator">=</span> <span class="token function">doubler</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> doubleA <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,i2,Re,VC,r2,Ht,dS=`<code class="language-text">$ ./export
4</code>`,k2,f2,d2,fa,SC,qi,FC,xC,E2,Te,HC,v2,Qn,BC,zi,LC,NC,Ji,MC,IC,_2,jn,GC,Zi,AC,KC,Xi,UC,$C,m2,da,WC,Qi,qC,zC,b2,Bt,ji,JC,ZC,C2,y2,O2,D2,Ea,va,Yi,XC,w2,P2,R2,Ve,ks,Lt,Se,yy,QC,jC,YC,Nt,hC,T2,V2,S2,F2;return ia=new PF({props:{$$slots:{default:[RF]},$$scope:{ctx:h2}}}),{c(){an=p("br"),ds=i(),un=p("p"),Es=t("본 글은 Golang을 공부하며 주요 내용이라 생각되는 것들을 기록해둔 자료이며, Ubuntu 22.04 LTS 기준으로 작성되었습니다."),tr=i(),er=p("br"),pr=p("br"),or=i(),vs=p("h2"),_s=p("a"),Xe=p("span"),g2=t("Introduction"),lr=i(),cr=p("hr"),ur=i(),Kt=p("p"),nE=t(`Go는 안전한 언어이다.
정적 타입의 변수를 통해 어떤 데이터를 사용하고 있는지 명확히 하며, 메모리를 관리하기 위해 가비지 컬렉터를 사용한다.
포인터를 사용하긴 하지만 C나 C++보다는 제한적인 범위에서만 사용할 수 있다.
따라서 고 런타임은 대부분 안전하게 실행된다고 할 수 있다.`),ir=i(),rn=p("p"),sE=t(`하지만 타입을 명확히 정의할 수 없는 데이터를 다뤄야 하는 경우가 있을 수 있다.
이를테면 타입을 컴파일 타임에 결정할 수 없는 데이터가 있을 수 있다. 이 경우 `),Qe=p("code"),aE=t("reflect"),tE=t(` 패키지를 통해 데이터와 상호작용하거나 데이터를 구성한다.
또는 데이터 타입의 메모리 레이아웃을 사용해야 하는 경우, `),je=p("code"),eE=t("unsafe"),pE=t(` 패키지를 사용한다.
그리고 C로 작성된 라이브러리의 기능을 사용해야 하는 경우, `),Ye=p("code"),oE=t("cgo"),lE=t(" 패키지를 통해 C 코드를 호출할 수도 있다."),rr=i(),Ut=p("p"),cE=t(`처음 Go언어를 배우는 사람들을 위한 책에서 나올 내용 치고는 다소 고난도의 개념인지라, 이러한 내용이 나오는 것에 대해 다소 의아할 수도 있다.
하지만 다음과 같은 두 가지 이유로 이 내용을 다룬다.`),kr=i(),ms=p("ol"),he=p("li"),uE=t(`개발자들은 코드에서 문제를 발견하면 솔루션을 검색해보고 제대로 이해하지도 못한 채 코드에 복붙하는 경우가 많다. 이로 인해 여러 문제가 생길 수도 있다.
그러니 이러한 고급 기술에 대해 조금이라도 이해해두는 편이 문제를 일으킬 여지를 약간이나마 줄일 수 있을 것이다.`),iE=i(),ge=p("li"),rE=t("소개하는 내용이 일반 Go 코드에서는 할 수 없는 것들이라, 내용을 접하다 보면 흥미로움을 느낄 수도 있기 때문이다!"),fr=i(),dr=p("br"),Er=p("br"),vr=i(),bs=p("h2"),Cs=p("a"),np=p("span"),kE=t("Reflection"),_r=i(),mr=p("hr"),br=i(),$t=p("p"),fE=t(`Go의 장점 중 하나는 정적 타입 언어라는 것이다. Go에서 타입 및 변수, 함수를 선언하는 것이 매우 간단하며, 프로그램에서 사용될 데이터의 구조를 나타내기 위해 타입을 사용한다.
하지만 컴파일 타임에 정의되는 타입만으로 프로그램에서 사용될 데이터를 사용하기에는 부족할 때가 있다.
이를테면 프로그램을 작성할 때 존재하지 않았던 데이터가 런타임에 변수에 할당될 수도 있다.
가령, 파일에서 데이터를 읽어오거나 네트워크 요청을 변수에 저장하거나, 아니면 여러 타입에 대응되는 함수를 작성할 수도 있을 것이다.`),Cr=i(),Wt=p("p"),dE=t(`이러한 상황에서는 Reflection을 사용한다.
Reflection은 런타임에 타입을 확인할 수 있게 해주며, 런타임에 변수, 함수, 구조체를 검사하고, 수정하고, 생성하는 기능도 제공한다.`),yr=i(),qt=p("p"),EE=t(`이러한 Reflection의 기능이 언제 필요한 것인가에 대한 질문이 있을 수 있다.
표준 라이브러리에서 Reflection이 어떻게 쓰이는지 알면 우리도 감을 잡을 수 있을 것이다.`),Or=i(),J=p("ul"),zt=p("li"),sp=p("code"),vE=t("database/sql"),_E=t(" 패키지에서는 데이터베이스에서 데이터를 읽거나 쓸 때 Reflection을 사용하여 레코드를 전송하고 읽어온 데이터를 반환함"),mE=i(),ls=p("li"),bE=t("Go에 내장된 템플릿 작성 라이브러리인 "),ap=p("code"),CE=t("text/template"),yE=t(" 및 "),tp=p("code"),OE=t("html/template"),DE=t("에서는 reflection을 사용하여 템플릿으로 전달되는 값을 처리함"),wE=i(),ys=p("li"),ep=p("code"),PE=t("fmt"),RE=t(" 패키지의 "),pp=p("code"),TE=t("fmt.Println"),VE=t(" 등 대부분의 출력 함수는 들어온 파라미터의 타입에 맞춰 알잘딱깔센하게 출력해줘야 하기 때문에, Reflection을 엄청 많이 사용한다고 함"),SE=i(),Jt=p("li"),op=p("code"),FE=t("sort"),xE=t(" 패키지는 Reflection을 사용하여 다양한 타입의 슬라이스를 정렬하는 기능을 구현함"),HE=i(),Zt=p("li"),lp=p("code"),BE=t("encoding"),LE=t(" 패키지에 정의된 다양한 데이터 타입과 함께, JSON이나 XML을 Marshaling 및 Unmarshaling할 때 Reflection이 사용됨. 구조체 tag는 Reflection를 통해 액세스되며, Reflection를 통해 구조체 필드를 읽고 씀."),Dr=i(),Xt=p("p"),NE=t("이러한 예시들은 한 가지 공통점을 공유한다. Go 프로그램으로 가져오거나 외부로 내보내는 데이터에 액세스하고 형식을 지정한다는 것이다. 다시 말해, Reflection은 Go 프로그램과 외부 세계의 경계선에서 사용되는 것이다."),wr=i(),Pr=p("br"),Rr=p("br"),Tr=i(),Os=p("h3"),Ds=p("a"),cp=p("span"),ME=t("Types, Kinds"),Vr=i(),Z=p("p"),IE=t(`이제 Reflection이 무엇을 하며 언제 필요한지 알았으니, 어떻게 쓰는 것인지 알아보려 한다.
`),up=p("code"),GE=t("reflect"),AE=t(` 패키지는 표준 라이브러리에 포함되어 있으며, Reflection을 위한 여러 타입들과 함수들이 구현되어 있다.
Reflection의 핵심 개념은 `),ip=p("em"),KE=t("types"),UE=t(", "),rp=p("em"),$E=t("kinds"),WE=t(", "),kp=p("em"),qE=t("values"),zE=t(", 이렇게 세 가지이다."),Sr=i(),ws=p("p"),JE=t("먼저 "),fp=p("em"),ZE=t("types"),XE=t("에 대해 알아보자. Reflection에서 타입은 말 그대로 변수의 속성, 변수가 포함할 수 있는 항목 및 변수가 상호 작용할 수 있는 방법을 정의한다. Reflection을 쓰면 코드를 작성하여 타입을 쿼리할 수 있다."),Fr=i(),xr=p("br"),Hr=i(),Va=p("pre"),Br=i(),Qt=p("p"),QE=t("위 구문의 실행 결과는 다음과 같다."),Lr=i(),Sa=p("pre"),Nr=i(),x=p("p"),jE=t("이처럼 "),dp=p("code"),YE=t("reflect"),hE=t(" 패키지의 "),Ep=p("code"),gE=t("TypeOf()"),nv=t(` 함수를 통해 변수의 타입을 확인할 수 있다.
`),vp=p("code"),sv=t("TypeOf()"),av=t("는 파라미터로 들어온 변수의 타입을 "),_p=p("code"),tv=t("reflect.Type"),ev=t(`라는 타입으로 나타낸다.
`),mp=p("code"),pv=t("reflect.Type"),ov=t("에는 변수의 타입에 관련된 여러 메소드가 존재하지만 다는 다루지 못하고 몇 개만 다뤄보고자 한다."),Mr=i(),Fn=p("p"),bp=p("code"),lv=t("Name()"),cv=t(" 메소드는 타입명을 문자열로 반환한다. 가장 마지막 출력 결과가 string임을 확인할 수 있다. 이처럼 "),Cp=p("code"),uv=t("Name()"),iv=t("은 int와 같은 원시 타입이나 위 예제의 "),yp=p("code"),rv=t("Foo"),kv=t(`와 같은 구조체의 이름을 반환한다.
그러나 slice나 포인터 등은 달리 이름이 없기 때문에 빈 문자열을 반환한다.`),Ir=i(),_=p("p"),Op=p("code"),fv=t("reflect.Type"),dv=t("의 "),Dp=p("code"),Ev=t("Kind()"),vv=t(" 메소드는 "),wp=p("code"),_v=t("reflect.Kind"),mv=t(" 타입의 값을 반환하며, "),Pp=p("code"),bv=t("reflect.Kind"),Cv=t("는 해당 타입이 어떤 원시 타입으로 작성되었는지를 나타내는 상수값이다. 이를테면 slice, map, pointer, struct, interface, string, array, function, int 등, 어떠한 원시 타입인지 알려준다. "),Rp=p("code"),yv=t("reflect.Type"),Ov=t("과 "),Tp=p("code"),Dv=t("reflect.Kind"),wv=t("는 다소 헷갈릴 수 있는데, 만약 위 예제를 예로 든다면 "),Vp=p("code"),Pv=t("Foo"),Rv=t("의 타입은 "),Sp=p("code"),Tv=t('"Foo"'),Vv=t("가 될 것이고 종류는 "),Fp=p("code"),Sv=t("reflect.Struct"),Fv=t("가 될 것이다."),Gr=i(),kn=p("p"),xv=t("종류는 매우 중요하다. Reflection을 사용할 때 유의해야 할 것이 있는데, "),xp=p("code"),Hv=t("reflect"),Bv=t(" 패키지는 개발자가 Reflection에 대해 잘 알고 있다고 가정한다. "),Hp=p("code"),Lv=t("reflect.Type"),Nv=t(" 등 "),Bp=p("code"),Mv=t("reflect"),Iv=t("의 타입들에 정의된 일부 메소드는 특정 종류에서만 말이 된다."),Ar=i(),H=p("p"),Gv=t("예를 들어 "),Lp=p("code"),Av=t("reflect.Type"),Kv=t("의 "),Np=p("code"),Uv=t("NumIn()"),$v=t(`이라는 메소드가 있다.
만약 `),Mp=p("code"),Wv=t("reflect.Type"),qv=t("이 함수를 나타내고 있다면 "),Ip=p("code"),zv=t("NumIn()"),Jv=t(`은 입력 파라미터의 수를 반환하지만, 함수를 나타내고 있지 않다면 프로그램은 panic에 빠질 것이다.
따라서 종류를 사용하여 `),Gp=p("code"),Zv=t("reflect.Type"),Xv=t("이 어떤 메소드를 사용할 수 있고 어떤 메소드가 panic이 되는지 아는 게 중요하다."),Kr=i(),Ps=p("p"),Qv=t("아래 예제는 위 예제에서 "),Ap=p("code"),jv=t("Kind()"),Yv=t(" 메소드를 통해 타입의 종류까지 출력하는 부분을 추가한 것이다."),Ur=i(),Fa=p("pre"),$r=i(),jt=p("p"),hv=t("실행 결과는 다음과 같다."),Wr=i(),xa=p("pre"),qr=i(),zr=p("br"),Jr=i(),R=p("p"),Kp=p("code"),gv=t("reflect.Type"),n3=t("의 또 다른 중요한 메소드는 "),Up=p("code"),s3=t("Elem()"),a3=t(`이다.
Go에는 다른 타입을 참조하는 타입이 있으며, `),$p=p("code"),t3=t("Elem()"),e3=t(`은 참조되는 타입이 어떤 타입인지 밝혀낸다.
이를테면 위 예시에서 종류가 `),Wp=p("code"),p3=t("ptr"),o3=t("이었던 "),qp=p("code"),l3=t("xpt"),c3=t(", "),zp=p("code"),u3=t("tt"),i3=t(" 부분을 다음과 같이 수정할 것이다."),Zr=i(),Ha=p("pre"),Xr=i(),Yt=p("p"),r3=t("실행 결과는 다음과 같다."),Qr=i(),Ba=p("pre"),jr=i(),E=p("p"),k3=t("만약 "),Jp=p("code"),f3=t("reflect.Type"),d3=t("이 포인터를 나타내고 있다면 "),Zp=p("code"),E3=t("Elem()"),v3=t("은 그 포인터가 가리키는 타입의 "),Xp=p("code"),_3=t("reflect.Type"),m3=t(`을 반환한다.
위 예제로 미루어 보아 `),Qp=p("code"),b3=t("xpt"),C3=t("는 int를, "),jp=p("code"),y3=t("tt"),O3=t("는 "),Yp=p("code"),D3=t("rtype"),w3=t(`라는 이름의 구조체를 가리키는 포인터임을 알 수 있다.
`),hp=p("code"),P3=t("Elem()"),R3=t(" 메소드는 "),gp=p("code"),T3=t("reflect.Type"),V3=t("이 포인터뿐 아니라 slice, map, channel, array를 나타낼 때도 동작한다. 한편 "),no=p("code"),S3=t("int"),F3=t(" 등의 원시 타입을 나타낸다면 panic이 발생한다."),Yr=i(),hr=p("br"),gr=i(),T=p("p"),so=p("code"),x3=t("reflect.Type"),H3=t("이 구조체를 나타내고 있다면 "),ao=p("code"),B3=t("NumField()"),L3=t(` 메소드를 사용하여 구조체에 존재하는 필드의 수를 알 수 있다.
또한 `),to=p("code"),N3=t("Field()"),M3=t(" 메소드를 통해 필드에 접근할 수 있다. "),eo=p("code"),I3=t("Field()"),G3=t("는 "),po=p("code"),A3=t("reflect.StructField"),K3=t("라는 타입으로 표현된 각 필드의 구조를 반환하며, "),oo=p("code"),U3=t("reflect.StructField"),$3=t(`는 필드의 이름, 순서, 타입, 구조체 태그 정보를 가지고 있다.
다음의 예제를 살펴보자!`),nk=i(),La=p("pre"),sk=i(),V=p("p"),lo=p("code"),W3=t("Foo"),q3=t(" 인스턴스인 f를 "),co=p("code"),z3=t("reflect.TypeOf()"),J3=t("의 파라미터로 보내서, 구조체를 표현하는 "),uo=p("code"),Z3=t("reflect.Type"),X3=t("을 "),io=p("code"),Q3=t("ft"),j3=t(`에 저장한다.
그 후 `),ro=p("code"),Y3=t("NumField()"),h3=t("로 필드 수 만큼 이터레이션을 돌며 "),ko=p("code"),g3=t("Field()"),n_=t(" 메소드로 각 필드의 필드명, 타입, 태그 정보를 출력한다."),ak=i(),ht=p("p"),s_=t("실행 결과는 다음과 같다."),tk=i(),Na=p("pre"),ek=i(),fn=p("p"),a_=t("마찬가지로, 구조체가 아닌 "),fo=p("code"),t_=t("reflect.Type"),e_=t("에서 "),Eo=p("code"),p_=t("NumField()"),o_=t("나 "),vo=p("code"),l_=t("Field()"),c_=t(" 메소드를 호출하면 panic이 발생한다."),pk=i(),ok=p("br"),lk=i(),cs=p("p"),_o=p("code"),u_=t("reflect.Type"),i_=t("에는 다른 더 많은 메소드가 존재하지만, 거의 비슷한 패턴을 따른다. 추가적인 정보를 원한다면 Go의 "),Ma=p("a"),r_=t("표준 라이브러리 문서"),k_=t("를 확인할 수 있다."),ck=i(),uk=p("br"),ik=p("br"),rk=i(),Rs=p("h3"),Ts=p("a"),mo=p("span"),f_=t("Values"),kk=i(),Mn=p("p"),d_=t("Reflection을 통해 변수의 타입 뿐 아니라, 변수의 값도 읽어올 수 있다. "),bo=p("code"),E_=t("reflect.ValueOf()"),v_=t(" 함수를 호출하면 변수의 값을 나타내는 "),Co=p("code"),__=t("reflect.Value"),m_=t(" 인스턴스를 생성할 수 있다."),fk=i(),Ia=p("pre"),dk=i(),B=p("p"),b_=t("Go의 모든 변수는 타입이 존재하기 때문에 "),yo=p("code"),C_=t("reflect.Value"),y_=t("에는 "),Oo=p("code"),O_=t("reflect.Type"),D_=t("을 반환하는 "),Do=p("code"),w_=t("Type()"),P_=t("이란 메소드가 존재하며, "),wo=p("code"),R_=t("reflect.Type"),T_=t("처럼 종류를 반환하는 "),Po=p("code"),V_=t("Kind()"),S_=t(" 메소드가 존재한다."),Ek=i(),xn=p("p"),Ro=p("code"),F_=t("reflect.Type"),x_=t("이 변수의 타입에 대한 정보를 찾는 메소드를 가지고 있는 것처럼, "),To=p("code"),H_=t("reflect.Value"),B_=t("은 변수의 값에 대한 정보를 찾는 메소드를 가지고 있다. 마찬가지로 이들 모두를 다루진 않겠지만, 변수의 값을 얻고자 할 때 "),Vo=p("code"),L_=t("reflect.Value"),N_=t("를 어떻게 사용하는지 확인해볼 것이다."),vk=i(),_k=p("br"),mk=i(),dn=p("p"),M_=t("먼저 "),So=p("code"),I_=t("reflect.Value"),G_=t("에서 값을 다시 읽어오는 방법을 살펴볼 것이다. "),Fo=p("code"),A_=t("reflect.Value"),K_=t("의 "),xo=p("code"),U_=t("Interface()"),$_=t(" 메소드는 변수의 값을 빈 인터페이스로 반환한다."),bk=i(),Ga=p("pre"),Ck=i(),S=p("p"),Ho=p("code"),W_=t("Interface()"),q_=t("는 모든 종류의 값을 포함하는 "),Bo=p("code"),z_=t("reflect.Value"),J_=t(` 인스턴스에 대해 호출할 수 있다. 하지만 변수의 종류가 Bool, Complex, Int, Uint, Float, String과 같은 Built-in 원시 타입인 경우 사용할 수 있는 특수한 메소드가 있다.
`),Lo=p("code"),Z_=t("Bytes()"),X_=t(" 메소드는 변수의 타입이 "),No=p("code"),Q_=t("[]bytes"),j_=t(`이면 사용할 수 있다.
`),Mo=p("code"),Y_=t("reflect.Type"),h_=t("에서처럼, "),Io=p("code"),g_=t("reflect.Value"),n5=t("에서 변수의 타입과 맞지 않는 메소드를 호출한다면 프로그램이 panic에 빠진다."),yk=i(),Ok=p("br"),Dk=i(),gt=p("p"),s5=t("Reflection을 통해 변수의 값을 설정할 수도 있지만, 다음과 같은 세 단계를 거쳐야 한다."),wk=i(),In=p("p"),a5=t("첫 번째로, 변수의 포인터를 "),Go=p("code"),t5=t("reflect.ValueOf()"),e5=t("의 파라미터로 보낸다. 이렇게 하면 포인터를 나타내는 "),Ao=p("code"),p5=t("reflect.Value"),o5=t("를 반환한다."),Pk=i(),Aa=p("pre"),Rk=i(),m=p("p"),l5=t("다음으로, 설정해야 할 실제 값을 얻는다. "),Ko=p("code"),c5=t("reflect.Value"),u5=t("의 "),Uo=p("code"),i5=t("Elem()"),r5=t(" 메소드를 사용하여, 포인터가 가리키는 값을 얻을 수 있다. "),$o=p("code"),k5=t("reflect.Type"),f5=t("의 "),Wo=p("code"),d5=t("Elem()"),E5=t("처럼, "),qo=p("code"),v5=t("reflect.Value"),_5=t("의 "),zo=p("code"),m5=t("Elem()"),b5=t("은 포인터가 가리키는 값을 "),Jo=p("code"),C5=t("reflect.Value"),y5=t(" 또는 인터페이스로 반환한다."),Tk=i(),Ka=p("pre"),Vk=i(),L=p("p"),O5=t(`마지막으로 값을 수정한다.
앞서 언급하였듯 값의 종류가 원시 타입일 때만 쓸 수 있는 특수한 메소드가 존재하며, 그것이 값을 설정하는 `),Zo=p("code"),D5=t("SetBool"),w5=t(", "),Xo=p("code"),P5=t("SetInt"),R5=t(", "),Qo=p("code"),T5=t("SetFloat"),V5=t(", "),jo=p("code"),S5=t("SetString"),F5=t(` 등이다.
예제에서는 `),Yo=p("code"),x5=t("SetInt()"),H5=t("를 사용하여 값을 수정하였으며, 이렇게 하면 i의 값이 변경된다."),Sk=i(),Ua=p("pre"),Fk=i(),X=p("p"),B5=t("다른 모든 타입들에 대해서는 "),ho=p("code"),L5=t("reflect.Value"),N5=t("를 파라미터로 받는 "),go=p("code"),M5=t("Set()"),I5=t(`을 호출해야 한다.
값을 변경하는 게 아니라 이 값을 읽는 것이기 때문에, 설정하고자 하는 값은 포인터일 필요가 없다.
또한 `),nl=p("code"),G5=t("Interface()"),A5=t("를 사용하여 원시 타입을 읽을 수 있듯, "),sl=p("code"),K5=t("Set()"),U5=t("을 호출하여 원시 타입을 설정할 수 있다."),xk=i(),Vs=p("p"),$5=t("값을 변경하기 위해 "),al=p("code"),W5=t("reflect.ValueOf()"),q5=t(`의 파라미터로 포인터를 전달해야 하는 이유는 Go의 다른 함수와 동일하다.
다른 함수에서는 파라미터를 포인터 타입으로 지정하여 파라미터의 값을 변경할 수 있음을 나타내고, 변수의 값을 변경할 때 포인터에 dereference하여 값을 변경한다.
즉, 다음의 두 함수는 동일한 과정을 거친다고 볼 수 있다!`),Hk=i(),$a=p("pre"),Bk=i(),ne=p("p"),z5=t("만약 다음과 같이 포인터를 거치지 않는다면 변수의 값을 읽어오는 데에는 문제가 없겠지만, 값을 설정할 때 panic이 발생한다."),Lk=i(),Wa=p("pre"),Nk=i(),Mk=p("br"),Ik=p("br"),Gk=i(),Ss=p("h3"),Fs=p("a"),tl=p("span"),J5=t("Making New Values"),Ak=i(),b=p("p"),Z5=t(`Reflection을 사용하는 최선의 방법을 살펴보기에 앞서, 값을 생성하는 방법에 대해서도 알아보려 한다.
`),el=p("code"),X5=t("reflect.New()"),Q5=t(" 함수는 "),pl=p("code"),j5=t("new()"),Y5=t(` 함수의 reflection 버전이라고 볼 수 있다.
`),ol=p("code"),h5=t("reflect.New()"),g5=t("는 "),ll=p("code"),n4=t("reflect.Type"),s4=t("을 파라미터로 받아 명시된 타입의 "),cl=p("code"),a4=t("reflect.Value"),t4=t("를 가리키는 포인터 타입의 "),ul=p("code"),e4=t("reflect.Value"),p4=t(`를 반환한다.
반환값이 포인터이기 때문에, `),il=p("code"),o4=t("Interface()"),l4=t(" 메소드를 사용하여 수정한 후 변수에 할당할 수 있다."),Kk=i(),us=p("p"),rl=p("code"),c4=t("reflect.New()"),u4=t("가 스칼라 타입의 포인터를 생성하는 것처럼, "),kl=p("code"),i4=t("make()"),r4=t(" 함수에 대응되는 함수가 Reflection에도 존재한다."),Uk=i(),qa=p("pre"),$k=i(),xs=p("p"),k4=t("이러한 함수들은 포함된 타입이 아니라 복합 타입을 나타내는 "),fl=p("code"),f4=t("reflect.Type"),d4=t("을 파라미터로 받는다."),Wk=i(),qk=p("br"),zk=i(),is=p("p"),dl=p("code"),E4=t("reflect.Type"),v4=t("을 구성할 때는 항상 값에서 시작해야 하지만 마땅한 값이 없는 경우 "),El=p("code"),_4=t("reflect.Type"),m4=t("을 나타내는 변수를 만들 수 있는 방법이 있다."),Jk=i(),za=p("pre"),Zk=i(),f=p("p"),b4=t("위 예제에서 변수 "),vl=p("code"),C4=t("stringType"),y4=t("은 "),_l=p("code"),O4=t("string"),D4=t("을 나타내는 "),ml=p("code"),w4=t("reflect.Type"),P4=t("을 갖게 되며, "),bl=p("code"),R4=t("stringSliceType"),T4=t("은 "),Cl=p("code"),V4=t("[]string"),S4=t("을 타나내는 "),yl=p("code"),F4=t("reflect.Type"),x4=t(`을 갖게 된다.
`),Ol=p("code"),H4=t("stringType"),B4=t("의 경우 해석하기 좀 어려울 수 있지만 포인터 타입을 먼저 생성한 뒤 "),Dl=p("code"),L4=t("Elem()"),N4=t("을 호출하여 결국 "),wl=p("code"),M4=t("string"),I4=t("을 나타내는 "),Pl=p("code"),G4=t("reflect.Type"),A4=t(`을 얻는 것이다.
`),Rl=p("code"),K4=t("stringSliceType"),U4=t("의 경우는 "),Tl=p("code"),$4=t("[]string"),W4=t("의 기본값 자체가 "),Vl=p("code"),q4=t("nil"),z4=t("이기 때문에 위처럼 위와 같은 절차를 거치면 "),Sl=p("code"),J4=t("[]string"),Z4=t("을 타나내는 "),Fl=p("code"),X4=t("reflect.Type"),Q4=t("을 얻을 수 있다."),Xk=i(),Q=p("p"),j4=t("이렇게 얻은 "),xl=p("code"),Y4=t("stringType"),h4=t("와 "),Hl=p("code"),g4=t("stringSliceType"),n6=t("을 "),Bl=p("code"),s6=t("reflect.New()"),a6=t("와 "),Ll=p("code"),t6=t("reflect.MakeSlice()"),e6=t("의 파라미터로 보내 값을 생성할 수 있다."),Qk=i(),Ja=p("pre"),jk=i(),se=p("p"),p6=t("실행하면 다음과 같은 결과를 확인할 수 있다."),Yk=i(),Za=p("pre"),hk=i(),gk=p("br"),nf=p("br"),sf=i(),Hs=p("h3"),Bs=p("a"),Nl=p("span"),o6=t("Use Reflection to Check If an Interface’s Value Is nil"),af=i(),Gn=p("p"),l6=t(`interface는 두 가지 nil을 가질 수 있다. 첫 번째는 interface가 가리키는 타입이 nil인 경우(즉 아무 것도 가리키지 않는 상태. 이 경우를 nul 인터페이스라고 함)이고, 두 번째는 interface가 가리키는 타입은 nil이 아니지만 값이 nil인 경우이다.
만약 interface가 가리키는 값이 nil인지 확인하고 싶다면 reflection의 `),Ml=p("code"),c6=t("IsValid()"),u6=t("와 "),Il=p("code"),i6=t("IsNil()"),r6=t(" 메소드를 활용해야 한다."),tf=i(),Xa=p("pre"),ef=i(),F=p("p"),Gl=p("code"),k6=t("IsValid()"),f6=t("는 "),Al=p("code"),d6=t("reflect.Value"),E6=t("가 nil 인터페이스 이외의 다른 타입을 나타내는 경우 "),Kl=p("code"),v6=t("true"),_6=t(`를 반환한다.
만일 `),Ul=p("code"),m6=t("reflect.Value"),b6=t("가 nil 인터페이스라서 "),$l=p("code"),C6=t("IsValid()"),y6=t("의 값이 "),Wl=p("code"),O6=t("true"),D6=t("인 상태에서, 다른 메소드를 호출하면 panic에 빠지기 때문이다."),pf=i(),U=p("p"),ql=p("code"),w6=t("IsNil()"),P6=t("은 "),zl=p("code"),R6=t("reflect.Value"),T6=t("의 값이 nil이라면 true를 반환한다. "),Jl=p("code"),V6=t("IsNil()"),S6=t("를 호출하기에 앞서 먼저 "),Zl=p("code"),F6=t("Kind()"),x6=t("로 값의 종류를 검사하는 것을 알 수 있다. 어느 정도 예상할 수 있듯, 변수의 Zero value nil이 아닌 타입(int 등)일 때 "),Xl=p("code"),H6=t("IsNil()"),B6=t("을 호출하면 panic이 발생하기 때문이다."),of=i(),lf=p("br"),cf=p("br"),uf=i(),Ls=p("h3"),Ns=p("a"),Ql=p("span"),L6=t("Use Reflection to Write a Data Marshaler"),rf=i(),ae=p("p"),N6=t("앞서 언급했듯 Replection은 marshaling과 unmarshaling을 구현하기 위해 사용된다. 우리는 데이터 marshaler를 직접 설계하여 어떻게 사용되는 지 알아보려 한다!"),kf=i(),An=p("p"),M6=t("Go는 CSV 파일을 읽고 쓰기 위해 "),jl=p("code"),I6=t("csv.NewReader"),G6=t("와 "),Yl=p("code"),A6=t("csv.NewWriter"),K6=t(" 함수를 제공하지만 데이터를 구조체로 매핑해주는 기능은 따로 없다. 이 기능을 직접 구현해볼 것이다."),ff=i(),df=p("br"),Ef=i(),te=p("p"),U6=t("먼저 데이터 타입을 정의한다. 구조체 태그를 달아서, 다른 marshaler처럼 데이터에 존재하는 필드가 구조체의 각 필드에 매핑될 수 있게끔 한다."),vf=i(),Qa=p("pre"),_f=i(),ee=p("p"),$6=t("public API는 두 개의 함수로 구성된다."),mf=i(),ja=p("pre"),bf=i(),Ms=p("p"),W6=t("먼저 "),hl=p("code"),q6=t("Marshal()"),z6=t(" 함수를 작성해 보자."),Cf=i(),Ya=p("pre"),yf=i(),Is=p("p"),J6=t("어떤 종류의 구조체든 marsharling이 가능해야 하기 떄문에, "),gl=p("code"),Z6=t("interface{}"),X6=t(" 타입의 파라미터를 사용한다. 데이터를 수정하지 않고 읽기만 할 것이기 때문에 구조체의 slice에 대한 포인터가 아니다."),Of=i(),N=p("p"),Q6=t("먼저, csv의 첫 줄은 각 열의 이름이 저장된 헤더가 될 것이므로, 구조체에 명시된 구조체 태그로부터 열 이름을 가져와 출력 데이터에 추가한다. slice의 "),nc=p("code"),j6=t("reflect.Value"),Y6=t("에서 "),sc=p("code"),h6=t("Type()"),g6=t(" 메소드를 호출하여 "),ac=p("code"),n9=t("reflect.Type"),s9=t("을 얻고, 다시 "),tc=p("code"),a9=t("Elem()"),t9=t("을 호출하여 slice의 내부 타입 정보를 얻는다. 그리하여 얻은 타입 정보를 "),ec=p("code"),e9=t("marshalHeader()"),p9=t("에 전달하여 반환된 값을 출력 데이터에 추가하는 것이다."),Df=i(),Kn=p("p"),o9=t("이후 구조체 slice의 이터레이션을 돌면서 각 인덱스의 "),pc=p("code"),l9=t("reflect.Value"),c9=t("를 "),oc=p("code"),u9=t("marshalOne()"),i9=t("의 파라미터로 보내서 반환된 값을 출력 데이터에 추가한다. 이터레이션이 끝나면 값을 반환한다."),wf=i(),ha=p("p"),lc=p("code"),r9=t("marshalHeader()"),k9=t("는 다음과 같이 작성되었다."),Pf=i(),ga=p("pre"),Rf=i(),Un=p("p"),f9=t("구조체를 나타내는 "),cc=p("code"),d9=t("reflect.Type"),E9=t("의 각 필드에 대해 이터레이션을 돌며, "),uc=p("code"),v9=t("csv"),_9=t(" 태그를 읽고 출력 slice에 추가하여 반환한다."),Tf=i(),Gs=p("p"),m9=t("그리고 "),ic=p("code"),b9=t("marshalOne()"),C9=t("은 다음과 같이 작성되었다."),Vf=i(),nt=p("pre"),Sf=i(),$n=p("p"),y9=t("구조체를 나타내는 "),rc=p("code"),O9=t("vv reflect.Value"),D9=t("를 파라미터로 받고, "),kc=p("code"),w9=t("Kind()"),P9=t(" 메소드로 각 필드의 종류를 보고 문자열로 적절히 변환해준 후 출력한다."),Ff=i(),xf=p("br"),Hf=i(),As=p("p"),R9=t("이제 "),fc=p("code"),T9=t("Unmarshal()"),V9=t(" 함수를 작성해보자."),Bf=i(),st=p("pre"),Lf=i(),Ks=p("p"),S9=t("데이터를 복사할 것이기 때문에, "),dc=p("code"),F9=t("Unmarshal()"),x9=t(`에서 파라미터로 받는 데이터는 구조체 slice의 포인터여야 한다.
함수 최상단에 이를 검사하는 부분이 존재한다. 이후 차례로 포인터가 가리키는 slice, slice가 저장하는 구조체를 검사한다.`),Nf=i(),Us=p("p"),H9=t("데이터의 첫째 줄은 각 열의 이름이 저장된 헤더이다. 이 정보를 통해 구조체의 "),Ec=p("code"),B9=t("csv"),L9=t(" 태그를 각 인덱스에 대응시키는 map을 생성할 수 있다."),Mf=i(),j=p("p"),N9=t("이후 데이터의 각 행마다 이터레이션을 돌며 새로운 "),vc=p("code"),M9=t("structType"),I9=t(" 타입의 "),_c=p("code"),G9=t("reflect.Value"),A9=t("를 생성한다. 그리고 "),mc=p("code"),K9=t("unmarshalOne()"),U9=t("을 호출하여 각 행의 데이터를"),bc=p("code"),$9=t("reflect.Value"),W9=t("에 복사한 후 출력 데이터에 추가한다."),If=i(),at=p("p"),Cc=p("code"),q9=t("unmarshalOne()"),z9=t("은 다음과 같이 작성되었다."),Gf=i(),tt=p("pre"),Af=i(),En=p("p"),J9=t("이 함수는 새로 생성된 reflect.Value 타입의 각 필드에 대해 이터레이션을 돌며, "),yc=p("code"),Z9=t("csv"),X9=t(" 태그의 이름을 통해 "),Oc=p("code"),Q9=t("namePos"),j9=t(" 맵에서 "),Dc=p("code"),Y9=t("data"),h9=t(" slice의 위치를 찾아 문자열로 변환된 값을 저장한다."),Kf=i(),Uf=p("br"),$f=i(),pe=p("p"),g9=t("이제 작성한 marshaler와 unmarshaler를 통해 csv를 분석해보자!"),Wf=i(),et=p("pre"),qf=i(),zf=p("br"),Jf=i(),$s=p("p"),n7=t("전체 예제 코드는 "),pt=p("a"),s7=t("https://go.dev/play/p/3kwe7ag1i1C"),a7=t("에서 확인할 수 있다."),Zf=i(),Xf=p("br"),Qf=p("br"),jf=i(),Ws=p("h3"),qs=p("a"),wc=p("span"),t7=t("Build Functions with Reflection to Automate Repetitive Tasks"),Yf=i(),oe=p("p"),e7=t(`Reflection을 통해 반복적인 코드를 작성하지 않고, 기존 함수를 감싸 재사용하여 함수를 생성할 수도 있다.
다음의 예제는 들어온 파라미터로 함수에 시간을 재는 기능이 추가된 함수를 반환하는 Factory 함수이다.`),hf=i(),ot=p("pre"),gf=i(),M=p("p"),p7=t("이 함수는 함수를 파라미터로 받아, 함수를 나타내는 "),Pc=p("code"),o7=t("reflect.Type"),l7=t("을 얻어 "),Rc=p("code"),c7=t("reflect.MakeFunc()"),u7=t(`로 보낸다.
이후 `),Tc=p("code"),i7=t("reflect.MakeFunc()"),r7=t(`로 시작 시각을 얻고, 기존 함수를 호출하고, 종료 시각을 얻어서 시간차를 출력하고, 기존 함수의 반환값을 반환 하는 함수를 작성한다.
이후 해당 함수를 가리키는 `),Vc=p("code"),k7=t("reflect.Value"),f7=t("를 "),Sc=p("code"),d7=t("Interface()"),E7=t(" 메소드를 통해 반환할 함수를 얻는다."),nd=i(),le=p("p"),v7=t("위 함수는 다음과 같이 사용할 수 있다."),sd=i(),lt=p("pre"),ad=i(),ce=p("p"),_7=t(`이처럼 Reflection을 통해 함수를 생성할 수는 있지만 이 기능을 사용할 때는 주의해야 한다.
언제 함수를 생성할지, 어떤 기능을 추가할지에 대해 확실히 해 두는 편이 좋다. 그렇지 않으면 프로그램 내 데이터 흐름을 이해하기 더욱 어려워질 것이다.`),td=i(),ue=p("p"),m7=t("뿐만 아니라 기본적으로 Reflection은 프로그램을 느리게 만든다. 네트워크 통신 같은 원래 느린 동작을 하는 게 아닌 이상, 함수를 생성하고 생성된 함수를 호출하는 것은 성능에 중대한 영향을 미칠 것이다. 다시 한번 언급하지만, Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 매핑할 때 유용하다."),ed=i(),pd=p("br"),od=p("br"),ld=i(),zs=p("h3"),Js=p("a"),Fc=p("span"),b7=t("What you shouldn’t do with Reflection"),cd=i(),tn=p("p"),xc=p("code"),C7=t("reflect.StructOf()"),y7=t(" 함수는 "),Hc=p("code"),O7=t("reflect.StructField"),D7=t("의 slice를 파라미터로 받아 새로운 구조체 타입을 가리키는 "),Bc=p("code"),w7=t("reflect.Type"),P7=t("을 반환한다. 이렇게 생성된 구조체는 "),Lc=p("code"),R7=t("interface{}"),T7=t("를 통해서만 변수에 할당될 수 있으며, Reflection을 사용해야만 데이터를 읽고 쓸 수 있다."),ud=i(),ie=p("p"),V7=t("근데 굳이 이렇게까지 할 필요가 없다. 이 기능은 학술적인 목적에서만 사용된다고 하며, 우리 같은 일반 사용자들은 그냥 구조체 선언해서 쓰자. 하지말라면 하지마!"),id=i(),rd=p("br"),kd=i(),re=p("p"),S7=t("또한 Reflection으로는 메소드를 만들 수도 없다. 함수나 구조체 타입은 만들 수 있긴 한데, 타입에 메소드를 추가할 수는 없다. 당연히 인터페이스를 만드는 것도 안된다."),fd=i(),dd=p("br"),Ed=p("br"),vd=i(),Zs=p("h3"),Xs=p("a"),Nc=p("span"),F7=t("Only Use Reflection If It’s Worthwhile"),_d=i(),ke=p("p"),x7=t(`입이 닳도록 말하지만 Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 변환할 때 필수적이다.
하지만 그 외의 상황에서는 사용에 주의를 기울여야 한다.`),md=i(),Wn=p("p"),H7=t("이를테면 여러 언어에 존재하는 "),Mc=p("code"),B7=t("Filter()"),L7=t(" 함수를 작성한다고 가정해보자. 만약 문자열에 대해 동작하는 "),Ic=p("code"),N7=t("Filter()"),M7=t("함수를 작성한다면 아래와 같이 작성할 것이다."),bd=i(),ct=p("pre"),Cd=i(),fe=p("p"),I7=t("반면 단일 타입이 아니라 여러 타입에 대해 연산을 가능하게 한다고 가정할 때, 이런 함수는 Reflection을 통해서 작성할 수 있다."),yd=i(),ut=p("pre"),Od=i(),de=p("p"),G7=t("그리고 아래와 같이 호출하여 사용한다."),Dd=i(),it=p("pre"),wd=i(),rs=p("p"),Gc=p("code"),A7=t("ReflectedFilter()"),K7=t(" 함수는 어렵지 않지만 "),Ac=p("code"),U7=t("Filter()"),$7=t(`보다는 분명히 길다.
게다가 성능을 측정해보면 Reflection을 사용한 코드는 사용하지 않은 코드보다 30~70배 느린 것을 확인할 수 있다.`),Pd=i(),rt=p("pre"),Rd=i(),Ee=p("p"),W7=t(`더 많은 메모리를 사용하고 수천 회의 메모리 할당이 일어나므로 가비지 컬렉터가 해야 할 일이 늘어나기 때문이다.
즉, 필요에 따라 Reflection을 사용할 수는 있지만 충분히 고민을 거쳐야 한다.`),Td=i(),ve=p("p"),q7=t(`성능 이슈보다 중요한 문제는 파라미터로 잘못된 타입을 넘기는 것을 컴파일러가 잡아주지 못한다는 것이다.
특정 타입만 허용해주는 작업을 반복적으로 진행해야 하기 떄문에 에러를 찾기도 힘들며, 코드의 유지보수 난이도가 증가한다.`),Vd=i(),Sd=p("br"),Fd=p("br"),xd=i(),Qs=p("h2"),js=p("a"),Kc=p("span"),z7=t("unsafe is Unsafe"),Hd=i(),Hn=p("p"),Uc=p("code"),J7=t("reflect"),Z7=t(" 패키지를 통해 타입, 값을 조작할 수 있듯, "),$c=p("code"),X7=t("unsafe"),Q7=t(` 패키지를 통해 메모리를 조작할 수 있다.
그러나 `),Wc=p("code"),j7=t("unsafe"),Y7=t(" 패키지는 굉장히 특이한 3개의 함수와 하나의 타입을 정의하는데, 다른 패키지의 함수나 타입과는 완전히 다르다고 볼 수 있다."),Bd=i(),vn=p("p"),h7=t("함수 "),qc=p("code"),g7=t("Sizeof()"),n8=t(`는 특정 타입의 변수가 몇 바이트를 사용하고 있는지 반환한다.
함수 `),zc=p("code"),s8=t("Offsetof()"),a8=t(`는 구조체의 필드가 구조체의 시작점으로부터 몇 바이트 떨어져 있는지 반환한다.
함수 `),Jc=p("code"),t8=t("Alignof()"),e8=t(`는 변수 또는 필드가 얼마만큼 byte alignment를 필요로 하는지 반환한다.
어떤 값이든 이 함수들의 파라미터로 보낼 수 있으며, 반환되는 값은 상수이므로 상수 표현식에 사용할 수 있다.`),Ld=i(),$=p("p"),Zc=p("code"),p8=t("unsafe.Pointer"),o8=t(" 타입은 모든 유형의 포인터를 "),Xc=p("code"),l8=t("unsafe.Pointer"),c8=t("로 변환하거나, 또는 "),Qc=p("code"),u8=t("unsafe.Pointer"),i8=t(`를 변환하여 포인터를 얻을 수 있는 특별한 타입이다.
또한 `),jc=p("code"),r8=t("unsafe.Pointer"),k8=t("는 "),Yc=p("code"),f8=t("uintptr"),d8=t(`이라고 하는 특별한 정수형 타입으로도 변환할 수 있으며, C/C++처럼 이 타입을 통해 수학적 연산도 가능하다.
이렇게 하면 특정 타입의 인스턴스로 들어가서 각각의 바이트를 추출할 수 있으며, 바이트를 조작하면 변수의 실제 값이 변경된다.`),Nd=i(),I=p("p"),E8=t("일반적으로 "),hc=p("code"),v8=t("unsafe"),_8=t(` 패키지를 사용하는 두 가지 패턴이 있다.
첫 번째는 일반적으로 변환할 수 없는 두 타입간의 변수를 변환하는 것이다. `),gc=p("code"),m8=t("unsafe.Pointer"),b8=t(`를 가운데 두고 몇 단계의 타입 변환을 거쳐 수행할 수 있다.
두 번째는 변수를 `),nu=p("code"),C8=t("unsafe.Pointer"),y8=t("로 변환하고 "),su=p("code"),O8=t("unsafe.Pointer"),D8=t("를 "),au=p("code"),w8=t("uintptr"),P8=t("로 변환한 다음, 바이트에 접근하여 복사하거나 조작하는 것이다."),Md=i(),Id=p("br"),Gd=p("br"),Ad=i(),Ys=p("h3"),hs=p("a"),tu=p("span"),R8=t("Use unsafe to Convert External Binary Data"),Kd=i(),Y=p("p"),T8=t("Go는 메모리 안정성을 중요시 하는 언어인데 왜 "),eu=p("code"),V8=t("unsafe"),S8=t(`같은 패키지가 존재하는가에 대해 의문이 생길 것이다.
Go 프로그램과 외부 세계의 사이에서 데이터를 변환하기 위해 `),pu=p("code"),F8=t("reflect"),x8=t("를 사용하는 것처럼, 바이너리 데이터를 변환하기 위해 "),ou=p("code"),H8=t("unsafe"),B8=t(`를 사용한다.
실제로 `),lu=p("code"),L8=t("unsafe"),N8=t("가 사용되는 목적을 살펴보면 주로 운영체제 또는 C로 작성된 코드와의 통합을 위해 사용되거나, 코드 최적화를 위해 사용된다."),Ud=i(),qn=p("p"),M8=t("특히 네트워크로부터 데이터를 읽어들이거나 전송할 때 "),cu=p("code"),I8=t("unsafe"),G8=t("의 "),uu=p("code"),A8=t("unsafe.Pointer"),K8=t(`를 사용하여 데이터를 매핑하면 매우 빠르다.
가령 다음과 같은 구조의 데이터 프로토콜이 있다고 해보자.`),$d=i(),_n=p("ul"),iu=p("li"),U8=t("Value: 4 바이트, big endian, unsigned int"),$8=i(),ru=p("li"),W8=t("Label: 10 바이트, 값에 대한 ASCII 이름"),q8=i(),ku=p("li"),z8=t("Active: 1 바이트, 필드가 활성화되어 있는지 나타내기 위한 플래그"),J8=i(),fu=p("li"),Z8=t("Padding: 데이터를 16바이트로 맞춰주기 위한 Padding"),Wd=i(),_e=p("blockquote"),du=p("p"),X8=t(`네트워크상의 데이터는 대부분 Big endian 또는 Network Byte Order로, most significant byte가 가장 작은 주소에 할당된다.
반면 오늘날 대부분의 CPU에서는 least significant byte가 가장 작은 주소에 할당되는 little endian을 사용한다.
네트워크상의 데이터를 읽거나 쓸 때는 데이터의 처리에 주의해야 한다.`),qd=i(),zd=p("br"),Jd=i(),me=p("p"),Q8=t("다음과 같은 구조체를 정의한다."),Zd=i(),kt=p("pre"),Xd=i(),be=p("p"),j8=t("그리고, 네트워크로부터 다음과 같은 바이트 열을 읽었다고 가정해보자."),Qd=i(),ft=p("pre"),jd=i(),gs=p("p"),Y8=t("이제 이 데이터를 길이가 16인 바이트로 읽은 후, "),Eu=p("code"),h8=t("Data"),g8=t(` 구조체로 변환할 것이다.
안전한 Go 코드에서는 다음과 같은 코드로 데이터 매핑을 할 수 있다.`),Yd=i(),dt=p("pre"),hd=i(),na=p("p"),n0=t("혹은 이렇게 "),vu=p("code"),s0=t("unsafe.Pointer"),a0=t("를 사용할 수도 있다."),gd=i(),Et=p("pre"),n1=i(),h=p("p"),t0=t("먼저 "),_u=p("code"),e0=t("[16]byte"),p0=t("의 포인터를 "),mu=p("code"),o0=t("unsafe.Pointer"),l0=t("로 변환한 후 이를 다시 "),bu=p("code"),c0=t("*Data"),u0=t(`로 변환한다.
구조체의 포인터가 아니라 값을 반환할 것이기 때문에 가장 바깥에서 `),Cu=p("code"),i0=t("*"),r0=t(`를 통해 포인터를 derefernce해준다.
이때 little endian 플랫폼이라면 값을 뒤집어주는 작업을 거친 후 데이터를 반환해준다.`),s1=i(),Ce=p("p"),k0=t("Go 프로그램이 little endian 플랫폼에서 돌아가고 있는지 다음과 같이 확인할 수 있다."),a1=i(),vt=p("pre"),t1=i(),Bn=p("p"),yu=p("code"),f0=t("init()"),d0=t(" 함수의 사용은 최대한 피해야 하지만, 지금의 경우는 실질적으로 변하지 않는 패키지 변수를 초기화하는 경우이므로 "),Ou=p("code"),E0=t("init()"),v0=t("을 사용하여 "),Du=p("code"),_0=t("isLE"),m0=t(`를 초기화한다.
프로그램 런타임 중 프로세서의 endian이 변할 일은 없기 때문에 적절한 용례라고 볼 수 있다.`),e1=i(),mn=p("p"),b0=t("litten endian 플랫폼에서는 "),wu=p("code"),C0=t("x"),y0=t(`의 바이트 열이 [00 FF]로 저장되지만 big endian 플랫폼에서는 [FF 00]으로 저장된다.
따라서 `),Pu=p("code"),O0=t("unsafe.Pointer"),D0=t("로 정수를 바이트 열로 변환한 후, 첫 번째 바이트의 값을 확인하여 "),Ru=p("code"),w0=t("isLE"),P0=t("를 결정할 수 있다."),p1=i(),o1=p("br"),l1=i(),ye=p("p"),R0=t("마찬가지로 네트워크상에 데이터를 전송하는 경우, 안전한 Go 코드는 다음과 같다."),c1=i(),_t=p("pre"),u1=i(),sa=p("p"),T0=t("그리고 "),Tu=p("code"),V0=t("unsafe"),S0=t("를 사용하면 다음과 같다."),i1=i(),mt=p("pre"),r1=i(),aa=p("p"),F0=t("실제로 성능을 비교해보면, "),Vu=p("code"),x0=t("unsafe"),H0=t("를 사용한 코드가 두 배 가량 빠르다고 한다."),k1=i(),bt=p("pre"),f1=i(),Oe=p("p"),B0=t("..나는 두 배가 아닌데..?"),d1=i(),De=p("p"),L0=t(`어쨌든 이러한 로우레벨 기술을 활용하여 퍼포먼스를 끌어올려야 하는 프로그램에서는 유용하게 사용할 수 있을 것이다.
다만 대부분의 프로그램에서는 이렇게까지 할 필요는 없고 그냥 안전한 코드를 쓰자.`),E1=i(),v1=p("br"),_1=p("br"),m1=i(),ta=p("h3"),ea=p("a"),Su=p("span"),N0=t("unsafe Strings and Slices"),b1=i(),Ct=p("p"),Fu=p("code"),M0=t("unsafe"),I0=t("에서도 slice나 string을 사용할 수 있다."),C1=i(),g=p("p"),G0=t("우선 "),xu=p("code"),A0=t("string"),K0=t(`은 기본적으로 byte 열의 포인터와 길이로 이루어 있다.
`),Hu=p("code"),U0=t("reflect"),$0=t(" 패키지에는 이러한 구조를 가지고 있는 "),Bu=p("code"),W0=t("reflect.StringHeader"),q0=t("라는 타입이 존재하며, 이를 통해 "),Lu=p("code"),z0=t("string"),J0=t(`의 내부적 구조에 접근하여 조작할 수 있다.
아래 예제는 길이 정보에 접근하는 예제이다.`),y1=i(),yt=p("pre"),O1=i(),bn=p("p"),Z0=t("또한 "),Nu=p("code"),X0=t("sHdr"),Q0=t("의 "),Mu=p("code"),j0=t("Data"),Y0=t(" 필드에 접근하여 “pointer arithmetic”을 통해 문자열 내부의 바이트를 읽을 수 있다. 이때 피연산자의 타입은 "),Iu=p("code"),h0=t("uintptr"),g0=t("여야 한다. C/C++에서 보던 것과 유사한 접근이다!"),D1=i(),Ot=p("pre"),w1=i(),O=p("p"),Gu=p("code"),nm=t("reflect.StringHeader"),sm=t("의 "),Au=p("code"),am=t("Data"),tm=t(" 필드는 "),Ku=p("code"),em=t("uintptr"),pm=t(` 유형이다.
그런데 가비지 컬렉터의 존재로 인해 `),Uu=p("code"),om=t("uintptr"),lm=t(`을 통해 유효한 메모리를 단일 구문 이상 참조할 수는 없다.
이때 `),$u=p("code"),cm=t("runtime.KeepAlive(s)"),um=t("를 함수의 마지막에 추가하면, Go 런타임의 가비지 컬렉터가 "),Wu=p("code"),im=t("KeepAlive()"),rm=t("를 호출할 때까지 "),qu=p("code"),km=t("s"),fm=t("를 수집하지 않게 된다."),P1=i(),R1=p("br"),T1=i(),D=p("p"),zu=p("code"),dm=t("unsafe"),Em=t(" 패키지를 통해 string으로부터 "),Ju=p("code"),vm=t("reflect.StringHeader"),_m=t("을 얻을 수 있듯, slice로부터 "),Zu=p("code"),mm=t("reflect.SliceHeader"),bm=t(`를 얻을 수 있다.
`),Xu=p("code"),Cm=t("reflect.SliceHeader"),ym=t("에는 각각 "),Qu=p("code"),Om=t("Len"),Dm=t(", "),ju=p("code"),wm=t("Cap"),Pm=t(", "),Yu=p("code"),Rm=t("Data"),Tm=t("의 세 가지 필드가 있으며 각각 길이, 용량, 그리고 slice의 데이터를 가리키는 포인터이다."),V1=i(),Dt=p("pre"),S1=i(),G=p("p"),Vm=t("string에서와 유사하게 "),hu=p("code"),Sm=t("[]int"),Fm=t(" 포인터를 "),gu=p("code"),xm=t("unsafe.Pointer"),Hm=t("로 변환한 후, 이를 다시 "),ni=p("code"),Bm=t("reflect.SliceHeader"),Lm=t("의 포인터로 변환한다. 이후 "),si=p("code"),Nm=t("Len"),Mm=t(", "),ai=p("code"),Im=t("Cap"),Gm=t(" 필드에 접근할 수 있다."),F1=i(),we=p("p"),Am=t("slice 또한 각 원소에 대해 이터레이션이 가능하다."),x1=i(),wt=p("pre"),H1=i(),w=p("p"),ti=p("code"),Km=t("int"),Um=t("의 크기는 32비트 또는 64비트이기 때문에, 반드시 "),ei=p("code"),$m=t("unsafe.Sizeof()"),Wm=t(" 함수로 "),pi=p("code"),qm=t("Data"),zm=t(` 필드의 각 값이 몇 바이트인지 확인해야 한다.
이후 그 크기만큼 `),oi=p("code"),Jm=t("uintptr"),Zm=t("로 변환한 "),li=p("code"),Xm=t("i"),Qm=t("를 곱하면 "),ci=p("code"),jm=t("Data"),Ym=t(` 필드의 각 데이터의 접근할 수 있다.
마지막으로 `),ui=p("code"),hm=t("int"),gm=t(" 포인터로 변환해주고 dereference하면 값을 얻을 수 있다."),B1=i(),L1=p("br"),N1=p("br"),M1=i(),pa=p("h3"),oa=p("a"),ii=p("span"),nb=t("unsafe Tools"),I1=i(),nn=p("p"),sb=t("실행 명령어에 "),ri=p("code"),ab=t("-gcflags=-d=checkptr"),tb=t(" 플래그를 붙이면 잘못 사용된 "),ki=p("code"),eb=t("unsafe.Pointer"),pb=t("나 "),fi=p("code"),ob=t("uintptr"),lb=t(`를 찾을 수 있다.
이 플래그는 Race Checker처럼 모든 `),di=p("code"),cb=t("unsafe"),ub=t(" 문제를 찾을 수 있는 것은 아니고 프로그램의 속도를 느리게 만들지만, 테스트 단계에서는 붙이는 것이 좋다."),G1=i(),Pe=p("p"),ib=t("unsafe는 유용한 로우 레벨 패키지이지만, 지금 무엇을 필요로 하는지 잘 모르거나 성능 향상이 필요한 게 아니라면 사용하지 않는 것이 좋다."),A1=i(),la=p("p"),rb=t("unsafe에 대해 더 알고싶다면 "),Pt=p("a"),kb=t("패키지 문서"),fb=t("를 참조해 보자."),K1=i(),U1=p("br"),$1=p("br"),W1=i(),ca=p("h2"),ua=p("a"),Ei=p("span"),db=t("Cgo"),q1=i(),z1=p("hr"),J1=i(),zn=p("p"),Eb=t("reflection이나 "),vi=p("code"),vb=t("unsafe"),_b=t("와 마찬가지로, "),_i=p("code"),mb=t("cgo"),bb=t("는 Go 프로그램과 외부 세계의 경계, 그 중 C 라이브러리와의 integration을 할 때 가장 유용하다."),Z1=i(),Jn=p("p"),Cb=t("C는 매우 오래 된 언어임에도 불구하고, 프로그래밍 언어의 "),_F(ia.$$.fragment),yb=t(`로 자리잡고 있다. 거의 운영체제가 C나 C++로 작성되며, 이에 포함된 라이브러리들도 C로 작성되었다.
따라서 거의 모든 언어가 C 라이브러리와 통합하는 방법을 제공한다. Go에서는 C에 대한 Foreign Function Interface(FFI)를 `),mi=p("code"),Ob=t("cgo"),Db=t("라고 이름붙였다."),X1=i(),ra=p("p"),wb=t("Go는 명시적인 것을 지향하는 언어이지만, "),bi=p("code"),Pb=t("cgo"),Rb=t("는 뭔가 자동으로 알아서 해주는 느낌이 강하다. 직접 예제를 보자."),Q1=i(),Rt=p("pre"),j1=i(),Cn=p("p"),Tb=t("일단, "),Ci=p("code"),Vb=t("/**/"),Sb=t("로 묶인 주석이 "),yi=p("strong"),Fb=t("반드시"),xb=t(" 필요하며, 주석과 "),Oi=p("code"),Hb=t('import "C"'),Bb=t(" 사이에는 빈 줄이 없어야 한다. 이 빈 줄때문에 컴파일이 안돼서 한참 찾았다.."),Y1=i(),yn=p("p"),Lb=t("위 "),Di=p("code"),Nb=t("main.go"),Mb=t(" 파일과 같은 폴더 안에 각각 "),wi=p("code"),Ib=t("mylib.h"),Gb=t(", "),Pi=p("code"),Ab=t("mylib.c"),Kb=t("을 생성하여 다음과 같이 작성해준다."),h1=i(),Tt=p("pre"),g1=i(),Vt=p("pre"),n2=i(),ka=p("p"),Ub=t("그러고 나서 "),Ri=p("code"),$b=t("go build"),Wb=t(" 명령어로 컴파일하여 생성된 파일을 실행하면 다음과 같은 결과를 얻을 수 있을 것이다."),s2=i(),St=p("pre"),a2=i(),v=p("p"),qb=t("우선 "),Ti=p("code"),zb=t("C"),Jb=t(`라는 패키지는 실존하는 표준 라이브러리가 아니다!
`),Vi=p("code"),Zb=t("C"),Xb=t("는 자동으로 생성되는 패키지이며, "),Si=p("code"),Qb=t('import "C"'),jb=t(` 위에 명시된 주석에 내장된 C 코드에서 대부분의 식별자가 정의된다.
예제의 주석에서는 `),Fi=p("code"),Yb=t("add()"),hb=t(" 함수를 선언하였고, "),xi=p("code"),gb=t("C.add()"),nC=t(`로 그 함수를 불러와서 호출하였다.
또한 주석 블록 안에서 import된 다른 함수나 전역변수 등도 불러올 수 있다. 이를테면 `),Hi=p("code"),sC=t("math.h"),aC=t("에서 불러온 "),Bi=p("code"),tC=t("C.sqr()"),eC=t("나 "),Li=p("code"),pC=t("mylib.h"),oC=t("에서 불러온 "),Ni=p("code"),lC=t("C.multiply()"),cC=t("처럼 말이다."),t2=i(),sn=p("p"),uC=t("이뿐 아니라 "),Mi=p("code"),iC=t("C"),rC=t(" 패키지에서는 C 내장 타입을 나타내기 위한 "),Ii=p("code"),kC=t("C.int"),fC=t("나 "),Gi=p("code"),dC=t("C.char"),EC=t(" 타입 등도 정의하고 있으며, Go의 문자열을 C의 문자열로 변환하기 위한 "),Ai=p("code"),vC=t("C.Cstring"),_C=t(" 함수도 있다."),e2=i(),p2=p("br"),o2=i(),Zn=p("p"),mC=t("더 신기한 일도 가능하다. 이번에는 Go의 함수를 C로 export할 건데, Go의 함수 앞에 "),Ki=p("code"),bC=t("//export"),CC=t(" 주석을 붙이면 할 수 있다. 먼저 "),Ui=p("code"),yC=t("main.go"),OC=t("의 소스코드를 작성한다."),l2=i(),Ft=p("pre"),c2=i(),Xn=p("p"),DC=t("이제 "),$i=p("code"),wC=t("main.go"),PC=t("와 동일한 디렉토리에 .c 파일을 생성하여 작성한다. 이 때 특수 헤더인 "),Wi=p("code"),RC=t('"_cgo_export.h"'),TC=t("를 include해야 한다."),u2=i(),xt=p("pre"),i2=i(),Re=p("p"),VC=t("위 예제를 실행하면 다음과 같은 결과를 얻는다."),r2=i(),Ht=p("pre"),k2=i(),f2=p("br"),d2=i(),fa=p("p"),SC=t("이렇듯 "),qi=p("code"),FC=t("cgo"),xC=t(`로 Go와 C의 함수를 상호 호출하는 것은 생각보다 간단하다.
하지만 Go는 가비지 컬렉터가 존재하지만 C에는 없다는 점 때문에, 대수롭지 않은 Go 코드라도 C와 통합되기가 생각보다 쉽지 않다. 그래서 포인터를 C 코드로 보낼 수는 있지만, 포인터를 포함하는 무언가를 보낼 수는 없다. 이러한 점 때문에 문자열, 슬라이스, 함수 등 포인터로 구현된 것들은 C로 보낼 수 없다.`),E2=i(),Te=p("p"),HC=t("또한 C 함수가 반환되어도 Go 포인터의 복사본을 가지고 있으면 안된다. Go가 가비지 컬렉팅을 하고 나면 포인터가 이상한 메모리 주소를 가리키게 되기 때문에, 프로그램이 컴파일은 되더라도 런타임에 죽거나 이상하게 동작할 수도 있다."),v2=i(),Qn=p("p"),BC=t("다른 제약도 있다. "),zi=p("code"),LC=t("printf()"),NC=t("와 같이 가변적인 함수를 호출하기 위해 "),Ji=p("code"),MC=t("cgo"),IC=t(`를 사용하면 안된다.
C의 Union 타입은 바이트 어레이로 변환되며 C의 함수 포인터를 Go에서 호출할 수는 없지만, 변수에 저장해 두었다가 다시 C 함수로 전달할 수는 있다.`),_2=i(),jn=p("p"),GC=t("이러한 규칙들 때문에 "),Zi=p("code"),AC=t("cgo"),KC=t(`를 사용하기가 쉽지 않다.
만약 Python이나 Ruby에 익숙하다면 `),Xi=p("code"),UC=t("cgo"),$C=t("같은 접근이 성능 측면에서 굉장한 이점이 있을 것임을 알 것이다. 실제로 Python의 NumPy는 C로 작성되기도 했다."),m2=i(),da=p("p"),WC=t("하지만 Go는 파이썬이나 루비보다 훨씬 빠르다. 알고리즘을 로우 레벨에서 재작성할 필요가 크게 없다. 그리고 "),Qi=p("code"),qC=t("cgo"),zC=t("를 쓰더라도 성능 향상을 기대하기는 어렵다. C와 Go의 메모리 모델과 프로세싱 방법이 다르기 때문인데, Go에서 C 코드를 호출할 때 C에서 C 코드를 호출하는 것보다 대략 29배 느리다고 한다."),b2=i(),Bt=p("p"),ji=p("code"),JC=t("cgo"),ZC=t(`가 빠르지도 않고 사용하기도 쉽지 않지만, 사용하는 이유는 명확하다.
반드시 사용해야 하는 C 라이브러리가 있지만 대체할 Go 라이브러리는 없는 경우일 때이다.
만약 대체할 Go 라이브러리가 있다면, 웬만하면 그걸 쓰도록 하자.`),C2=i(),y2=p("br"),O2=p("br"),D2=i(),Ea=p("h2"),va=p("a"),Yi=p("span"),XC=t("References"),w2=i(),P2=p("hr"),R2=i(),Ve=p("center"),ks=p("p"),Lt=p("a"),Se=p("img"),QC=i(),jC=p("br"),YC=i(),Nt=p("a"),hC=t("Jon Bodner, 『Learning Go』, O’Reilly Media, Inc."),T2=i(),V2=p("br"),S2=p("br"),this.h()},l(n){an=o(n,"BR",{}),ds=r(n),un=o(n,"P",{});var c=l(un);Es=e(c,"본 글은 Golang을 공부하며 주요 내용이라 생각되는 것들을 기록해둔 자료이며, Ubuntu 22.04 LTS 기준으로 작성되었습니다."),c.forEach(a),tr=r(n),er=o(n,"BR",{}),pr=o(n,"BR",{}),or=r(n),vs=o(n,"H2",{id:!0});var Fe=l(vs);_s=o(Fe,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Oy=l(_s);Xe=o(Oy,"SPAN",{class:!0}),l(Xe).forEach(a),Oy.forEach(a),g2=e(Fe,"Introduction"),Fe.forEach(a),lr=r(n),cr=o(n,"HR",{}),ur=r(n),Kt=o(n,"P",{});var Dy=l(Kt);nE=e(Dy,`Go는 안전한 언어이다.
정적 타입의 변수를 통해 어떤 데이터를 사용하고 있는지 명확히 하며, 메모리를 관리하기 위해 가비지 컬렉터를 사용한다.
포인터를 사용하긴 하지만 C나 C++보다는 제한적인 범위에서만 사용할 수 있다.
따라서 고 런타임은 대부분 안전하게 실행된다고 할 수 있다.`),Dy.forEach(a),ir=r(n),rn=o(n,"P",{});var _a=l(rn);sE=e(_a,`하지만 타입을 명확히 정의할 수 없는 데이터를 다뤄야 하는 경우가 있을 수 있다.
이를테면 타입을 컴파일 타임에 결정할 수 없는 데이터가 있을 수 있다. 이 경우 `),Qe=o(_a,"CODE",{});var wy=l(Qe);aE=e(wy,"reflect"),wy.forEach(a),tE=e(_a,` 패키지를 통해 데이터와 상호작용하거나 데이터를 구성한다.
또는 데이터 타입의 메모리 레이아웃을 사용해야 하는 경우, `),je=o(_a,"CODE",{});var Py=l(je);eE=e(Py,"unsafe"),Py.forEach(a),pE=e(_a,` 패키지를 사용한다.
그리고 C로 작성된 라이브러리의 기능을 사용해야 하는 경우, `),Ye=o(_a,"CODE",{});var Ry=l(Ye);oE=e(Ry,"cgo"),Ry.forEach(a),lE=e(_a," 패키지를 통해 C 코드를 호출할 수도 있다."),_a.forEach(a),rr=r(n),Ut=o(n,"P",{});var Ty=l(Ut);cE=e(Ty,`처음 Go언어를 배우는 사람들을 위한 책에서 나올 내용 치고는 다소 고난도의 개념인지라, 이러한 내용이 나오는 것에 대해 다소 의아할 수도 있다.
하지만 다음과 같은 두 가지 이유로 이 내용을 다룬다.`),Ty.forEach(a),kr=r(n),ms=o(n,"OL",{});var x2=l(ms);he=o(x2,"LI",{});var Vy=l(he);uE=e(Vy,`개발자들은 코드에서 문제를 발견하면 솔루션을 검색해보고 제대로 이해하지도 못한 채 코드에 복붙하는 경우가 많다. 이로 인해 여러 문제가 생길 수도 있다.
그러니 이러한 고급 기술에 대해 조금이라도 이해해두는 편이 문제를 일으킬 여지를 약간이나마 줄일 수 있을 것이다.`),Vy.forEach(a),iE=r(x2),ge=o(x2,"LI",{});var Sy=l(ge);rE=e(Sy,"소개하는 내용이 일반 Go 코드에서는 할 수 없는 것들이라, 내용을 접하다 보면 흥미로움을 느낄 수도 있기 때문이다!"),Sy.forEach(a),x2.forEach(a),fr=r(n),dr=o(n,"BR",{}),Er=o(n,"BR",{}),vr=r(n),bs=o(n,"H2",{id:!0});var gC=l(bs);Cs=o(gC,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Fy=l(Cs);np=o(Fy,"SPAN",{class:!0}),l(np).forEach(a),Fy.forEach(a),kE=e(gC,"Reflection"),gC.forEach(a),_r=r(n),mr=o(n,"HR",{}),br=r(n),$t=o(n,"P",{});var xy=l($t);fE=e(xy,`Go의 장점 중 하나는 정적 타입 언어라는 것이다. Go에서 타입 및 변수, 함수를 선언하는 것이 매우 간단하며, 프로그램에서 사용될 데이터의 구조를 나타내기 위해 타입을 사용한다.
하지만 컴파일 타임에 정의되는 타입만으로 프로그램에서 사용될 데이터를 사용하기에는 부족할 때가 있다.
이를테면 프로그램을 작성할 때 존재하지 않았던 데이터가 런타임에 변수에 할당될 수도 있다.
가령, 파일에서 데이터를 읽어오거나 네트워크 요청을 변수에 저장하거나, 아니면 여러 타입에 대응되는 함수를 작성할 수도 있을 것이다.`),xy.forEach(a),Cr=r(n),Wt=o(n,"P",{});var Hy=l(Wt);dE=e(Hy,`이러한 상황에서는 Reflection을 사용한다.
Reflection은 런타임에 타입을 확인할 수 있게 해주며, 런타임에 변수, 함수, 구조체를 검사하고, 수정하고, 생성하는 기능도 제공한다.`),Hy.forEach(a),yr=r(n),qt=o(n,"P",{});var By=l(qt);EE=e(By,`이러한 Reflection의 기능이 언제 필요한 것인가에 대한 질문이 있을 수 있다.
표준 라이브러리에서 Reflection이 어떻게 쓰이는지 알면 우리도 감을 잡을 수 있을 것이다.`),By.forEach(a),Or=r(n),J=o(n,"UL",{});var Yn=l(J);zt=o(Yn,"LI",{});var ny=l(zt);sp=o(ny,"CODE",{});var Ly=l(sp);vE=e(Ly,"database/sql"),Ly.forEach(a),_E=e(ny," 패키지에서는 데이터베이스에서 데이터를 읽거나 쓸 때 Reflection을 사용하여 레코드를 전송하고 읽어온 데이터를 반환함"),ny.forEach(a),mE=r(Yn),ls=o(Yn,"LI",{});var xe=l(ls);bE=e(xe,"Go에 내장된 템플릿 작성 라이브러리인 "),ap=o(xe,"CODE",{});var Ny=l(ap);CE=e(Ny,"text/template"),Ny.forEach(a),yE=e(xe," 및 "),tp=o(xe,"CODE",{});var My=l(tp);OE=e(My,"html/template"),My.forEach(a),DE=e(xe,"에서는 reflection을 사용하여 템플릿으로 전달되는 값을 처리함"),xe.forEach(a),wE=r(Yn),ys=o(Yn,"LI",{});var hi=l(ys);ep=o(hi,"CODE",{});var Iy=l(ep);PE=e(Iy,"fmt"),Iy.forEach(a),RE=e(hi," 패키지의 "),pp=o(hi,"CODE",{});var Gy=l(pp);TE=e(Gy,"fmt.Println"),Gy.forEach(a),VE=e(hi," 등 대부분의 출력 함수는 들어온 파라미터의 타입에 맞춰 알잘딱깔센하게 출력해줘야 하기 때문에, Reflection을 엄청 많이 사용한다고 함"),hi.forEach(a),SE=r(Yn),Jt=o(Yn,"LI",{});var sy=l(Jt);op=o(sy,"CODE",{});var Ay=l(op);FE=e(Ay,"sort"),Ay.forEach(a),xE=e(sy," 패키지는 Reflection을 사용하여 다양한 타입의 슬라이스를 정렬하는 기능을 구현함"),sy.forEach(a),HE=r(Yn),Zt=o(Yn,"LI",{});var ay=l(Zt);lp=o(ay,"CODE",{});var Ky=l(lp);BE=e(Ky,"encoding"),Ky.forEach(a),LE=e(ay," 패키지에 정의된 다양한 데이터 타입과 함께, JSON이나 XML을 Marshaling 및 Unmarshaling할 때 Reflection이 사용됨. 구조체 tag는 Reflection를 통해 액세스되며, Reflection를 통해 구조체 필드를 읽고 씀."),ay.forEach(a),Yn.forEach(a),Dr=r(n),Xt=o(n,"P",{});var Uy=l(Xt);NE=e(Uy,"이러한 예시들은 한 가지 공통점을 공유한다. Go 프로그램으로 가져오거나 외부로 내보내는 데이터에 액세스하고 형식을 지정한다는 것이다. 다시 말해, Reflection은 Go 프로그램과 외부 세계의 경계선에서 사용되는 것이다."),Uy.forEach(a),wr=r(n),Pr=o(n,"BR",{}),Rr=o(n,"BR",{}),Tr=r(n),Os=o(n,"H3",{id:!0});var ty=l(Os);Ds=o(ty,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var $y=l(Ds);cp=o($y,"SPAN",{class:!0}),l(cp).forEach(a),$y.forEach(a),ME=e(ty,"Types, Kinds"),ty.forEach(a),Vr=r(n),Z=o(n,"P",{});var hn=l(Z);IE=e(hn,`이제 Reflection이 무엇을 하며 언제 필요한지 알았으니, 어떻게 쓰는 것인지 알아보려 한다.
`),up=o(hn,"CODE",{});var Wy=l(up);GE=e(Wy,"reflect"),Wy.forEach(a),AE=e(hn,` 패키지는 표준 라이브러리에 포함되어 있으며, Reflection을 위한 여러 타입들과 함수들이 구현되어 있다.
Reflection의 핵심 개념은 `),ip=o(hn,"EM",{});var qy=l(ip);KE=e(qy,"types"),qy.forEach(a),UE=e(hn,", "),rp=o(hn,"EM",{});var zy=l(rp);$E=e(zy,"kinds"),zy.forEach(a),WE=e(hn,", "),kp=o(hn,"EM",{});var Jy=l(kp);qE=e(Jy,"values"),Jy.forEach(a),zE=e(hn,", 이렇게 세 가지이다."),hn.forEach(a),Sr=r(n),ws=o(n,"P",{});var H2=l(ws);JE=e(H2,"먼저 "),fp=o(H2,"EM",{});var Zy=l(fp);ZE=e(Zy,"types"),Zy.forEach(a),XE=e(H2,"에 대해 알아보자. Reflection에서 타입은 말 그대로 변수의 속성, 변수가 포함할 수 있는 항목 및 변수가 상호 작용할 수 있는 방법을 정의한다. Reflection을 쓰면 코드를 작성하여 타입을 쿼리할 수 있다."),H2.forEach(a),Fr=r(n),xr=o(n,"BR",{}),Hr=r(n),Va=o(n,"PRE",{class:!0});var ES=l(Va);ES.forEach(a),Br=r(n),Qt=o(n,"P",{});var Xy=l(Qt);QE=e(Xy,"위 구문의 실행 결과는 다음과 같다."),Xy.forEach(a),Lr=r(n),Sa=o(n,"PRE",{class:!0});var vS=l(Sa);vS.forEach(a),Nr=r(n),x=o(n,"P",{});var On=l(x);jE=e(On,"이처럼 "),dp=o(On,"CODE",{});var Qy=l(dp);YE=e(Qy,"reflect"),Qy.forEach(a),hE=e(On," 패키지의 "),Ep=o(On,"CODE",{});var jy=l(Ep);gE=e(jy,"TypeOf()"),jy.forEach(a),nv=e(On,` 함수를 통해 변수의 타입을 확인할 수 있다.
`),vp=o(On,"CODE",{});var Yy=l(vp);sv=e(Yy,"TypeOf()"),Yy.forEach(a),av=e(On,"는 파라미터로 들어온 변수의 타입을 "),_p=o(On,"CODE",{});var hy=l(_p);tv=e(hy,"reflect.Type"),hy.forEach(a),ev=e(On,`라는 타입으로 나타낸다.
`),mp=o(On,"CODE",{});var gy=l(mp);pv=e(gy,"reflect.Type"),gy.forEach(a),ov=e(On,"에는 변수의 타입에 관련된 여러 메소드가 존재하지만 다는 다루지 못하고 몇 개만 다뤄보고자 한다."),On.forEach(a),Mr=r(n),Fn=o(n,"P",{});var Mt=l(Fn);bp=o(Mt,"CODE",{});var nO=l(bp);lv=e(nO,"Name()"),nO.forEach(a),cv=e(Mt," 메소드는 타입명을 문자열로 반환한다. 가장 마지막 출력 결과가 string임을 확인할 수 있다. 이처럼 "),Cp=o(Mt,"CODE",{});var sO=l(Cp);uv=e(sO,"Name()"),sO.forEach(a),iv=e(Mt,"은 int와 같은 원시 타입이나 위 예제의 "),yp=o(Mt,"CODE",{});var aO=l(yp);rv=e(aO,"Foo"),aO.forEach(a),kv=e(Mt,`와 같은 구조체의 이름을 반환한다.
그러나 slice나 포인터 등은 달리 이름이 없기 때문에 빈 문자열을 반환한다.`),Mt.forEach(a),Ir=r(n),_=o(n,"P",{});var P=l(_);Op=o(P,"CODE",{});var tO=l(Op);fv=e(tO,"reflect.Type"),tO.forEach(a),dv=e(P,"의 "),Dp=o(P,"CODE",{});var eO=l(Dp);Ev=e(eO,"Kind()"),eO.forEach(a),vv=e(P," 메소드는 "),wp=o(P,"CODE",{});var pO=l(wp);_v=e(pO,"reflect.Kind"),pO.forEach(a),mv=e(P," 타입의 값을 반환하며, "),Pp=o(P,"CODE",{});var oO=l(Pp);bv=e(oO,"reflect.Kind"),oO.forEach(a),Cv=e(P,"는 해당 타입이 어떤 원시 타입으로 작성되었는지를 나타내는 상수값이다. 이를테면 slice, map, pointer, struct, interface, string, array, function, int 등, 어떠한 원시 타입인지 알려준다. "),Rp=o(P,"CODE",{});var lO=l(Rp);yv=e(lO,"reflect.Type"),lO.forEach(a),Ov=e(P,"과 "),Tp=o(P,"CODE",{});var cO=l(Tp);Dv=e(cO,"reflect.Kind"),cO.forEach(a),wv=e(P,"는 다소 헷갈릴 수 있는데, 만약 위 예제를 예로 든다면 "),Vp=o(P,"CODE",{});var uO=l(Vp);Pv=e(uO,"Foo"),uO.forEach(a),Rv=e(P,"의 타입은 "),Sp=o(P,"CODE",{});var iO=l(Sp);Tv=e(iO,'"Foo"'),iO.forEach(a),Vv=e(P,"가 될 것이고 종류는 "),Fp=o(P,"CODE",{});var rO=l(Fp);Sv=e(rO,"reflect.Struct"),rO.forEach(a),Fv=e(P,"가 될 것이다."),P.forEach(a),Gr=r(n),kn=o(n,"P",{});var ma=l(kn);xv=e(ma,"종류는 매우 중요하다. Reflection을 사용할 때 유의해야 할 것이 있는데, "),xp=o(ma,"CODE",{});var kO=l(xp);Hv=e(kO,"reflect"),kO.forEach(a),Bv=e(ma," 패키지는 개발자가 Reflection에 대해 잘 알고 있다고 가정한다. "),Hp=o(ma,"CODE",{});var fO=l(Hp);Lv=e(fO,"reflect.Type"),fO.forEach(a),Nv=e(ma," 등 "),Bp=o(ma,"CODE",{});var dO=l(Bp);Mv=e(dO,"reflect"),dO.forEach(a),Iv=e(ma,"의 타입들에 정의된 일부 메소드는 특정 종류에서만 말이 된다."),ma.forEach(a),Ar=r(n),H=o(n,"P",{});var Dn=l(H);Gv=e(Dn,"예를 들어 "),Lp=o(Dn,"CODE",{});var EO=l(Lp);Av=e(EO,"reflect.Type"),EO.forEach(a),Kv=e(Dn,"의 "),Np=o(Dn,"CODE",{});var vO=l(Np);Uv=e(vO,"NumIn()"),vO.forEach(a),$v=e(Dn,`이라는 메소드가 있다.
만약 `),Mp=o(Dn,"CODE",{});var _O=l(Mp);Wv=e(_O,"reflect.Type"),_O.forEach(a),qv=e(Dn,"이 함수를 나타내고 있다면 "),Ip=o(Dn,"CODE",{});var mO=l(Ip);zv=e(mO,"NumIn()"),mO.forEach(a),Jv=e(Dn,`은 입력 파라미터의 수를 반환하지만, 함수를 나타내고 있지 않다면 프로그램은 panic에 빠질 것이다.
따라서 종류를 사용하여 `),Gp=o(Dn,"CODE",{});var bO=l(Gp);Zv=e(bO,"reflect.Type"),bO.forEach(a),Xv=e(Dn,"이 어떤 메소드를 사용할 수 있고 어떤 메소드가 panic이 되는지 아는 게 중요하다."),Dn.forEach(a),Kr=r(n),Ps=o(n,"P",{});var B2=l(Ps);Qv=e(B2,"아래 예제는 위 예제에서 "),Ap=o(B2,"CODE",{});var CO=l(Ap);jv=e(CO,"Kind()"),CO.forEach(a),Yv=e(B2," 메소드를 통해 타입의 종류까지 출력하는 부분을 추가한 것이다."),B2.forEach(a),Ur=r(n),Fa=o(n,"PRE",{class:!0});var _S=l(Fa);_S.forEach(a),$r=r(n),jt=o(n,"P",{});var yO=l(jt);hv=e(yO,"실행 결과는 다음과 같다."),yO.forEach(a),Wr=r(n),xa=o(n,"PRE",{class:!0});var mS=l(xa);mS.forEach(a),qr=r(n),zr=o(n,"BR",{}),Jr=r(n),R=o(n,"P",{});var en=l(R);Kp=o(en,"CODE",{});var OO=l(Kp);gv=e(OO,"reflect.Type"),OO.forEach(a),n3=e(en,"의 또 다른 중요한 메소드는 "),Up=o(en,"CODE",{});var DO=l(Up);s3=e(DO,"Elem()"),DO.forEach(a),a3=e(en,`이다.
Go에는 다른 타입을 참조하는 타입이 있으며, `),$p=o(en,"CODE",{});var wO=l($p);t3=e(wO,"Elem()"),wO.forEach(a),e3=e(en,`은 참조되는 타입이 어떤 타입인지 밝혀낸다.
이를테면 위 예시에서 종류가 `),Wp=o(en,"CODE",{});var PO=l(Wp);p3=e(PO,"ptr"),PO.forEach(a),o3=e(en,"이었던 "),qp=o(en,"CODE",{});var RO=l(qp);l3=e(RO,"xpt"),RO.forEach(a),c3=e(en,", "),zp=o(en,"CODE",{});var TO=l(zp);u3=e(TO,"tt"),TO.forEach(a),i3=e(en," 부분을 다음과 같이 수정할 것이다."),en.forEach(a),Zr=r(n),Ha=o(n,"PRE",{class:!0});var bS=l(Ha);bS.forEach(a),Xr=r(n),Yt=o(n,"P",{});var VO=l(Yt);r3=e(VO,"실행 결과는 다음과 같다."),VO.forEach(a),Qr=r(n),Ba=o(n,"PRE",{class:!0});var CS=l(Ba);CS.forEach(a),jr=r(n),E=o(n,"P",{});var C=l(E);k3=e(C,"만약 "),Jp=o(C,"CODE",{});var SO=l(Jp);f3=e(SO,"reflect.Type"),SO.forEach(a),d3=e(C,"이 포인터를 나타내고 있다면 "),Zp=o(C,"CODE",{});var FO=l(Zp);E3=e(FO,"Elem()"),FO.forEach(a),v3=e(C,"은 그 포인터가 가리키는 타입의 "),Xp=o(C,"CODE",{});var xO=l(Xp);_3=e(xO,"reflect.Type"),xO.forEach(a),m3=e(C,`을 반환한다.
위 예제로 미루어 보아 `),Qp=o(C,"CODE",{});var HO=l(Qp);b3=e(HO,"xpt"),HO.forEach(a),C3=e(C,"는 int를, "),jp=o(C,"CODE",{});var BO=l(jp);y3=e(BO,"tt"),BO.forEach(a),O3=e(C,"는 "),Yp=o(C,"CODE",{});var LO=l(Yp);D3=e(LO,"rtype"),LO.forEach(a),w3=e(C,`라는 이름의 구조체를 가리키는 포인터임을 알 수 있다.
`),hp=o(C,"CODE",{});var NO=l(hp);P3=e(NO,"Elem()"),NO.forEach(a),R3=e(C," 메소드는 "),gp=o(C,"CODE",{});var MO=l(gp);T3=e(MO,"reflect.Type"),MO.forEach(a),V3=e(C,"이 포인터뿐 아니라 slice, map, channel, array를 나타낼 때도 동작한다. 한편 "),no=o(C,"CODE",{});var IO=l(no);S3=e(IO,"int"),IO.forEach(a),F3=e(C," 등의 원시 타입을 나타낸다면 panic이 발생한다."),C.forEach(a),Yr=r(n),hr=o(n,"BR",{}),gr=r(n),T=o(n,"P",{});var pn=l(T);so=o(pn,"CODE",{});var GO=l(so);x3=e(GO,"reflect.Type"),GO.forEach(a),H3=e(pn,"이 구조체를 나타내고 있다면 "),ao=o(pn,"CODE",{});var AO=l(ao);B3=e(AO,"NumField()"),AO.forEach(a),L3=e(pn,` 메소드를 사용하여 구조체에 존재하는 필드의 수를 알 수 있다.
또한 `),to=o(pn,"CODE",{});var KO=l(to);N3=e(KO,"Field()"),KO.forEach(a),M3=e(pn," 메소드를 통해 필드에 접근할 수 있다. "),eo=o(pn,"CODE",{});var UO=l(eo);I3=e(UO,"Field()"),UO.forEach(a),G3=e(pn,"는 "),po=o(pn,"CODE",{});var $O=l(po);A3=e($O,"reflect.StructField"),$O.forEach(a),K3=e(pn,"라는 타입으로 표현된 각 필드의 구조를 반환하며, "),oo=o(pn,"CODE",{});var WO=l(oo);U3=e(WO,"reflect.StructField"),WO.forEach(a),$3=e(pn,`는 필드의 이름, 순서, 타입, 구조체 태그 정보를 가지고 있다.
다음의 예제를 살펴보자!`),pn.forEach(a),nk=r(n),La=o(n,"PRE",{class:!0});var yS=l(La);yS.forEach(a),sk=r(n),V=o(n,"P",{});var on=l(V);lo=o(on,"CODE",{});var qO=l(lo);W3=e(qO,"Foo"),qO.forEach(a),q3=e(on," 인스턴스인 f를 "),co=o(on,"CODE",{});var zO=l(co);z3=e(zO,"reflect.TypeOf()"),zO.forEach(a),J3=e(on,"의 파라미터로 보내서, 구조체를 표현하는 "),uo=o(on,"CODE",{});var JO=l(uo);Z3=e(JO,"reflect.Type"),JO.forEach(a),X3=e(on,"을 "),io=o(on,"CODE",{});var ZO=l(io);Q3=e(ZO,"ft"),ZO.forEach(a),j3=e(on,`에 저장한다.
그 후 `),ro=o(on,"CODE",{});var XO=l(ro);Y3=e(XO,"NumField()"),XO.forEach(a),h3=e(on,"로 필드 수 만큼 이터레이션을 돌며 "),ko=o(on,"CODE",{});var QO=l(ko);g3=e(QO,"Field()"),QO.forEach(a),n_=e(on," 메소드로 각 필드의 필드명, 타입, 태그 정보를 출력한다."),on.forEach(a),ak=r(n),ht=o(n,"P",{});var jO=l(ht);s_=e(jO,"실행 결과는 다음과 같다."),jO.forEach(a),tk=r(n),Na=o(n,"PRE",{class:!0});var OS=l(Na);OS.forEach(a),ek=r(n),fn=o(n,"P",{});var ba=l(fn);a_=e(ba,"마찬가지로, 구조체가 아닌 "),fo=o(ba,"CODE",{});var YO=l(fo);t_=e(YO,"reflect.Type"),YO.forEach(a),e_=e(ba,"에서 "),Eo=o(ba,"CODE",{});var hO=l(Eo);p_=e(hO,"NumField()"),hO.forEach(a),o_=e(ba,"나 "),vo=o(ba,"CODE",{});var gO=l(vo);l_=e(gO,"Field()"),gO.forEach(a),c_=e(ba," 메소드를 호출하면 panic이 발생한다."),ba.forEach(a),pk=r(n),ok=o(n,"BR",{}),lk=r(n),cs=o(n,"P",{});var gi=l(cs);_o=o(gi,"CODE",{});var nD=l(_o);u_=e(nD,"reflect.Type"),nD.forEach(a),i_=e(gi,"에는 다른 더 많은 메소드가 존재하지만, 거의 비슷한 패턴을 따른다. 추가적인 정보를 원한다면 Go의 "),Ma=o(gi,"A",{href:!0,rel:!0});var sD=l(Ma);r_=e(sD,"표준 라이브러리 문서"),sD.forEach(a),k_=e(gi,"를 확인할 수 있다."),gi.forEach(a),ck=r(n),uk=o(n,"BR",{}),ik=o(n,"BR",{}),rk=r(n),Rs=o(n,"H3",{id:!0});var ey=l(Rs);Ts=o(ey,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var aD=l(Ts);mo=o(aD,"SPAN",{class:!0}),l(mo).forEach(a),aD.forEach(a),f_=e(ey,"Values"),ey.forEach(a),kk=r(n),Mn=o(n,"P",{});var He=l(Mn);d_=e(He,"Reflection을 통해 변수의 타입 뿐 아니라, 변수의 값도 읽어올 수 있다. "),bo=o(He,"CODE",{});var tD=l(bo);E_=e(tD,"reflect.ValueOf()"),tD.forEach(a),v_=e(He," 함수를 호출하면 변수의 값을 나타내는 "),Co=o(He,"CODE",{});var eD=l(Co);__=e(eD,"reflect.Value"),eD.forEach(a),m_=e(He," 인스턴스를 생성할 수 있다."),He.forEach(a),fk=r(n),Ia=o(n,"PRE",{class:!0});var DS=l(Ia);DS.forEach(a),dk=r(n),B=o(n,"P",{});var wn=l(B);b_=e(wn,"Go의 모든 변수는 타입이 존재하기 때문에 "),yo=o(wn,"CODE",{});var pD=l(yo);C_=e(pD,"reflect.Value"),pD.forEach(a),y_=e(wn,"에는 "),Oo=o(wn,"CODE",{});var oD=l(Oo);O_=e(oD,"reflect.Type"),oD.forEach(a),D_=e(wn,"을 반환하는 "),Do=o(wn,"CODE",{});var lD=l(Do);w_=e(lD,"Type()"),lD.forEach(a),P_=e(wn,"이란 메소드가 존재하며, "),wo=o(wn,"CODE",{});var cD=l(wo);R_=e(cD,"reflect.Type"),cD.forEach(a),T_=e(wn,"처럼 종류를 반환하는 "),Po=o(wn,"CODE",{});var uD=l(Po);V_=e(uD,"Kind()"),uD.forEach(a),S_=e(wn," 메소드가 존재한다."),wn.forEach(a),Ek=r(n),xn=o(n,"P",{});var It=l(xn);Ro=o(It,"CODE",{});var iD=l(Ro);F_=e(iD,"reflect.Type"),iD.forEach(a),x_=e(It,"이 변수의 타입에 대한 정보를 찾는 메소드를 가지고 있는 것처럼, "),To=o(It,"CODE",{});var rD=l(To);H_=e(rD,"reflect.Value"),rD.forEach(a),B_=e(It,"은 변수의 값에 대한 정보를 찾는 메소드를 가지고 있다. 마찬가지로 이들 모두를 다루진 않겠지만, 변수의 값을 얻고자 할 때 "),Vo=o(It,"CODE",{});var kD=l(Vo);L_=e(kD,"reflect.Value"),kD.forEach(a),N_=e(It,"를 어떻게 사용하는지 확인해볼 것이다."),It.forEach(a),vk=r(n),_k=o(n,"BR",{}),mk=r(n),dn=o(n,"P",{});var Ca=l(dn);M_=e(Ca,"먼저 "),So=o(Ca,"CODE",{});var fD=l(So);I_=e(fD,"reflect.Value"),fD.forEach(a),G_=e(Ca,"에서 값을 다시 읽어오는 방법을 살펴볼 것이다. "),Fo=o(Ca,"CODE",{});var dD=l(Fo);A_=e(dD,"reflect.Value"),dD.forEach(a),K_=e(Ca,"의 "),xo=o(Ca,"CODE",{});var ED=l(xo);U_=e(ED,"Interface()"),ED.forEach(a),$_=e(Ca," 메소드는 변수의 값을 빈 인터페이스로 반환한다."),Ca.forEach(a),bk=r(n),Ga=o(n,"PRE",{class:!0});var wS=l(Ga);wS.forEach(a),Ck=r(n),S=o(n,"P",{});var ln=l(S);Ho=o(ln,"CODE",{});var vD=l(Ho);W_=e(vD,"Interface()"),vD.forEach(a),q_=e(ln,"는 모든 종류의 값을 포함하는 "),Bo=o(ln,"CODE",{});var _D=l(Bo);z_=e(_D,"reflect.Value"),_D.forEach(a),J_=e(ln,` 인스턴스에 대해 호출할 수 있다. 하지만 변수의 종류가 Bool, Complex, Int, Uint, Float, String과 같은 Built-in 원시 타입인 경우 사용할 수 있는 특수한 메소드가 있다.
`),Lo=o(ln,"CODE",{});var mD=l(Lo);Z_=e(mD,"Bytes()"),mD.forEach(a),X_=e(ln," 메소드는 변수의 타입이 "),No=o(ln,"CODE",{});var bD=l(No);Q_=e(bD,"[]bytes"),bD.forEach(a),j_=e(ln,`이면 사용할 수 있다.
`),Mo=o(ln,"CODE",{});var CD=l(Mo);Y_=e(CD,"reflect.Type"),CD.forEach(a),h_=e(ln,"에서처럼, "),Io=o(ln,"CODE",{});var yD=l(Io);g_=e(yD,"reflect.Value"),yD.forEach(a),n5=e(ln,"에서 변수의 타입과 맞지 않는 메소드를 호출한다면 프로그램이 panic에 빠진다."),ln.forEach(a),yk=r(n),Ok=o(n,"BR",{}),Dk=r(n),gt=o(n,"P",{});var OD=l(gt);s5=e(OD,"Reflection을 통해 변수의 값을 설정할 수도 있지만, 다음과 같은 세 단계를 거쳐야 한다."),OD.forEach(a),wk=r(n),In=o(n,"P",{});var Be=l(In);a5=e(Be,"첫 번째로, 변수의 포인터를 "),Go=o(Be,"CODE",{});var DD=l(Go);t5=e(DD,"reflect.ValueOf()"),DD.forEach(a),e5=e(Be,"의 파라미터로 보낸다. 이렇게 하면 포인터를 나타내는 "),Ao=o(Be,"CODE",{});var wD=l(Ao);p5=e(wD,"reflect.Value"),wD.forEach(a),o5=e(Be,"를 반환한다."),Be.forEach(a),Pk=r(n),Aa=o(n,"PRE",{class:!0});var PS=l(Aa);PS.forEach(a),Rk=r(n),m=o(n,"P",{});var A=l(m);l5=e(A,"다음으로, 설정해야 할 실제 값을 얻는다. "),Ko=o(A,"CODE",{});var PD=l(Ko);c5=e(PD,"reflect.Value"),PD.forEach(a),u5=e(A,"의 "),Uo=o(A,"CODE",{});var RD=l(Uo);i5=e(RD,"Elem()"),RD.forEach(a),r5=e(A," 메소드를 사용하여, 포인터가 가리키는 값을 얻을 수 있다. "),$o=o(A,"CODE",{});var TD=l($o);k5=e(TD,"reflect.Type"),TD.forEach(a),f5=e(A,"의 "),Wo=o(A,"CODE",{});var VD=l(Wo);d5=e(VD,"Elem()"),VD.forEach(a),E5=e(A,"처럼, "),qo=o(A,"CODE",{});var SD=l(qo);v5=e(SD,"reflect.Value"),SD.forEach(a),_5=e(A,"의 "),zo=o(A,"CODE",{});var FD=l(zo);m5=e(FD,"Elem()"),FD.forEach(a),b5=e(A,"은 포인터가 가리키는 값을 "),Jo=o(A,"CODE",{});var xD=l(Jo);C5=e(xD,"reflect.Value"),xD.forEach(a),y5=e(A," 또는 인터페이스로 반환한다."),A.forEach(a),Tk=r(n),Ka=o(n,"PRE",{class:!0});var RS=l(Ka);RS.forEach(a),Vk=r(n),L=o(n,"P",{});var Pn=l(L);O5=e(Pn,`마지막으로 값을 수정한다.
앞서 언급하였듯 값의 종류가 원시 타입일 때만 쓸 수 있는 특수한 메소드가 존재하며, 그것이 값을 설정하는 `),Zo=o(Pn,"CODE",{});var HD=l(Zo);D5=e(HD,"SetBool"),HD.forEach(a),w5=e(Pn,", "),Xo=o(Pn,"CODE",{});var BD=l(Xo);P5=e(BD,"SetInt"),BD.forEach(a),R5=e(Pn,", "),Qo=o(Pn,"CODE",{});var LD=l(Qo);T5=e(LD,"SetFloat"),LD.forEach(a),V5=e(Pn,", "),jo=o(Pn,"CODE",{});var ND=l(jo);S5=e(ND,"SetString"),ND.forEach(a),F5=e(Pn,` 등이다.
예제에서는 `),Yo=o(Pn,"CODE",{});var MD=l(Yo);x5=e(MD,"SetInt()"),MD.forEach(a),H5=e(Pn,"를 사용하여 값을 수정하였으며, 이렇게 하면 i의 값이 변경된다."),Pn.forEach(a),Sk=r(n),Ua=o(n,"PRE",{class:!0});var TS=l(Ua);TS.forEach(a),Fk=r(n),X=o(n,"P",{});var gn=l(X);B5=e(gn,"다른 모든 타입들에 대해서는 "),ho=o(gn,"CODE",{});var ID=l(ho);L5=e(ID,"reflect.Value"),ID.forEach(a),N5=e(gn,"를 파라미터로 받는 "),go=o(gn,"CODE",{});var GD=l(go);M5=e(GD,"Set()"),GD.forEach(a),I5=e(gn,`을 호출해야 한다.
값을 변경하는 게 아니라 이 값을 읽는 것이기 때문에, 설정하고자 하는 값은 포인터일 필요가 없다.
또한 `),nl=o(gn,"CODE",{});var AD=l(nl);G5=e(AD,"Interface()"),AD.forEach(a),A5=e(gn,"를 사용하여 원시 타입을 읽을 수 있듯, "),sl=o(gn,"CODE",{});var KD=l(sl);K5=e(KD,"Set()"),KD.forEach(a),U5=e(gn,"을 호출하여 원시 타입을 설정할 수 있다."),gn.forEach(a),xk=r(n),Vs=o(n,"P",{});var L2=l(Vs);$5=e(L2,"값을 변경하기 위해 "),al=o(L2,"CODE",{});var UD=l(al);W5=e(UD,"reflect.ValueOf()"),UD.forEach(a),q5=e(L2,`의 파라미터로 포인터를 전달해야 하는 이유는 Go의 다른 함수와 동일하다.
다른 함수에서는 파라미터를 포인터 타입으로 지정하여 파라미터의 값을 변경할 수 있음을 나타내고, 변수의 값을 변경할 때 포인터에 dereference하여 값을 변경한다.
즉, 다음의 두 함수는 동일한 과정을 거친다고 볼 수 있다!`),L2.forEach(a),Hk=r(n),$a=o(n,"PRE",{class:!0});var VS=l($a);VS.forEach(a),Bk=r(n),ne=o(n,"P",{});var $D=l(ne);z5=e($D,"만약 다음과 같이 포인터를 거치지 않는다면 변수의 값을 읽어오는 데에는 문제가 없겠지만, 값을 설정할 때 panic이 발생한다."),$D.forEach(a),Lk=r(n),Wa=o(n,"PRE",{class:!0});var SS=l(Wa);SS.forEach(a),Nk=r(n),Mk=o(n,"BR",{}),Ik=o(n,"BR",{}),Gk=r(n),Ss=o(n,"H3",{id:!0});var py=l(Ss);Fs=o(py,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var WD=l(Fs);tl=o(WD,"SPAN",{class:!0}),l(tl).forEach(a),WD.forEach(a),J5=e(py,"Making New Values"),py.forEach(a),Ak=r(n),b=o(n,"P",{});var K=l(b);Z5=e(K,`Reflection을 사용하는 최선의 방법을 살펴보기에 앞서, 값을 생성하는 방법에 대해서도 알아보려 한다.
`),el=o(K,"CODE",{});var qD=l(el);X5=e(qD,"reflect.New()"),qD.forEach(a),Q5=e(K," 함수는 "),pl=o(K,"CODE",{});var zD=l(pl);j5=e(zD,"new()"),zD.forEach(a),Y5=e(K,` 함수의 reflection 버전이라고 볼 수 있다.
`),ol=o(K,"CODE",{});var JD=l(ol);h5=e(JD,"reflect.New()"),JD.forEach(a),g5=e(K,"는 "),ll=o(K,"CODE",{});var ZD=l(ll);n4=e(ZD,"reflect.Type"),ZD.forEach(a),s4=e(K,"을 파라미터로 받아 명시된 타입의 "),cl=o(K,"CODE",{});var XD=l(cl);a4=e(XD,"reflect.Value"),XD.forEach(a),t4=e(K,"를 가리키는 포인터 타입의 "),ul=o(K,"CODE",{});var QD=l(ul);e4=e(QD,"reflect.Value"),QD.forEach(a),p4=e(K,`를 반환한다.
반환값이 포인터이기 때문에, `),il=o(K,"CODE",{});var jD=l(il);o4=e(jD,"Interface()"),jD.forEach(a),l4=e(K," 메소드를 사용하여 수정한 후 변수에 할당할 수 있다."),K.forEach(a),Kk=r(n),us=o(n,"P",{});var nr=l(us);rl=o(nr,"CODE",{});var YD=l(rl);c4=e(YD,"reflect.New()"),YD.forEach(a),u4=e(nr,"가 스칼라 타입의 포인터를 생성하는 것처럼, "),kl=o(nr,"CODE",{});var hD=l(kl);i4=e(hD,"make()"),hD.forEach(a),r4=e(nr," 함수에 대응되는 함수가 Reflection에도 존재한다."),nr.forEach(a),Uk=r(n),qa=o(n,"PRE",{class:!0});var FS=l(qa);FS.forEach(a),$k=r(n),xs=o(n,"P",{});var N2=l(xs);k4=e(N2,"이러한 함수들은 포함된 타입이 아니라 복합 타입을 나타내는 "),fl=o(N2,"CODE",{});var gD=l(fl);f4=e(gD,"reflect.Type"),gD.forEach(a),d4=e(N2,"을 파라미터로 받는다."),N2.forEach(a),Wk=r(n),qk=o(n,"BR",{}),zk=r(n),is=o(n,"P",{});var sr=l(is);dl=o(sr,"CODE",{});var nw=l(dl);E4=e(nw,"reflect.Type"),nw.forEach(a),v4=e(sr,"을 구성할 때는 항상 값에서 시작해야 하지만 마땅한 값이 없는 경우 "),El=o(sr,"CODE",{});var sw=l(El);_4=e(sw,"reflect.Type"),sw.forEach(a),m4=e(sr,"을 나타내는 변수를 만들 수 있는 방법이 있다."),sr.forEach(a),Jk=r(n),za=o(n,"PRE",{class:!0});var xS=l(za);xS.forEach(a),Zk=r(n),f=o(n,"P",{});var d=l(f);b4=e(d,"위 예제에서 변수 "),vl=o(d,"CODE",{});var aw=l(vl);C4=e(aw,"stringType"),aw.forEach(a),y4=e(d,"은 "),_l=o(d,"CODE",{});var tw=l(_l);O4=e(tw,"string"),tw.forEach(a),D4=e(d,"을 나타내는 "),ml=o(d,"CODE",{});var ew=l(ml);w4=e(ew,"reflect.Type"),ew.forEach(a),P4=e(d,"을 갖게 되며, "),bl=o(d,"CODE",{});var pw=l(bl);R4=e(pw,"stringSliceType"),pw.forEach(a),T4=e(d,"은 "),Cl=o(d,"CODE",{});var ow=l(Cl);V4=e(ow,"[]string"),ow.forEach(a),S4=e(d,"을 타나내는 "),yl=o(d,"CODE",{});var lw=l(yl);F4=e(lw,"reflect.Type"),lw.forEach(a),x4=e(d,`을 갖게 된다.
`),Ol=o(d,"CODE",{});var cw=l(Ol);H4=e(cw,"stringType"),cw.forEach(a),B4=e(d,"의 경우 해석하기 좀 어려울 수 있지만 포인터 타입을 먼저 생성한 뒤 "),Dl=o(d,"CODE",{});var uw=l(Dl);L4=e(uw,"Elem()"),uw.forEach(a),N4=e(d,"을 호출하여 결국 "),wl=o(d,"CODE",{});var iw=l(wl);M4=e(iw,"string"),iw.forEach(a),I4=e(d,"을 나타내는 "),Pl=o(d,"CODE",{});var rw=l(Pl);G4=e(rw,"reflect.Type"),rw.forEach(a),A4=e(d,`을 얻는 것이다.
`),Rl=o(d,"CODE",{});var kw=l(Rl);K4=e(kw,"stringSliceType"),kw.forEach(a),U4=e(d,"의 경우는 "),Tl=o(d,"CODE",{});var fw=l(Tl);$4=e(fw,"[]string"),fw.forEach(a),W4=e(d,"의 기본값 자체가 "),Vl=o(d,"CODE",{});var dw=l(Vl);q4=e(dw,"nil"),dw.forEach(a),z4=e(d,"이기 때문에 위처럼 위와 같은 절차를 거치면 "),Sl=o(d,"CODE",{});var Ew=l(Sl);J4=e(Ew,"[]string"),Ew.forEach(a),Z4=e(d,"을 타나내는 "),Fl=o(d,"CODE",{});var vw=l(Fl);X4=e(vw,"reflect.Type"),vw.forEach(a),Q4=e(d,"을 얻을 수 있다."),d.forEach(a),Xk=r(n),Q=o(n,"P",{});var ns=l(Q);j4=e(ns,"이렇게 얻은 "),xl=o(ns,"CODE",{});var _w=l(xl);Y4=e(_w,"stringType"),_w.forEach(a),h4=e(ns,"와 "),Hl=o(ns,"CODE",{});var mw=l(Hl);g4=e(mw,"stringSliceType"),mw.forEach(a),n6=e(ns,"을 "),Bl=o(ns,"CODE",{});var bw=l(Bl);s6=e(bw,"reflect.New()"),bw.forEach(a),a6=e(ns,"와 "),Ll=o(ns,"CODE",{});var Cw=l(Ll);t6=e(Cw,"reflect.MakeSlice()"),Cw.forEach(a),e6=e(ns,"의 파라미터로 보내 값을 생성할 수 있다."),ns.forEach(a),Qk=r(n),Ja=o(n,"PRE",{class:!0});var HS=l(Ja);HS.forEach(a),jk=r(n),se=o(n,"P",{});var yw=l(se);p6=e(yw,"실행하면 다음과 같은 결과를 확인할 수 있다."),yw.forEach(a),Yk=r(n),Za=o(n,"PRE",{class:!0});var BS=l(Za);BS.forEach(a),hk=r(n),gk=o(n,"BR",{}),nf=o(n,"BR",{}),sf=r(n),Hs=o(n,"H3",{id:!0});var oy=l(Hs);Bs=o(oy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Ow=l(Bs);Nl=o(Ow,"SPAN",{class:!0}),l(Nl).forEach(a),Ow.forEach(a),o6=e(oy,"Use Reflection to Check If an Interface’s Value Is nil"),oy.forEach(a),af=r(n),Gn=o(n,"P",{});var Le=l(Gn);l6=e(Le,`interface는 두 가지 nil을 가질 수 있다. 첫 번째는 interface가 가리키는 타입이 nil인 경우(즉 아무 것도 가리키지 않는 상태. 이 경우를 nul 인터페이스라고 함)이고, 두 번째는 interface가 가리키는 타입은 nil이 아니지만 값이 nil인 경우이다.
만약 interface가 가리키는 값이 nil인지 확인하고 싶다면 reflection의 `),Ml=o(Le,"CODE",{});var Dw=l(Ml);c6=e(Dw,"IsValid()"),Dw.forEach(a),u6=e(Le,"와 "),Il=o(Le,"CODE",{});var ww=l(Il);i6=e(ww,"IsNil()"),ww.forEach(a),r6=e(Le," 메소드를 활용해야 한다."),Le.forEach(a),tf=r(n),Xa=o(n,"PRE",{class:!0});var LS=l(Xa);LS.forEach(a),ef=r(n),F=o(n,"P",{});var cn=l(F);Gl=o(cn,"CODE",{});var Pw=l(Gl);k6=e(Pw,"IsValid()"),Pw.forEach(a),f6=e(cn,"는 "),Al=o(cn,"CODE",{});var Rw=l(Al);d6=e(Rw,"reflect.Value"),Rw.forEach(a),E6=e(cn,"가 nil 인터페이스 이외의 다른 타입을 나타내는 경우 "),Kl=o(cn,"CODE",{});var Tw=l(Kl);v6=e(Tw,"true"),Tw.forEach(a),_6=e(cn,`를 반환한다.
만일 `),Ul=o(cn,"CODE",{});var Vw=l(Ul);m6=e(Vw,"reflect.Value"),Vw.forEach(a),b6=e(cn,"가 nil 인터페이스라서 "),$l=o(cn,"CODE",{});var Sw=l($l);C6=e(Sw,"IsValid()"),Sw.forEach(a),y6=e(cn,"의 값이 "),Wl=o(cn,"CODE",{});var Fw=l(Wl);O6=e(Fw,"true"),Fw.forEach(a),D6=e(cn,"인 상태에서, 다른 메소드를 호출하면 panic에 빠지기 때문이다."),cn.forEach(a),pf=r(n),U=o(n,"P",{});var Ln=l(U);ql=o(Ln,"CODE",{});var xw=l(ql);w6=e(xw,"IsNil()"),xw.forEach(a),P6=e(Ln,"은 "),zl=o(Ln,"CODE",{});var Hw=l(zl);R6=e(Hw,"reflect.Value"),Hw.forEach(a),T6=e(Ln,"의 값이 nil이라면 true를 반환한다. "),Jl=o(Ln,"CODE",{});var Bw=l(Jl);V6=e(Bw,"IsNil()"),Bw.forEach(a),S6=e(Ln,"를 호출하기에 앞서 먼저 "),Zl=o(Ln,"CODE",{});var Lw=l(Zl);F6=e(Lw,"Kind()"),Lw.forEach(a),x6=e(Ln,"로 값의 종류를 검사하는 것을 알 수 있다. 어느 정도 예상할 수 있듯, 변수의 Zero value nil이 아닌 타입(int 등)일 때 "),Xl=o(Ln,"CODE",{});var Nw=l(Xl);H6=e(Nw,"IsNil()"),Nw.forEach(a),B6=e(Ln,"을 호출하면 panic이 발생하기 때문이다."),Ln.forEach(a),of=r(n),lf=o(n,"BR",{}),cf=o(n,"BR",{}),uf=r(n),Ls=o(n,"H3",{id:!0});var ly=l(Ls);Ns=o(ly,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Mw=l(Ns);Ql=o(Mw,"SPAN",{class:!0}),l(Ql).forEach(a),Mw.forEach(a),L6=e(ly,"Use Reflection to Write a Data Marshaler"),ly.forEach(a),rf=r(n),ae=o(n,"P",{});var Iw=l(ae);N6=e(Iw,"앞서 언급했듯 Replection은 marshaling과 unmarshaling을 구현하기 위해 사용된다. 우리는 데이터 marshaler를 직접 설계하여 어떻게 사용되는 지 알아보려 한다!"),Iw.forEach(a),kf=r(n),An=o(n,"P",{});var Ne=l(An);M6=e(Ne,"Go는 CSV 파일을 읽고 쓰기 위해 "),jl=o(Ne,"CODE",{});var Gw=l(jl);I6=e(Gw,"csv.NewReader"),Gw.forEach(a),G6=e(Ne,"와 "),Yl=o(Ne,"CODE",{});var Aw=l(Yl);A6=e(Aw,"csv.NewWriter"),Aw.forEach(a),K6=e(Ne," 함수를 제공하지만 데이터를 구조체로 매핑해주는 기능은 따로 없다. 이 기능을 직접 구현해볼 것이다."),Ne.forEach(a),ff=r(n),df=o(n,"BR",{}),Ef=r(n),te=o(n,"P",{});var Kw=l(te);U6=e(Kw,"먼저 데이터 타입을 정의한다. 구조체 태그를 달아서, 다른 marshaler처럼 데이터에 존재하는 필드가 구조체의 각 필드에 매핑될 수 있게끔 한다."),Kw.forEach(a),vf=r(n),Qa=o(n,"PRE",{class:!0});var NS=l(Qa);NS.forEach(a),_f=r(n),ee=o(n,"P",{});var Uw=l(ee);$6=e(Uw,"public API는 두 개의 함수로 구성된다."),Uw.forEach(a),mf=r(n),ja=o(n,"PRE",{class:!0});var MS=l(ja);MS.forEach(a),bf=r(n),Ms=o(n,"P",{});var M2=l(Ms);W6=e(M2,"먼저 "),hl=o(M2,"CODE",{});var $w=l(hl);q6=e($w,"Marshal()"),$w.forEach(a),z6=e(M2," 함수를 작성해 보자."),M2.forEach(a),Cf=r(n),Ya=o(n,"PRE",{class:!0});var IS=l(Ya);IS.forEach(a),yf=r(n),Is=o(n,"P",{});var I2=l(Is);J6=e(I2,"어떤 종류의 구조체든 marsharling이 가능해야 하기 떄문에, "),gl=o(I2,"CODE",{});var Ww=l(gl);Z6=e(Ww,"interface{}"),Ww.forEach(a),X6=e(I2," 타입의 파라미터를 사용한다. 데이터를 수정하지 않고 읽기만 할 것이기 때문에 구조체의 slice에 대한 포인터가 아니다."),I2.forEach(a),Of=r(n),N=o(n,"P",{});var Rn=l(N);Q6=e(Rn,"먼저, csv의 첫 줄은 각 열의 이름이 저장된 헤더가 될 것이므로, 구조체에 명시된 구조체 태그로부터 열 이름을 가져와 출력 데이터에 추가한다. slice의 "),nc=o(Rn,"CODE",{});var qw=l(nc);j6=e(qw,"reflect.Value"),qw.forEach(a),Y6=e(Rn,"에서 "),sc=o(Rn,"CODE",{});var zw=l(sc);h6=e(zw,"Type()"),zw.forEach(a),g6=e(Rn," 메소드를 호출하여 "),ac=o(Rn,"CODE",{});var Jw=l(ac);n9=e(Jw,"reflect.Type"),Jw.forEach(a),s9=e(Rn,"을 얻고, 다시 "),tc=o(Rn,"CODE",{});var Zw=l(tc);a9=e(Zw,"Elem()"),Zw.forEach(a),t9=e(Rn,"을 호출하여 slice의 내부 타입 정보를 얻는다. 그리하여 얻은 타입 정보를 "),ec=o(Rn,"CODE",{});var Xw=l(ec);e9=e(Xw,"marshalHeader()"),Xw.forEach(a),p9=e(Rn,"에 전달하여 반환된 값을 출력 데이터에 추가하는 것이다."),Rn.forEach(a),Df=r(n),Kn=o(n,"P",{});var Me=l(Kn);o9=e(Me,"이후 구조체 slice의 이터레이션을 돌면서 각 인덱스의 "),pc=o(Me,"CODE",{});var Qw=l(pc);l9=e(Qw,"reflect.Value"),Qw.forEach(a),c9=e(Me,"를 "),oc=o(Me,"CODE",{});var jw=l(oc);u9=e(jw,"marshalOne()"),jw.forEach(a),i9=e(Me,"의 파라미터로 보내서 반환된 값을 출력 데이터에 추가한다. 이터레이션이 끝나면 값을 반환한다."),Me.forEach(a),wf=r(n),ha=o(n,"P",{});var cy=l(ha);lc=o(cy,"CODE",{});var Yw=l(lc);r9=e(Yw,"marshalHeader()"),Yw.forEach(a),k9=e(cy,"는 다음과 같이 작성되었다."),cy.forEach(a),Pf=r(n),ga=o(n,"PRE",{class:!0});var GS=l(ga);GS.forEach(a),Rf=r(n),Un=o(n,"P",{});var Ie=l(Un);f9=e(Ie,"구조체를 나타내는 "),cc=o(Ie,"CODE",{});var hw=l(cc);d9=e(hw,"reflect.Type"),hw.forEach(a),E9=e(Ie,"의 각 필드에 대해 이터레이션을 돌며, "),uc=o(Ie,"CODE",{});var gw=l(uc);v9=e(gw,"csv"),gw.forEach(a),_9=e(Ie," 태그를 읽고 출력 slice에 추가하여 반환한다."),Ie.forEach(a),Tf=r(n),Gs=o(n,"P",{});var G2=l(Gs);m9=e(G2,"그리고 "),ic=o(G2,"CODE",{});var nP=l(ic);b9=e(nP,"marshalOne()"),nP.forEach(a),C9=e(G2,"은 다음과 같이 작성되었다."),G2.forEach(a),Vf=r(n),nt=o(n,"PRE",{class:!0});var AS=l(nt);AS.forEach(a),Sf=r(n),$n=o(n,"P",{});var Ge=l($n);y9=e(Ge,"구조체를 나타내는 "),rc=o(Ge,"CODE",{});var sP=l(rc);O9=e(sP,"vv reflect.Value"),sP.forEach(a),D9=e(Ge,"를 파라미터로 받고, "),kc=o(Ge,"CODE",{});var aP=l(kc);w9=e(aP,"Kind()"),aP.forEach(a),P9=e(Ge," 메소드로 각 필드의 종류를 보고 문자열로 적절히 변환해준 후 출력한다."),Ge.forEach(a),Ff=r(n),xf=o(n,"BR",{}),Hf=r(n),As=o(n,"P",{});var A2=l(As);R9=e(A2,"이제 "),fc=o(A2,"CODE",{});var tP=l(fc);T9=e(tP,"Unmarshal()"),tP.forEach(a),V9=e(A2," 함수를 작성해보자."),A2.forEach(a),Bf=r(n),st=o(n,"PRE",{class:!0});var KS=l(st);KS.forEach(a),Lf=r(n),Ks=o(n,"P",{});var K2=l(Ks);S9=e(K2,"데이터를 복사할 것이기 때문에, "),dc=o(K2,"CODE",{});var eP=l(dc);F9=e(eP,"Unmarshal()"),eP.forEach(a),x9=e(K2,`에서 파라미터로 받는 데이터는 구조체 slice의 포인터여야 한다.
함수 최상단에 이를 검사하는 부분이 존재한다. 이후 차례로 포인터가 가리키는 slice, slice가 저장하는 구조체를 검사한다.`),K2.forEach(a),Nf=r(n),Us=o(n,"P",{});var U2=l(Us);H9=e(U2,"데이터의 첫째 줄은 각 열의 이름이 저장된 헤더이다. 이 정보를 통해 구조체의 "),Ec=o(U2,"CODE",{});var pP=l(Ec);B9=e(pP,"csv"),pP.forEach(a),L9=e(U2," 태그를 각 인덱스에 대응시키는 map을 생성할 수 있다."),U2.forEach(a),Mf=r(n),j=o(n,"P",{});var ss=l(j);N9=e(ss,"이후 데이터의 각 행마다 이터레이션을 돌며 새로운 "),vc=o(ss,"CODE",{});var oP=l(vc);M9=e(oP,"structType"),oP.forEach(a),I9=e(ss," 타입의 "),_c=o(ss,"CODE",{});var lP=l(_c);G9=e(lP,"reflect.Value"),lP.forEach(a),A9=e(ss,"를 생성한다. 그리고 "),mc=o(ss,"CODE",{});var cP=l(mc);K9=e(cP,"unmarshalOne()"),cP.forEach(a),U9=e(ss,"을 호출하여 각 행의 데이터를"),bc=o(ss,"CODE",{});var uP=l(bc);$9=e(uP,"reflect.Value"),uP.forEach(a),W9=e(ss,"에 복사한 후 출력 데이터에 추가한다."),ss.forEach(a),If=r(n),at=o(n,"P",{});var uy=l(at);Cc=o(uy,"CODE",{});var iP=l(Cc);q9=e(iP,"unmarshalOne()"),iP.forEach(a),z9=e(uy,"은 다음과 같이 작성되었다."),uy.forEach(a),Gf=r(n),tt=o(n,"PRE",{class:!0});var US=l(tt);US.forEach(a),Af=r(n),En=o(n,"P",{});var ya=l(En);J9=e(ya,"이 함수는 새로 생성된 reflect.Value 타입의 각 필드에 대해 이터레이션을 돌며, "),yc=o(ya,"CODE",{});var rP=l(yc);Z9=e(rP,"csv"),rP.forEach(a),X9=e(ya," 태그의 이름을 통해 "),Oc=o(ya,"CODE",{});var kP=l(Oc);Q9=e(kP,"namePos"),kP.forEach(a),j9=e(ya," 맵에서 "),Dc=o(ya,"CODE",{});var fP=l(Dc);Y9=e(fP,"data"),fP.forEach(a),h9=e(ya," slice의 위치를 찾아 문자열로 변환된 값을 저장한다."),ya.forEach(a),Kf=r(n),Uf=o(n,"BR",{}),$f=r(n),pe=o(n,"P",{});var dP=l(pe);g9=e(dP,"이제 작성한 marshaler와 unmarshaler를 통해 csv를 분석해보자!"),dP.forEach(a),Wf=r(n),et=o(n,"PRE",{class:!0});var $S=l(et);$S.forEach(a),qf=r(n),zf=o(n,"BR",{}),Jf=r(n),$s=o(n,"P",{});var $2=l($s);n7=e($2,"전체 예제 코드는 "),pt=o($2,"A",{href:!0,rel:!0});var EP=l(pt);s7=e(EP,"https://go.dev/play/p/3kwe7ag1i1C"),EP.forEach(a),a7=e($2,"에서 확인할 수 있다."),$2.forEach(a),Zf=r(n),Xf=o(n,"BR",{}),Qf=o(n,"BR",{}),jf=r(n),Ws=o(n,"H3",{id:!0});var iy=l(Ws);qs=o(iy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var vP=l(qs);wc=o(vP,"SPAN",{class:!0}),l(wc).forEach(a),vP.forEach(a),t7=e(iy,"Build Functions with Reflection to Automate Repetitive Tasks"),iy.forEach(a),Yf=r(n),oe=o(n,"P",{});var _P=l(oe);e7=e(_P,`Reflection을 통해 반복적인 코드를 작성하지 않고, 기존 함수를 감싸 재사용하여 함수를 생성할 수도 있다.
다음의 예제는 들어온 파라미터로 함수에 시간을 재는 기능이 추가된 함수를 반환하는 Factory 함수이다.`),_P.forEach(a),hf=r(n),ot=o(n,"PRE",{class:!0});var WS=l(ot);WS.forEach(a),gf=r(n),M=o(n,"P",{});var Tn=l(M);p7=e(Tn,"이 함수는 함수를 파라미터로 받아, 함수를 나타내는 "),Pc=o(Tn,"CODE",{});var mP=l(Pc);o7=e(mP,"reflect.Type"),mP.forEach(a),l7=e(Tn,"을 얻어 "),Rc=o(Tn,"CODE",{});var bP=l(Rc);c7=e(bP,"reflect.MakeFunc()"),bP.forEach(a),u7=e(Tn,`로 보낸다.
이후 `),Tc=o(Tn,"CODE",{});var CP=l(Tc);i7=e(CP,"reflect.MakeFunc()"),CP.forEach(a),r7=e(Tn,`로 시작 시각을 얻고, 기존 함수를 호출하고, 종료 시각을 얻어서 시간차를 출력하고, 기존 함수의 반환값을 반환 하는 함수를 작성한다.
이후 해당 함수를 가리키는 `),Vc=o(Tn,"CODE",{});var yP=l(Vc);k7=e(yP,"reflect.Value"),yP.forEach(a),f7=e(Tn,"를 "),Sc=o(Tn,"CODE",{});var OP=l(Sc);d7=e(OP,"Interface()"),OP.forEach(a),E7=e(Tn," 메소드를 통해 반환할 함수를 얻는다."),Tn.forEach(a),nd=r(n),le=o(n,"P",{});var DP=l(le);v7=e(DP,"위 함수는 다음과 같이 사용할 수 있다."),DP.forEach(a),sd=r(n),lt=o(n,"PRE",{class:!0});var qS=l(lt);qS.forEach(a),ad=r(n),ce=o(n,"P",{});var wP=l(ce);_7=e(wP,`이처럼 Reflection을 통해 함수를 생성할 수는 있지만 이 기능을 사용할 때는 주의해야 한다.
언제 함수를 생성할지, 어떤 기능을 추가할지에 대해 확실히 해 두는 편이 좋다. 그렇지 않으면 프로그램 내 데이터 흐름을 이해하기 더욱 어려워질 것이다.`),wP.forEach(a),td=r(n),ue=o(n,"P",{});var PP=l(ue);m7=e(PP,"뿐만 아니라 기본적으로 Reflection은 프로그램을 느리게 만든다. 네트워크 통신 같은 원래 느린 동작을 하는 게 아닌 이상, 함수를 생성하고 생성된 함수를 호출하는 것은 성능에 중대한 영향을 미칠 것이다. 다시 한번 언급하지만, Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 매핑할 때 유용하다."),PP.forEach(a),ed=r(n),pd=o(n,"BR",{}),od=o(n,"BR",{}),ld=r(n),zs=o(n,"H3",{id:!0});var ry=l(zs);Js=o(ry,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var RP=l(Js);Fc=o(RP,"SPAN",{class:!0}),l(Fc).forEach(a),RP.forEach(a),b7=e(ry,"What you shouldn’t do with Reflection"),ry.forEach(a),cd=r(n),tn=o(n,"P",{});var fs=l(tn);xc=o(fs,"CODE",{});var TP=l(xc);C7=e(TP,"reflect.StructOf()"),TP.forEach(a),y7=e(fs," 함수는 "),Hc=o(fs,"CODE",{});var VP=l(Hc);O7=e(VP,"reflect.StructField"),VP.forEach(a),D7=e(fs,"의 slice를 파라미터로 받아 새로운 구조체 타입을 가리키는 "),Bc=o(fs,"CODE",{});var SP=l(Bc);w7=e(SP,"reflect.Type"),SP.forEach(a),P7=e(fs,"을 반환한다. 이렇게 생성된 구조체는 "),Lc=o(fs,"CODE",{});var FP=l(Lc);R7=e(FP,"interface{}"),FP.forEach(a),T7=e(fs,"를 통해서만 변수에 할당될 수 있으며, Reflection을 사용해야만 데이터를 읽고 쓸 수 있다."),fs.forEach(a),ud=r(n),ie=o(n,"P",{});var xP=l(ie);V7=e(xP,"근데 굳이 이렇게까지 할 필요가 없다. 이 기능은 학술적인 목적에서만 사용된다고 하며, 우리 같은 일반 사용자들은 그냥 구조체 선언해서 쓰자. 하지말라면 하지마!"),xP.forEach(a),id=r(n),rd=o(n,"BR",{}),kd=r(n),re=o(n,"P",{});var HP=l(re);S7=e(HP,"또한 Reflection으로는 메소드를 만들 수도 없다. 함수나 구조체 타입은 만들 수 있긴 한데, 타입에 메소드를 추가할 수는 없다. 당연히 인터페이스를 만드는 것도 안된다."),HP.forEach(a),fd=r(n),dd=o(n,"BR",{}),Ed=o(n,"BR",{}),vd=r(n),Zs=o(n,"H3",{id:!0});var ky=l(Zs);Xs=o(ky,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var BP=l(Xs);Nc=o(BP,"SPAN",{class:!0}),l(Nc).forEach(a),BP.forEach(a),F7=e(ky,"Only Use Reflection If It’s Worthwhile"),ky.forEach(a),_d=r(n),ke=o(n,"P",{});var LP=l(ke);x7=e(LP,`입이 닳도록 말하지만 Reflection은 프로그램과 외부 세계에서 오고가는 데이터를 변환할 때 필수적이다.
하지만 그 외의 상황에서는 사용에 주의를 기울여야 한다.`),LP.forEach(a),md=r(n),Wn=o(n,"P",{});var Ae=l(Wn);H7=e(Ae,"이를테면 여러 언어에 존재하는 "),Mc=o(Ae,"CODE",{});var NP=l(Mc);B7=e(NP,"Filter()"),NP.forEach(a),L7=e(Ae," 함수를 작성한다고 가정해보자. 만약 문자열에 대해 동작하는 "),Ic=o(Ae,"CODE",{});var MP=l(Ic);N7=e(MP,"Filter()"),MP.forEach(a),M7=e(Ae,"함수를 작성한다면 아래와 같이 작성할 것이다."),Ae.forEach(a),bd=r(n),ct=o(n,"PRE",{class:!0});var zS=l(ct);zS.forEach(a),Cd=r(n),fe=o(n,"P",{});var IP=l(fe);I7=e(IP,"반면 단일 타입이 아니라 여러 타입에 대해 연산을 가능하게 한다고 가정할 때, 이런 함수는 Reflection을 통해서 작성할 수 있다."),IP.forEach(a),yd=r(n),ut=o(n,"PRE",{class:!0});var JS=l(ut);JS.forEach(a),Od=r(n),de=o(n,"P",{});var GP=l(de);G7=e(GP,"그리고 아래와 같이 호출하여 사용한다."),GP.forEach(a),Dd=r(n),it=o(n,"PRE",{class:!0});var ZS=l(it);ZS.forEach(a),wd=r(n),rs=o(n,"P",{});var ar=l(rs);Gc=o(ar,"CODE",{});var AP=l(Gc);A7=e(AP,"ReflectedFilter()"),AP.forEach(a),K7=e(ar," 함수는 어렵지 않지만 "),Ac=o(ar,"CODE",{});var KP=l(Ac);U7=e(KP,"Filter()"),KP.forEach(a),$7=e(ar,`보다는 분명히 길다.
게다가 성능을 측정해보면 Reflection을 사용한 코드는 사용하지 않은 코드보다 30~70배 느린 것을 확인할 수 있다.`),ar.forEach(a),Pd=r(n),rt=o(n,"PRE",{class:!0});var XS=l(rt);XS.forEach(a),Rd=r(n),Ee=o(n,"P",{});var UP=l(Ee);W7=e(UP,`더 많은 메모리를 사용하고 수천 회의 메모리 할당이 일어나므로 가비지 컬렉터가 해야 할 일이 늘어나기 때문이다.
즉, 필요에 따라 Reflection을 사용할 수는 있지만 충분히 고민을 거쳐야 한다.`),UP.forEach(a),Td=r(n),ve=o(n,"P",{});var $P=l(ve);q7=e($P,`성능 이슈보다 중요한 문제는 파라미터로 잘못된 타입을 넘기는 것을 컴파일러가 잡아주지 못한다는 것이다.
특정 타입만 허용해주는 작업을 반복적으로 진행해야 하기 떄문에 에러를 찾기도 힘들며, 코드의 유지보수 난이도가 증가한다.`),$P.forEach(a),Vd=r(n),Sd=o(n,"BR",{}),Fd=o(n,"BR",{}),xd=r(n),Qs=o(n,"H2",{id:!0});var fy=l(Qs);js=o(fy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var WP=l(js);Kc=o(WP,"SPAN",{class:!0}),l(Kc).forEach(a),WP.forEach(a),z7=e(fy,"unsafe is Unsafe"),fy.forEach(a),Hd=r(n),Hn=o(n,"P",{});var Gt=l(Hn);Uc=o(Gt,"CODE",{});var qP=l(Uc);J7=e(qP,"reflect"),qP.forEach(a),Z7=e(Gt," 패키지를 통해 타입, 값을 조작할 수 있듯, "),$c=o(Gt,"CODE",{});var zP=l($c);X7=e(zP,"unsafe"),zP.forEach(a),Q7=e(Gt,` 패키지를 통해 메모리를 조작할 수 있다.
그러나 `),Wc=o(Gt,"CODE",{});var JP=l(Wc);j7=e(JP,"unsafe"),JP.forEach(a),Y7=e(Gt," 패키지는 굉장히 특이한 3개의 함수와 하나의 타입을 정의하는데, 다른 패키지의 함수나 타입과는 완전히 다르다고 볼 수 있다."),Gt.forEach(a),Bd=r(n),vn=o(n,"P",{});var Oa=l(vn);h7=e(Oa,"함수 "),qc=o(Oa,"CODE",{});var ZP=l(qc);g7=e(ZP,"Sizeof()"),ZP.forEach(a),n8=e(Oa,`는 특정 타입의 변수가 몇 바이트를 사용하고 있는지 반환한다.
함수 `),zc=o(Oa,"CODE",{});var XP=l(zc);s8=e(XP,"Offsetof()"),XP.forEach(a),a8=e(Oa,`는 구조체의 필드가 구조체의 시작점으로부터 몇 바이트 떨어져 있는지 반환한다.
함수 `),Jc=o(Oa,"CODE",{});var QP=l(Jc);t8=e(QP,"Alignof()"),QP.forEach(a),e8=e(Oa,`는 변수 또는 필드가 얼마만큼 byte alignment를 필요로 하는지 반환한다.
어떤 값이든 이 함수들의 파라미터로 보낼 수 있으며, 반환되는 값은 상수이므로 상수 표현식에 사용할 수 있다.`),Oa.forEach(a),Ld=r(n),$=o(n,"P",{});var Nn=l($);Zc=o(Nn,"CODE",{});var jP=l(Zc);p8=e(jP,"unsafe.Pointer"),jP.forEach(a),o8=e(Nn," 타입은 모든 유형의 포인터를 "),Xc=o(Nn,"CODE",{});var YP=l(Xc);l8=e(YP,"unsafe.Pointer"),YP.forEach(a),c8=e(Nn,"로 변환하거나, 또는 "),Qc=o(Nn,"CODE",{});var hP=l(Qc);u8=e(hP,"unsafe.Pointer"),hP.forEach(a),i8=e(Nn,`를 변환하여 포인터를 얻을 수 있는 특별한 타입이다.
또한 `),jc=o(Nn,"CODE",{});var gP=l(jc);r8=e(gP,"unsafe.Pointer"),gP.forEach(a),k8=e(Nn,"는 "),Yc=o(Nn,"CODE",{});var nR=l(Yc);f8=e(nR,"uintptr"),nR.forEach(a),d8=e(Nn,`이라고 하는 특별한 정수형 타입으로도 변환할 수 있으며, C/C++처럼 이 타입을 통해 수학적 연산도 가능하다.
이렇게 하면 특정 타입의 인스턴스로 들어가서 각각의 바이트를 추출할 수 있으며, 바이트를 조작하면 변수의 실제 값이 변경된다.`),Nn.forEach(a),Nd=r(n),I=o(n,"P",{});var Vn=l(I);E8=e(Vn,"일반적으로 "),hc=o(Vn,"CODE",{});var sR=l(hc);v8=e(sR,"unsafe"),sR.forEach(a),_8=e(Vn,` 패키지를 사용하는 두 가지 패턴이 있다.
첫 번째는 일반적으로 변환할 수 없는 두 타입간의 변수를 변환하는 것이다. `),gc=o(Vn,"CODE",{});var aR=l(gc);m8=e(aR,"unsafe.Pointer"),aR.forEach(a),b8=e(Vn,`를 가운데 두고 몇 단계의 타입 변환을 거쳐 수행할 수 있다.
두 번째는 변수를 `),nu=o(Vn,"CODE",{});var tR=l(nu);C8=e(tR,"unsafe.Pointer"),tR.forEach(a),y8=e(Vn,"로 변환하고 "),su=o(Vn,"CODE",{});var eR=l(su);O8=e(eR,"unsafe.Pointer"),eR.forEach(a),D8=e(Vn,"를 "),au=o(Vn,"CODE",{});var pR=l(au);w8=e(pR,"uintptr"),pR.forEach(a),P8=e(Vn,"로 변환한 다음, 바이트에 접근하여 복사하거나 조작하는 것이다."),Vn.forEach(a),Md=r(n),Id=o(n,"BR",{}),Gd=o(n,"BR",{}),Ad=r(n),Ys=o(n,"H3",{id:!0});var dy=l(Ys);hs=o(dy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var oR=l(hs);tu=o(oR,"SPAN",{class:!0}),l(tu).forEach(a),oR.forEach(a),R8=e(dy,"Use unsafe to Convert External Binary Data"),dy.forEach(a),Kd=r(n),Y=o(n,"P",{});var as=l(Y);T8=e(as,"Go는 메모리 안정성을 중요시 하는 언어인데 왜 "),eu=o(as,"CODE",{});var lR=l(eu);V8=e(lR,"unsafe"),lR.forEach(a),S8=e(as,`같은 패키지가 존재하는가에 대해 의문이 생길 것이다.
Go 프로그램과 외부 세계의 사이에서 데이터를 변환하기 위해 `),pu=o(as,"CODE",{});var cR=l(pu);F8=e(cR,"reflect"),cR.forEach(a),x8=e(as,"를 사용하는 것처럼, 바이너리 데이터를 변환하기 위해 "),ou=o(as,"CODE",{});var uR=l(ou);H8=e(uR,"unsafe"),uR.forEach(a),B8=e(as,`를 사용한다.
실제로 `),lu=o(as,"CODE",{});var iR=l(lu);L8=e(iR,"unsafe"),iR.forEach(a),N8=e(as,"가 사용되는 목적을 살펴보면 주로 운영체제 또는 C로 작성된 코드와의 통합을 위해 사용되거나, 코드 최적화를 위해 사용된다."),as.forEach(a),Ud=r(n),qn=o(n,"P",{});var Ke=l(qn);M8=e(Ke,"특히 네트워크로부터 데이터를 읽어들이거나 전송할 때 "),cu=o(Ke,"CODE",{});var rR=l(cu);I8=e(rR,"unsafe"),rR.forEach(a),G8=e(Ke,"의 "),uu=o(Ke,"CODE",{});var kR=l(uu);A8=e(kR,"unsafe.Pointer"),kR.forEach(a),K8=e(Ke,`를 사용하여 데이터를 매핑하면 매우 빠르다.
가령 다음과 같은 구조의 데이터 프로토콜이 있다고 해보자.`),Ke.forEach(a),$d=r(n),_n=o(n,"UL",{});var Da=l(_n);iu=o(Da,"LI",{});var fR=l(iu);U8=e(fR,"Value: 4 바이트, big endian, unsigned int"),fR.forEach(a),$8=r(Da),ru=o(Da,"LI",{});var dR=l(ru);W8=e(dR,"Label: 10 바이트, 값에 대한 ASCII 이름"),dR.forEach(a),q8=r(Da),ku=o(Da,"LI",{});var ER=l(ku);z8=e(ER,"Active: 1 바이트, 필드가 활성화되어 있는지 나타내기 위한 플래그"),ER.forEach(a),J8=r(Da),fu=o(Da,"LI",{});var vR=l(fu);Z8=e(vR,"Padding: 데이터를 16바이트로 맞춰주기 위한 Padding"),vR.forEach(a),Da.forEach(a),Wd=r(n),_e=o(n,"BLOCKQUOTE",{});var _R=l(_e);du=o(_R,"P",{});var mR=l(du);X8=e(mR,`네트워크상의 데이터는 대부분 Big endian 또는 Network Byte Order로, most significant byte가 가장 작은 주소에 할당된다.
반면 오늘날 대부분의 CPU에서는 least significant byte가 가장 작은 주소에 할당되는 little endian을 사용한다.
네트워크상의 데이터를 읽거나 쓸 때는 데이터의 처리에 주의해야 한다.`),mR.forEach(a),_R.forEach(a),qd=r(n),zd=o(n,"BR",{}),Jd=r(n),me=o(n,"P",{});var bR=l(me);Q8=e(bR,"다음과 같은 구조체를 정의한다."),bR.forEach(a),Zd=r(n),kt=o(n,"PRE",{class:!0});var QS=l(kt);QS.forEach(a),Xd=r(n),be=o(n,"P",{});var CR=l(be);j8=e(CR,"그리고, 네트워크로부터 다음과 같은 바이트 열을 읽었다고 가정해보자."),CR.forEach(a),Qd=r(n),ft=o(n,"PRE",{class:!0});var jS=l(ft);jS.forEach(a),jd=r(n),gs=o(n,"P",{});var W2=l(gs);Y8=e(W2,"이제 이 데이터를 길이가 16인 바이트로 읽은 후, "),Eu=o(W2,"CODE",{});var yR=l(Eu);h8=e(yR,"Data"),yR.forEach(a),g8=e(W2,` 구조체로 변환할 것이다.
안전한 Go 코드에서는 다음과 같은 코드로 데이터 매핑을 할 수 있다.`),W2.forEach(a),Yd=r(n),dt=o(n,"PRE",{class:!0});var YS=l(dt);YS.forEach(a),hd=r(n),na=o(n,"P",{});var q2=l(na);n0=e(q2,"혹은 이렇게 "),vu=o(q2,"CODE",{});var OR=l(vu);s0=e(OR,"unsafe.Pointer"),OR.forEach(a),a0=e(q2,"를 사용할 수도 있다."),q2.forEach(a),gd=r(n),Et=o(n,"PRE",{class:!0});var hS=l(Et);hS.forEach(a),n1=r(n),h=o(n,"P",{});var ts=l(h);t0=e(ts,"먼저 "),_u=o(ts,"CODE",{});var DR=l(_u);e0=e(DR,"[16]byte"),DR.forEach(a),p0=e(ts,"의 포인터를 "),mu=o(ts,"CODE",{});var wR=l(mu);o0=e(wR,"unsafe.Pointer"),wR.forEach(a),l0=e(ts,"로 변환한 후 이를 다시 "),bu=o(ts,"CODE",{});var PR=l(bu);c0=e(PR,"*Data"),PR.forEach(a),u0=e(ts,`로 변환한다.
구조체의 포인터가 아니라 값을 반환할 것이기 때문에 가장 바깥에서 `),Cu=o(ts,"CODE",{});var RR=l(Cu);i0=e(RR,"*"),RR.forEach(a),r0=e(ts,`를 통해 포인터를 derefernce해준다.
이때 little endian 플랫폼이라면 값을 뒤집어주는 작업을 거친 후 데이터를 반환해준다.`),ts.forEach(a),s1=r(n),Ce=o(n,"P",{});var TR=l(Ce);k0=e(TR,"Go 프로그램이 little endian 플랫폼에서 돌아가고 있는지 다음과 같이 확인할 수 있다."),TR.forEach(a),a1=r(n),vt=o(n,"PRE",{class:!0});var gS=l(vt);gS.forEach(a),t1=r(n),Bn=o(n,"P",{});var At=l(Bn);yu=o(At,"CODE",{});var VR=l(yu);f0=e(VR,"init()"),VR.forEach(a),d0=e(At," 함수의 사용은 최대한 피해야 하지만, 지금의 경우는 실질적으로 변하지 않는 패키지 변수를 초기화하는 경우이므로 "),Ou=o(At,"CODE",{});var SR=l(Ou);E0=e(SR,"init()"),SR.forEach(a),v0=e(At,"을 사용하여 "),Du=o(At,"CODE",{});var FR=l(Du);_0=e(FR,"isLE"),FR.forEach(a),m0=e(At,`를 초기화한다.
프로그램 런타임 중 프로세서의 endian이 변할 일은 없기 때문에 적절한 용례라고 볼 수 있다.`),At.forEach(a),e1=r(n),mn=o(n,"P",{});var wa=l(mn);b0=e(wa,"litten endian 플랫폼에서는 "),wu=o(wa,"CODE",{});var xR=l(wu);C0=e(xR,"x"),xR.forEach(a),y0=e(wa,`의 바이트 열이 [00 FF]로 저장되지만 big endian 플랫폼에서는 [FF 00]으로 저장된다.
따라서 `),Pu=o(wa,"CODE",{});var HR=l(Pu);O0=e(HR,"unsafe.Pointer"),HR.forEach(a),D0=e(wa,"로 정수를 바이트 열로 변환한 후, 첫 번째 바이트의 값을 확인하여 "),Ru=o(wa,"CODE",{});var BR=l(Ru);w0=e(BR,"isLE"),BR.forEach(a),P0=e(wa,"를 결정할 수 있다."),wa.forEach(a),p1=r(n),o1=o(n,"BR",{}),l1=r(n),ye=o(n,"P",{});var LR=l(ye);R0=e(LR,"마찬가지로 네트워크상에 데이터를 전송하는 경우, 안전한 Go 코드는 다음과 같다."),LR.forEach(a),c1=r(n),_t=o(n,"PRE",{class:!0});var nF=l(_t);nF.forEach(a),u1=r(n),sa=o(n,"P",{});var z2=l(sa);T0=e(z2,"그리고 "),Tu=o(z2,"CODE",{});var NR=l(Tu);V0=e(NR,"unsafe"),NR.forEach(a),S0=e(z2,"를 사용하면 다음과 같다."),z2.forEach(a),i1=r(n),mt=o(n,"PRE",{class:!0});var sF=l(mt);sF.forEach(a),r1=r(n),aa=o(n,"P",{});var J2=l(aa);F0=e(J2,"실제로 성능을 비교해보면, "),Vu=o(J2,"CODE",{});var MR=l(Vu);x0=e(MR,"unsafe"),MR.forEach(a),H0=e(J2,"를 사용한 코드가 두 배 가량 빠르다고 한다."),J2.forEach(a),k1=r(n),bt=o(n,"PRE",{class:!0});var aF=l(bt);aF.forEach(a),f1=r(n),Oe=o(n,"P",{});var IR=l(Oe);B0=e(IR,"..나는 두 배가 아닌데..?"),IR.forEach(a),d1=r(n),De=o(n,"P",{});var GR=l(De);L0=e(GR,`어쨌든 이러한 로우레벨 기술을 활용하여 퍼포먼스를 끌어올려야 하는 프로그램에서는 유용하게 사용할 수 있을 것이다.
다만 대부분의 프로그램에서는 이렇게까지 할 필요는 없고 그냥 안전한 코드를 쓰자.`),GR.forEach(a),E1=r(n),v1=o(n,"BR",{}),_1=o(n,"BR",{}),m1=r(n),ta=o(n,"H3",{id:!0});var Ey=l(ta);ea=o(Ey,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var AR=l(ea);Su=o(AR,"SPAN",{class:!0}),l(Su).forEach(a),AR.forEach(a),N0=e(Ey,"unsafe Strings and Slices"),Ey.forEach(a),b1=r(n),Ct=o(n,"P",{});var vy=l(Ct);Fu=o(vy,"CODE",{});var KR=l(Fu);M0=e(KR,"unsafe"),KR.forEach(a),I0=e(vy,"에서도 slice나 string을 사용할 수 있다."),vy.forEach(a),C1=r(n),g=o(n,"P",{});var es=l(g);G0=e(es,"우선 "),xu=o(es,"CODE",{});var UR=l(xu);A0=e(UR,"string"),UR.forEach(a),K0=e(es,`은 기본적으로 byte 열의 포인터와 길이로 이루어 있다.
`),Hu=o(es,"CODE",{});var $R=l(Hu);U0=e($R,"reflect"),$R.forEach(a),$0=e(es," 패키지에는 이러한 구조를 가지고 있는 "),Bu=o(es,"CODE",{});var WR=l(Bu);W0=e(WR,"reflect.StringHeader"),WR.forEach(a),q0=e(es,"라는 타입이 존재하며, 이를 통해 "),Lu=o(es,"CODE",{});var qR=l(Lu);z0=e(qR,"string"),qR.forEach(a),J0=e(es,`의 내부적 구조에 접근하여 조작할 수 있다.
아래 예제는 길이 정보에 접근하는 예제이다.`),es.forEach(a),y1=r(n),yt=o(n,"PRE",{class:!0});var tF=l(yt);tF.forEach(a),O1=r(n),bn=o(n,"P",{});var Pa=l(bn);Z0=e(Pa,"또한 "),Nu=o(Pa,"CODE",{});var zR=l(Nu);X0=e(zR,"sHdr"),zR.forEach(a),Q0=e(Pa,"의 "),Mu=o(Pa,"CODE",{});var JR=l(Mu);j0=e(JR,"Data"),JR.forEach(a),Y0=e(Pa," 필드에 접근하여 “pointer arithmetic”을 통해 문자열 내부의 바이트를 읽을 수 있다. 이때 피연산자의 타입은 "),Iu=o(Pa,"CODE",{});var ZR=l(Iu);h0=e(ZR,"uintptr"),ZR.forEach(a),g0=e(Pa,"여야 한다. C/C++에서 보던 것과 유사한 접근이다!"),Pa.forEach(a),D1=r(n),Ot=o(n,"PRE",{class:!0});var eF=l(Ot);eF.forEach(a),w1=r(n),O=o(n,"P",{});var W=l(O);Gu=o(W,"CODE",{});var XR=l(Gu);nm=e(XR,"reflect.StringHeader"),XR.forEach(a),sm=e(W,"의 "),Au=o(W,"CODE",{});var QR=l(Au);am=e(QR,"Data"),QR.forEach(a),tm=e(W," 필드는 "),Ku=o(W,"CODE",{});var jR=l(Ku);em=e(jR,"uintptr"),jR.forEach(a),pm=e(W,` 유형이다.
그런데 가비지 컬렉터의 존재로 인해 `),Uu=o(W,"CODE",{});var YR=l(Uu);om=e(YR,"uintptr"),YR.forEach(a),lm=e(W,`을 통해 유효한 메모리를 단일 구문 이상 참조할 수는 없다.
이때 `),$u=o(W,"CODE",{});var hR=l($u);cm=e(hR,"runtime.KeepAlive(s)"),hR.forEach(a),um=e(W,"를 함수의 마지막에 추가하면, Go 런타임의 가비지 컬렉터가 "),Wu=o(W,"CODE",{});var gR=l(Wu);im=e(gR,"KeepAlive()"),gR.forEach(a),rm=e(W,"를 호출할 때까지 "),qu=o(W,"CODE",{});var nT=l(qu);km=e(nT,"s"),nT.forEach(a),fm=e(W,"를 수집하지 않게 된다."),W.forEach(a),P1=r(n),R1=o(n,"BR",{}),T1=r(n),D=o(n,"P",{});var q=l(D);zu=o(q,"CODE",{});var sT=l(zu);dm=e(sT,"unsafe"),sT.forEach(a),Em=e(q," 패키지를 통해 string으로부터 "),Ju=o(q,"CODE",{});var aT=l(Ju);vm=e(aT,"reflect.StringHeader"),aT.forEach(a),_m=e(q,"을 얻을 수 있듯, slice로부터 "),Zu=o(q,"CODE",{});var tT=l(Zu);mm=e(tT,"reflect.SliceHeader"),tT.forEach(a),bm=e(q,`를 얻을 수 있다.
`),Xu=o(q,"CODE",{});var eT=l(Xu);Cm=e(eT,"reflect.SliceHeader"),eT.forEach(a),ym=e(q,"에는 각각 "),Qu=o(q,"CODE",{});var pT=l(Qu);Om=e(pT,"Len"),pT.forEach(a),Dm=e(q,", "),ju=o(q,"CODE",{});var oT=l(ju);wm=e(oT,"Cap"),oT.forEach(a),Pm=e(q,", "),Yu=o(q,"CODE",{});var lT=l(Yu);Rm=e(lT,"Data"),lT.forEach(a),Tm=e(q,"의 세 가지 필드가 있으며 각각 길이, 용량, 그리고 slice의 데이터를 가리키는 포인터이다."),q.forEach(a),V1=r(n),Dt=o(n,"PRE",{class:!0});var pF=l(Dt);pF.forEach(a),S1=r(n),G=o(n,"P",{});var Sn=l(G);Vm=e(Sn,"string에서와 유사하게 "),hu=o(Sn,"CODE",{});var cT=l(hu);Sm=e(cT,"[]int"),cT.forEach(a),Fm=e(Sn," 포인터를 "),gu=o(Sn,"CODE",{});var uT=l(gu);xm=e(uT,"unsafe.Pointer"),uT.forEach(a),Hm=e(Sn,"로 변환한 후, 이를 다시 "),ni=o(Sn,"CODE",{});var iT=l(ni);Bm=e(iT,"reflect.SliceHeader"),iT.forEach(a),Lm=e(Sn,"의 포인터로 변환한다. 이후 "),si=o(Sn,"CODE",{});var rT=l(si);Nm=e(rT,"Len"),rT.forEach(a),Mm=e(Sn,", "),ai=o(Sn,"CODE",{});var kT=l(ai);Im=e(kT,"Cap"),kT.forEach(a),Gm=e(Sn," 필드에 접근할 수 있다."),Sn.forEach(a),F1=r(n),we=o(n,"P",{});var fT=l(we);Am=e(fT,"slice 또한 각 원소에 대해 이터레이션이 가능하다."),fT.forEach(a),x1=r(n),wt=o(n,"PRE",{class:!0});var oF=l(wt);oF.forEach(a),H1=r(n),w=o(n,"P",{});var z=l(w);ti=o(z,"CODE",{});var dT=l(ti);Km=e(dT,"int"),dT.forEach(a),Um=e(z,"의 크기는 32비트 또는 64비트이기 때문에, 반드시 "),ei=o(z,"CODE",{});var ET=l(ei);$m=e(ET,"unsafe.Sizeof()"),ET.forEach(a),Wm=e(z," 함수로 "),pi=o(z,"CODE",{});var vT=l(pi);qm=e(vT,"Data"),vT.forEach(a),zm=e(z,` 필드의 각 값이 몇 바이트인지 확인해야 한다.
이후 그 크기만큼 `),oi=o(z,"CODE",{});var _T=l(oi);Jm=e(_T,"uintptr"),_T.forEach(a),Zm=e(z,"로 변환한 "),li=o(z,"CODE",{});var mT=l(li);Xm=e(mT,"i"),mT.forEach(a),Qm=e(z,"를 곱하면 "),ci=o(z,"CODE",{});var bT=l(ci);jm=e(bT,"Data"),bT.forEach(a),Ym=e(z,` 필드의 각 데이터의 접근할 수 있다.
마지막으로 `),ui=o(z,"CODE",{});var CT=l(ui);hm=e(CT,"int"),CT.forEach(a),gm=e(z," 포인터로 변환해주고 dereference하면 값을 얻을 수 있다."),z.forEach(a),B1=r(n),L1=o(n,"BR",{}),N1=o(n,"BR",{}),M1=r(n),pa=o(n,"H3",{id:!0});var _y=l(pa);oa=o(_y,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var yT=l(oa);ii=o(yT,"SPAN",{class:!0}),l(ii).forEach(a),yT.forEach(a),nb=e(_y,"unsafe Tools"),_y.forEach(a),I1=r(n),nn=o(n,"P",{});var ps=l(nn);sb=e(ps,"실행 명령어에 "),ri=o(ps,"CODE",{});var OT=l(ri);ab=e(OT,"-gcflags=-d=checkptr"),OT.forEach(a),tb=e(ps," 플래그를 붙이면 잘못 사용된 "),ki=o(ps,"CODE",{});var DT=l(ki);eb=e(DT,"unsafe.Pointer"),DT.forEach(a),pb=e(ps,"나 "),fi=o(ps,"CODE",{});var wT=l(fi);ob=e(wT,"uintptr"),wT.forEach(a),lb=e(ps,`를 찾을 수 있다.
이 플래그는 Race Checker처럼 모든 `),di=o(ps,"CODE",{});var PT=l(di);cb=e(PT,"unsafe"),PT.forEach(a),ub=e(ps," 문제를 찾을 수 있는 것은 아니고 프로그램의 속도를 느리게 만들지만, 테스트 단계에서는 붙이는 것이 좋다."),ps.forEach(a),G1=r(n),Pe=o(n,"P",{});var RT=l(Pe);ib=e(RT,"unsafe는 유용한 로우 레벨 패키지이지만, 지금 무엇을 필요로 하는지 잘 모르거나 성능 향상이 필요한 게 아니라면 사용하지 않는 것이 좋다."),RT.forEach(a),A1=r(n),la=o(n,"P",{});var Z2=l(la);rb=e(Z2,"unsafe에 대해 더 알고싶다면 "),Pt=o(Z2,"A",{href:!0,rel:!0});var TT=l(Pt);kb=e(TT,"패키지 문서"),TT.forEach(a),fb=e(Z2,"를 참조해 보자."),Z2.forEach(a),K1=r(n),U1=o(n,"BR",{}),$1=o(n,"BR",{}),W1=r(n),ca=o(n,"H2",{id:!0});var my=l(ca);ua=o(my,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var VT=l(ua);Ei=o(VT,"SPAN",{class:!0}),l(Ei).forEach(a),VT.forEach(a),db=e(my,"Cgo"),my.forEach(a),q1=r(n),z1=o(n,"HR",{}),J1=r(n),zn=o(n,"P",{});var Ue=l(zn);Eb=e(Ue,"reflection이나 "),vi=o(Ue,"CODE",{});var ST=l(vi);vb=e(ST,"unsafe"),ST.forEach(a),_b=e(Ue,"와 마찬가지로, "),_i=o(Ue,"CODE",{});var FT=l(_i);mb=e(FT,"cgo"),FT.forEach(a),bb=e(Ue,"는 Go 프로그램과 외부 세계의 경계, 그 중 C 라이브러리와의 integration을 할 때 가장 유용하다."),Ue.forEach(a),Z1=r(n),Jn=o(n,"P",{});var $e=l(Jn);Cb=e($e,"C는 매우 오래 된 언어임에도 불구하고, 프로그래밍 언어의 "),mF(ia.$$.fragment,$e),yb=e($e,`로 자리잡고 있다. 거의 운영체제가 C나 C++로 작성되며, 이에 포함된 라이브러리들도 C로 작성되었다.
따라서 거의 모든 언어가 C 라이브러리와 통합하는 방법을 제공한다. Go에서는 C에 대한 Foreign Function Interface(FFI)를 `),mi=o($e,"CODE",{});var xT=l(mi);Ob=e(xT,"cgo"),xT.forEach(a),Db=e($e,"라고 이름붙였다."),$e.forEach(a),X1=r(n),ra=o(n,"P",{});var X2=l(ra);wb=e(X2,"Go는 명시적인 것을 지향하는 언어이지만, "),bi=o(X2,"CODE",{});var HT=l(bi);Pb=e(HT,"cgo"),HT.forEach(a),Rb=e(X2,"는 뭔가 자동으로 알아서 해주는 느낌이 강하다. 직접 예제를 보자."),X2.forEach(a),Q1=r(n),Rt=o(n,"PRE",{class:!0});var lF=l(Rt);lF.forEach(a),j1=r(n),Cn=o(n,"P",{});var Ra=l(Cn);Tb=e(Ra,"일단, "),Ci=o(Ra,"CODE",{});var BT=l(Ci);Vb=e(BT,"/**/"),BT.forEach(a),Sb=e(Ra,"로 묶인 주석이 "),yi=o(Ra,"STRONG",{});var LT=l(yi);Fb=e(LT,"반드시"),LT.forEach(a),xb=e(Ra," 필요하며, 주석과 "),Oi=o(Ra,"CODE",{});var NT=l(Oi);Hb=e(NT,'import "C"'),NT.forEach(a),Bb=e(Ra," 사이에는 빈 줄이 없어야 한다. 이 빈 줄때문에 컴파일이 안돼서 한참 찾았다.."),Ra.forEach(a),Y1=r(n),yn=o(n,"P",{});var Ta=l(yn);Lb=e(Ta,"위 "),Di=o(Ta,"CODE",{});var MT=l(Di);Nb=e(MT,"main.go"),MT.forEach(a),Mb=e(Ta," 파일과 같은 폴더 안에 각각 "),wi=o(Ta,"CODE",{});var IT=l(wi);Ib=e(IT,"mylib.h"),IT.forEach(a),Gb=e(Ta,", "),Pi=o(Ta,"CODE",{});var GT=l(Pi);Ab=e(GT,"mylib.c"),GT.forEach(a),Kb=e(Ta,"을 생성하여 다음과 같이 작성해준다."),Ta.forEach(a),h1=r(n),Tt=o(n,"PRE",{class:!0});var cF=l(Tt);cF.forEach(a),g1=r(n),Vt=o(n,"PRE",{class:!0});var uF=l(Vt);uF.forEach(a),n2=r(n),ka=o(n,"P",{});var Q2=l(ka);Ub=e(Q2,"그러고 나서 "),Ri=o(Q2,"CODE",{});var AT=l(Ri);$b=e(AT,"go build"),AT.forEach(a),Wb=e(Q2," 명령어로 컴파일하여 생성된 파일을 실행하면 다음과 같은 결과를 얻을 수 있을 것이다."),Q2.forEach(a),s2=r(n),St=o(n,"PRE",{class:!0});var iF=l(St);iF.forEach(a),a2=r(n),v=o(n,"P",{});var y=l(v);qb=e(y,"우선 "),Ti=o(y,"CODE",{});var KT=l(Ti);zb=e(KT,"C"),KT.forEach(a),Jb=e(y,`라는 패키지는 실존하는 표준 라이브러리가 아니다!
`),Vi=o(y,"CODE",{});var UT=l(Vi);Zb=e(UT,"C"),UT.forEach(a),Xb=e(y,"는 자동으로 생성되는 패키지이며, "),Si=o(y,"CODE",{});var $T=l(Si);Qb=e($T,'import "C"'),$T.forEach(a),jb=e(y,` 위에 명시된 주석에 내장된 C 코드에서 대부분의 식별자가 정의된다.
예제의 주석에서는 `),Fi=o(y,"CODE",{});var WT=l(Fi);Yb=e(WT,"add()"),WT.forEach(a),hb=e(y," 함수를 선언하였고, "),xi=o(y,"CODE",{});var qT=l(xi);gb=e(qT,"C.add()"),qT.forEach(a),nC=e(y,`로 그 함수를 불러와서 호출하였다.
또한 주석 블록 안에서 import된 다른 함수나 전역변수 등도 불러올 수 있다. 이를테면 `),Hi=o(y,"CODE",{});var zT=l(Hi);sC=e(zT,"math.h"),zT.forEach(a),aC=e(y,"에서 불러온 "),Bi=o(y,"CODE",{});var JT=l(Bi);tC=e(JT,"C.sqr()"),JT.forEach(a),eC=e(y,"나 "),Li=o(y,"CODE",{});var ZT=l(Li);pC=e(ZT,"mylib.h"),ZT.forEach(a),oC=e(y,"에서 불러온 "),Ni=o(y,"CODE",{});var XT=l(Ni);lC=e(XT,"C.multiply()"),XT.forEach(a),cC=e(y,"처럼 말이다."),y.forEach(a),t2=r(n),sn=o(n,"P",{});var os=l(sn);uC=e(os,"이뿐 아니라 "),Mi=o(os,"CODE",{});var QT=l(Mi);iC=e(QT,"C"),QT.forEach(a),rC=e(os," 패키지에서는 C 내장 타입을 나타내기 위한 "),Ii=o(os,"CODE",{});var jT=l(Ii);kC=e(jT,"C.int"),jT.forEach(a),fC=e(os,"나 "),Gi=o(os,"CODE",{});var YT=l(Gi);dC=e(YT,"C.char"),YT.forEach(a),EC=e(os," 타입 등도 정의하고 있으며, Go의 문자열을 C의 문자열로 변환하기 위한 "),Ai=o(os,"CODE",{});var hT=l(Ai);vC=e(hT,"C.Cstring"),hT.forEach(a),_C=e(os," 함수도 있다."),os.forEach(a),e2=r(n),p2=o(n,"BR",{}),o2=r(n),Zn=o(n,"P",{});var We=l(Zn);mC=e(We,"더 신기한 일도 가능하다. 이번에는 Go의 함수를 C로 export할 건데, Go의 함수 앞에 "),Ki=o(We,"CODE",{});var gT=l(Ki);bC=e(gT,"//export"),gT.forEach(a),CC=e(We," 주석을 붙이면 할 수 있다. 먼저 "),Ui=o(We,"CODE",{});var nV=l(Ui);yC=e(nV,"main.go"),nV.forEach(a),OC=e(We,"의 소스코드를 작성한다."),We.forEach(a),l2=r(n),Ft=o(n,"PRE",{class:!0});var rF=l(Ft);rF.forEach(a),c2=r(n),Xn=o(n,"P",{});var qe=l(Xn);DC=e(qe,"이제 "),$i=o(qe,"CODE",{});var sV=l($i);wC=e(sV,"main.go"),sV.forEach(a),PC=e(qe,"와 동일한 디렉토리에 .c 파일을 생성하여 작성한다. 이 때 특수 헤더인 "),Wi=o(qe,"CODE",{});var aV=l(Wi);RC=e(aV,'"_cgo_export.h"'),aV.forEach(a),TC=e(qe,"를 include해야 한다."),qe.forEach(a),u2=r(n),xt=o(n,"PRE",{class:!0});var kF=l(xt);kF.forEach(a),i2=r(n),Re=o(n,"P",{});var tV=l(Re);VC=e(tV,"위 예제를 실행하면 다음과 같은 결과를 얻는다."),tV.forEach(a),r2=r(n),Ht=o(n,"PRE",{class:!0});var fF=l(Ht);fF.forEach(a),k2=r(n),f2=o(n,"BR",{}),d2=r(n),fa=o(n,"P",{});var j2=l(fa);SC=e(j2,"이렇듯 "),qi=o(j2,"CODE",{});var eV=l(qi);FC=e(eV,"cgo"),eV.forEach(a),xC=e(j2,`로 Go와 C의 함수를 상호 호출하는 것은 생각보다 간단하다.
하지만 Go는 가비지 컬렉터가 존재하지만 C에는 없다는 점 때문에, 대수롭지 않은 Go 코드라도 C와 통합되기가 생각보다 쉽지 않다. 그래서 포인터를 C 코드로 보낼 수는 있지만, 포인터를 포함하는 무언가를 보낼 수는 없다. 이러한 점 때문에 문자열, 슬라이스, 함수 등 포인터로 구현된 것들은 C로 보낼 수 없다.`),j2.forEach(a),E2=r(n),Te=o(n,"P",{});var pV=l(Te);HC=e(pV,"또한 C 함수가 반환되어도 Go 포인터의 복사본을 가지고 있으면 안된다. Go가 가비지 컬렉팅을 하고 나면 포인터가 이상한 메모리 주소를 가리키게 되기 때문에, 프로그램이 컴파일은 되더라도 런타임에 죽거나 이상하게 동작할 수도 있다."),pV.forEach(a),v2=r(n),Qn=o(n,"P",{});var ze=l(Qn);BC=e(ze,"다른 제약도 있다. "),zi=o(ze,"CODE",{});var oV=l(zi);LC=e(oV,"printf()"),oV.forEach(a),NC=e(ze,"와 같이 가변적인 함수를 호출하기 위해 "),Ji=o(ze,"CODE",{});var lV=l(Ji);MC=e(lV,"cgo"),lV.forEach(a),IC=e(ze,`를 사용하면 안된다.
C의 Union 타입은 바이트 어레이로 변환되며 C의 함수 포인터를 Go에서 호출할 수는 없지만, 변수에 저장해 두었다가 다시 C 함수로 전달할 수는 있다.`),ze.forEach(a),_2=r(n),jn=o(n,"P",{});var Je=l(jn);GC=e(Je,"이러한 규칙들 때문에 "),Zi=o(Je,"CODE",{});var cV=l(Zi);AC=e(cV,"cgo"),cV.forEach(a),KC=e(Je,`를 사용하기가 쉽지 않다.
만약 Python이나 Ruby에 익숙하다면 `),Xi=o(Je,"CODE",{});var uV=l(Xi);UC=e(uV,"cgo"),uV.forEach(a),$C=e(Je,"같은 접근이 성능 측면에서 굉장한 이점이 있을 것임을 알 것이다. 실제로 Python의 NumPy는 C로 작성되기도 했다."),Je.forEach(a),m2=r(n),da=o(n,"P",{});var Y2=l(da);WC=e(Y2,"하지만 Go는 파이썬이나 루비보다 훨씬 빠르다. 알고리즘을 로우 레벨에서 재작성할 필요가 크게 없다. 그리고 "),Qi=o(Y2,"CODE",{});var iV=l(Qi);qC=e(iV,"cgo"),iV.forEach(a),zC=e(Y2,"를 쓰더라도 성능 향상을 기대하기는 어렵다. C와 Go의 메모리 모델과 프로세싱 방법이 다르기 때문인데, Go에서 C 코드를 호출할 때 C에서 C 코드를 호출하는 것보다 대략 29배 느리다고 한다."),Y2.forEach(a),b2=r(n),Bt=o(n,"P",{});var by=l(Bt);ji=o(by,"CODE",{});var rV=l(ji);JC=e(rV,"cgo"),rV.forEach(a),ZC=e(by,`가 빠르지도 않고 사용하기도 쉽지 않지만, 사용하는 이유는 명확하다.
반드시 사용해야 하는 C 라이브러리가 있지만 대체할 Go 라이브러리는 없는 경우일 때이다.
만약 대체할 Go 라이브러리가 있다면, 웬만하면 그걸 쓰도록 하자.`),by.forEach(a),C2=r(n),y2=o(n,"BR",{}),O2=o(n,"BR",{}),D2=r(n),Ea=o(n,"H2",{id:!0});var Cy=l(Ea);va=o(Cy,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var kV=l(va);Yi=o(kV,"SPAN",{class:!0}),l(Yi).forEach(a),kV.forEach(a),XC=e(Cy,"References"),Cy.forEach(a),w2=r(n),P2=o(n,"HR",{}),R2=r(n),Ve=o(n,"CENTER",{});var fV=l(Ve);ks=o(fV,"P",{});var Ze=l(ks);Lt=o(Ze,"A",{href:!0,rel:!0});var dV=l(Lt);Se=o(dV,"IMG",{src:!0,alt:!0}),dV.forEach(a),QC=r(Ze),jC=o(Ze,"BR",{}),YC=r(Ze),Nt=o(Ze,"A",{href:!0,rel:!0});var EV=l(Nt);hC=e(EV,"Jon Bodner, 『Learning Go』, O’Reilly Media, Inc."),EV.forEach(a),Ze.forEach(a),fV.forEach(a),T2=r(n),V2=o(n,"BR",{}),S2=o(n,"BR",{}),this.h()},h(){k(Xe,"class","icon icon-link"),k(_s,"aria-hidden","true"),k(_s,"tabindex","-1"),k(_s,"href","#introduction"),k(vs,"id","introduction"),k(np,"class","icon icon-link"),k(Cs,"aria-hidden","true"),k(Cs,"tabindex","-1"),k(Cs,"href","#reflection"),k(bs,"id","reflection"),k(cp,"class","icon icon-link"),k(Ds,"aria-hidden","true"),k(Ds,"tabindex","-1"),k(Ds,"href","#types-kinds"),k(Os,"id","types-kinds"),k(Va,"class","language-go"),k(Sa,"class","language-text"),k(Fa,"class","language-go"),k(xa,"class","language-text"),k(Ha,"class","language-go"),k(Ba,"class","language-text"),k(La,"class","language-go"),k(Na,"class","language-text"),k(Ma,"href","https://pkg.go.dev/reflect#Type"),k(Ma,"rel","nofollow"),k(mo,"class","icon icon-link"),k(Ts,"aria-hidden","true"),k(Ts,"tabindex","-1"),k(Ts,"href","#values"),k(Rs,"id","values"),k(Ia,"class","language-go"),k(Ga,"class","language-go"),k(Aa,"class","language-go"),k(Ka,"class","language-go"),k(Ua,"class","language-go"),k($a,"class","language-go"),k(Wa,"class","language-go"),k(tl,"class","icon icon-link"),k(Fs,"aria-hidden","true"),k(Fs,"tabindex","-1"),k(Fs,"href","#making-new-values"),k(Ss,"id","making-new-values"),k(qa,"class","language-go"),k(za,"class","language-go"),k(Ja,"class","language-go"),k(Za,"class","language-text"),k(Nl,"class","icon icon-link"),k(Bs,"aria-hidden","true"),k(Bs,"tabindex","-1"),k(Bs,"href","#use-reflection-to-check-if-an-interfaces-value-is-nil"),k(Hs,"id","use-reflection-to-check-if-an-interfaces-value-is-nil"),k(Xa,"class","language-go"),k(Ql,"class","icon icon-link"),k(Ns,"aria-hidden","true"),k(Ns,"tabindex","-1"),k(Ns,"href","#use-reflection-to-write-a-data-marshaler"),k(Ls,"id","use-reflection-to-write-a-data-marshaler"),k(Qa,"class","language-go"),k(ja,"class","language-go"),k(Ya,"class","language-go"),k(ga,"class","language-go"),k(nt,"class","language-go"),k(st,"class","language-go"),k(tt,"class","language-go"),k(et,"class","language-go"),k(pt,"href","https://go.dev/play/p/3kwe7ag1i1C"),k(pt,"rel","nofollow"),k(wc,"class","icon icon-link"),k(qs,"aria-hidden","true"),k(qs,"tabindex","-1"),k(qs,"href","#build-functions-with-reflection-to-automate-repetitive-tasks"),k(Ws,"id","build-functions-with-reflection-to-automate-repetitive-tasks"),k(ot,"class","language-go"),k(lt,"class","language-go"),k(Fc,"class","icon icon-link"),k(Js,"aria-hidden","true"),k(Js,"tabindex","-1"),k(Js,"href","#what-you-shouldnt-do-with-reflection"),k(zs,"id","what-you-shouldnt-do-with-reflection"),k(Nc,"class","icon icon-link"),k(Xs,"aria-hidden","true"),k(Xs,"tabindex","-1"),k(Xs,"href","#only-use-reflection-if-its-worthwhile"),k(Zs,"id","only-use-reflection-if-its-worthwhile"),k(ct,"class","language-go"),k(ut,"class","language-go"),k(it,"class","language-go"),k(rt,"class","language-text"),k(Kc,"class","icon icon-link"),k(js,"aria-hidden","true"),k(js,"tabindex","-1"),k(js,"href","#unsafe-is-unsafe"),k(Qs,"id","unsafe-is-unsafe"),k(tu,"class","icon icon-link"),k(hs,"aria-hidden","true"),k(hs,"tabindex","-1"),k(hs,"href","#use-unsafe-to-convert-external-binary-data"),k(Ys,"id","use-unsafe-to-convert-external-binary-data"),k(kt,"class","language-go"),k(ft,"class","language-go"),k(dt,"class","language-go"),k(Et,"class","language-go"),k(vt,"class","language-go"),k(_t,"class","language-go"),k(mt,"class","language-go"),k(bt,"class","language-text"),k(Su,"class","icon icon-link"),k(ea,"aria-hidden","true"),k(ea,"tabindex","-1"),k(ea,"href","#unsafe-strings-and-slices"),k(ta,"id","unsafe-strings-and-slices"),k(yt,"class","language-go"),k(Ot,"class","language-go"),k(Dt,"class","language-go"),k(wt,"class","language-go"),k(ii,"class","icon icon-link"),k(oa,"aria-hidden","true"),k(oa,"tabindex","-1"),k(oa,"href","#unsafe-tools"),k(pa,"id","unsafe-tools"),k(Pt,"href","https://pkg.go.dev/unsafe"),k(Pt,"rel","nofollow"),k(Ei,"class","icon icon-link"),k(ua,"aria-hidden","true"),k(ua,"tabindex","-1"),k(ua,"href","#cgo"),k(ca,"id","cgo"),k(Rt,"class","language-go"),k(Tt,"class","language-c"),k(Vt,"class","language-c"),k(St,"class","language-text"),k(Ft,"class","language-go"),k(xt,"class","language-c"),k(Ht,"class","language-text"),k(Yi,"class","icon icon-link"),k(va,"aria-hidden","true"),k(va,"tabindex","-1"),k(va,"href","#references"),k(Ea,"id","references"),bF(Se.src,yy="https://learning.oreilly.com/covers/urn:orm:book:9781492077206/400w/")||k(Se,"src",yy),k(Se,"alt","Learning Go Book Cover"),k(Lt,"href","https://learning.oreilly.com/library/view/learning-go/9781492077206/"),k(Lt,"rel","nofollow"),k(Nt,"href","https://learning.oreilly.com/library/view/learning-go/9781492077206/"),k(Nt,"rel","nofollow")},m(n,c){u(n,an,c),u(n,ds,c),u(n,un,c),s(un,Es),u(n,tr,c),u(n,er,c),u(n,pr,c),u(n,or,c),u(n,vs,c),s(vs,_s),s(_s,Xe),s(vs,g2),u(n,lr,c),u(n,cr,c),u(n,ur,c),u(n,Kt,c),s(Kt,nE),u(n,ir,c),u(n,rn,c),s(rn,sE),s(rn,Qe),s(Qe,aE),s(rn,tE),s(rn,je),s(je,eE),s(rn,pE),s(rn,Ye),s(Ye,oE),s(rn,lE),u(n,rr,c),u(n,Ut,c),s(Ut,cE),u(n,kr,c),u(n,ms,c),s(ms,he),s(he,uE),s(ms,iE),s(ms,ge),s(ge,rE),u(n,fr,c),u(n,dr,c),u(n,Er,c),u(n,vr,c),u(n,bs,c),s(bs,Cs),s(Cs,np),s(bs,kE),u(n,_r,c),u(n,mr,c),u(n,br,c),u(n,$t,c),s($t,fE),u(n,Cr,c),u(n,Wt,c),s(Wt,dE),u(n,yr,c),u(n,qt,c),s(qt,EE),u(n,Or,c),u(n,J,c),s(J,zt),s(zt,sp),s(sp,vE),s(zt,_E),s(J,mE),s(J,ls),s(ls,bE),s(ls,ap),s(ap,CE),s(ls,yE),s(ls,tp),s(tp,OE),s(ls,DE),s(J,wE),s(J,ys),s(ys,ep),s(ep,PE),s(ys,RE),s(ys,pp),s(pp,TE),s(ys,VE),s(J,SE),s(J,Jt),s(Jt,op),s(op,FE),s(Jt,xE),s(J,HE),s(J,Zt),s(Zt,lp),s(lp,BE),s(Zt,LE),u(n,Dr,c),u(n,Xt,c),s(Xt,NE),u(n,wr,c),u(n,Pr,c),u(n,Rr,c),u(n,Tr,c),u(n,Os,c),s(Os,Ds),s(Ds,cp),s(Os,ME),u(n,Vr,c),u(n,Z,c),s(Z,IE),s(Z,up),s(up,GE),s(Z,AE),s(Z,ip),s(ip,KE),s(Z,UE),s(Z,rp),s(rp,$E),s(Z,WE),s(Z,kp),s(kp,qE),s(Z,zE),u(n,Sr,c),u(n,ws,c),s(ws,JE),s(ws,fp),s(fp,ZE),s(ws,XE),u(n,Fr,c),u(n,xr,c),u(n,Hr,c),u(n,Va,c),Va.innerHTML=vV,u(n,Br,c),u(n,Qt,c),s(Qt,QE),u(n,Lr,c),u(n,Sa,c),Sa.innerHTML=_V,u(n,Nr,c),u(n,x,c),s(x,jE),s(x,dp),s(dp,YE),s(x,hE),s(x,Ep),s(Ep,gE),s(x,nv),s(x,vp),s(vp,sv),s(x,av),s(x,_p),s(_p,tv),s(x,ev),s(x,mp),s(mp,pv),s(x,ov),u(n,Mr,c),u(n,Fn,c),s(Fn,bp),s(bp,lv),s(Fn,cv),s(Fn,Cp),s(Cp,uv),s(Fn,iv),s(Fn,yp),s(yp,rv),s(Fn,kv),u(n,Ir,c),u(n,_,c),s(_,Op),s(Op,fv),s(_,dv),s(_,Dp),s(Dp,Ev),s(_,vv),s(_,wp),s(wp,_v),s(_,mv),s(_,Pp),s(Pp,bv),s(_,Cv),s(_,Rp),s(Rp,yv),s(_,Ov),s(_,Tp),s(Tp,Dv),s(_,wv),s(_,Vp),s(Vp,Pv),s(_,Rv),s(_,Sp),s(Sp,Tv),s(_,Vv),s(_,Fp),s(Fp,Sv),s(_,Fv),u(n,Gr,c),u(n,kn,c),s(kn,xv),s(kn,xp),s(xp,Hv),s(kn,Bv),s(kn,Hp),s(Hp,Lv),s(kn,Nv),s(kn,Bp),s(Bp,Mv),s(kn,Iv),u(n,Ar,c),u(n,H,c),s(H,Gv),s(H,Lp),s(Lp,Av),s(H,Kv),s(H,Np),s(Np,Uv),s(H,$v),s(H,Mp),s(Mp,Wv),s(H,qv),s(H,Ip),s(Ip,zv),s(H,Jv),s(H,Gp),s(Gp,Zv),s(H,Xv),u(n,Kr,c),u(n,Ps,c),s(Ps,Qv),s(Ps,Ap),s(Ap,jv),s(Ps,Yv),u(n,Ur,c),u(n,Fa,c),Fa.innerHTML=mV,u(n,$r,c),u(n,jt,c),s(jt,hv),u(n,Wr,c),u(n,xa,c),xa.innerHTML=bV,u(n,qr,c),u(n,zr,c),u(n,Jr,c),u(n,R,c),s(R,Kp),s(Kp,gv),s(R,n3),s(R,Up),s(Up,s3),s(R,a3),s(R,$p),s($p,t3),s(R,e3),s(R,Wp),s(Wp,p3),s(R,o3),s(R,qp),s(qp,l3),s(R,c3),s(R,zp),s(zp,u3),s(R,i3),u(n,Zr,c),u(n,Ha,c),Ha.innerHTML=CV,u(n,Xr,c),u(n,Yt,c),s(Yt,r3),u(n,Qr,c),u(n,Ba,c),Ba.innerHTML=yV,u(n,jr,c),u(n,E,c),s(E,k3),s(E,Jp),s(Jp,f3),s(E,d3),s(E,Zp),s(Zp,E3),s(E,v3),s(E,Xp),s(Xp,_3),s(E,m3),s(E,Qp),s(Qp,b3),s(E,C3),s(E,jp),s(jp,y3),s(E,O3),s(E,Yp),s(Yp,D3),s(E,w3),s(E,hp),s(hp,P3),s(E,R3),s(E,gp),s(gp,T3),s(E,V3),s(E,no),s(no,S3),s(E,F3),u(n,Yr,c),u(n,hr,c),u(n,gr,c),u(n,T,c),s(T,so),s(so,x3),s(T,H3),s(T,ao),s(ao,B3),s(T,L3),s(T,to),s(to,N3),s(T,M3),s(T,eo),s(eo,I3),s(T,G3),s(T,po),s(po,A3),s(T,K3),s(T,oo),s(oo,U3),s(T,$3),u(n,nk,c),u(n,La,c),La.innerHTML=OV,u(n,sk,c),u(n,V,c),s(V,lo),s(lo,W3),s(V,q3),s(V,co),s(co,z3),s(V,J3),s(V,uo),s(uo,Z3),s(V,X3),s(V,io),s(io,Q3),s(V,j3),s(V,ro),s(ro,Y3),s(V,h3),s(V,ko),s(ko,g3),s(V,n_),u(n,ak,c),u(n,ht,c),s(ht,s_),u(n,tk,c),u(n,Na,c),Na.innerHTML=DV,u(n,ek,c),u(n,fn,c),s(fn,a_),s(fn,fo),s(fo,t_),s(fn,e_),s(fn,Eo),s(Eo,p_),s(fn,o_),s(fn,vo),s(vo,l_),s(fn,c_),u(n,pk,c),u(n,ok,c),u(n,lk,c),u(n,cs,c),s(cs,_o),s(_o,u_),s(cs,i_),s(cs,Ma),s(Ma,r_),s(cs,k_),u(n,ck,c),u(n,uk,c),u(n,ik,c),u(n,rk,c),u(n,Rs,c),s(Rs,Ts),s(Ts,mo),s(Rs,f_),u(n,kk,c),u(n,Mn,c),s(Mn,d_),s(Mn,bo),s(bo,E_),s(Mn,v_),s(Mn,Co),s(Co,__),s(Mn,m_),u(n,fk,c),u(n,Ia,c),Ia.innerHTML=wV,u(n,dk,c),u(n,B,c),s(B,b_),s(B,yo),s(yo,C_),s(B,y_),s(B,Oo),s(Oo,O_),s(B,D_),s(B,Do),s(Do,w_),s(B,P_),s(B,wo),s(wo,R_),s(B,T_),s(B,Po),s(Po,V_),s(B,S_),u(n,Ek,c),u(n,xn,c),s(xn,Ro),s(Ro,F_),s(xn,x_),s(xn,To),s(To,H_),s(xn,B_),s(xn,Vo),s(Vo,L_),s(xn,N_),u(n,vk,c),u(n,_k,c),u(n,mk,c),u(n,dn,c),s(dn,M_),s(dn,So),s(So,I_),s(dn,G_),s(dn,Fo),s(Fo,A_),s(dn,K_),s(dn,xo),s(xo,U_),s(dn,$_),u(n,bk,c),u(n,Ga,c),Ga.innerHTML=PV,u(n,Ck,c),u(n,S,c),s(S,Ho),s(Ho,W_),s(S,q_),s(S,Bo),s(Bo,z_),s(S,J_),s(S,Lo),s(Lo,Z_),s(S,X_),s(S,No),s(No,Q_),s(S,j_),s(S,Mo),s(Mo,Y_),s(S,h_),s(S,Io),s(Io,g_),s(S,n5),u(n,yk,c),u(n,Ok,c),u(n,Dk,c),u(n,gt,c),s(gt,s5),u(n,wk,c),u(n,In,c),s(In,a5),s(In,Go),s(Go,t5),s(In,e5),s(In,Ao),s(Ao,p5),s(In,o5),u(n,Pk,c),u(n,Aa,c),Aa.innerHTML=RV,u(n,Rk,c),u(n,m,c),s(m,l5),s(m,Ko),s(Ko,c5),s(m,u5),s(m,Uo),s(Uo,i5),s(m,r5),s(m,$o),s($o,k5),s(m,f5),s(m,Wo),s(Wo,d5),s(m,E5),s(m,qo),s(qo,v5),s(m,_5),s(m,zo),s(zo,m5),s(m,b5),s(m,Jo),s(Jo,C5),s(m,y5),u(n,Tk,c),u(n,Ka,c),Ka.innerHTML=TV,u(n,Vk,c),u(n,L,c),s(L,O5),s(L,Zo),s(Zo,D5),s(L,w5),s(L,Xo),s(Xo,P5),s(L,R5),s(L,Qo),s(Qo,T5),s(L,V5),s(L,jo),s(jo,S5),s(L,F5),s(L,Yo),s(Yo,x5),s(L,H5),u(n,Sk,c),u(n,Ua,c),Ua.innerHTML=VV,u(n,Fk,c),u(n,X,c),s(X,B5),s(X,ho),s(ho,L5),s(X,N5),s(X,go),s(go,M5),s(X,I5),s(X,nl),s(nl,G5),s(X,A5),s(X,sl),s(sl,K5),s(X,U5),u(n,xk,c),u(n,Vs,c),s(Vs,$5),s(Vs,al),s(al,W5),s(Vs,q5),u(n,Hk,c),u(n,$a,c),$a.innerHTML=SV,u(n,Bk,c),u(n,ne,c),s(ne,z5),u(n,Lk,c),u(n,Wa,c),Wa.innerHTML=FV,u(n,Nk,c),u(n,Mk,c),u(n,Ik,c),u(n,Gk,c),u(n,Ss,c),s(Ss,Fs),s(Fs,tl),s(Ss,J5),u(n,Ak,c),u(n,b,c),s(b,Z5),s(b,el),s(el,X5),s(b,Q5),s(b,pl),s(pl,j5),s(b,Y5),s(b,ol),s(ol,h5),s(b,g5),s(b,ll),s(ll,n4),s(b,s4),s(b,cl),s(cl,a4),s(b,t4),s(b,ul),s(ul,e4),s(b,p4),s(b,il),s(il,o4),s(b,l4),u(n,Kk,c),u(n,us,c),s(us,rl),s(rl,c4),s(us,u4),s(us,kl),s(kl,i4),s(us,r4),u(n,Uk,c),u(n,qa,c),qa.innerHTML=xV,u(n,$k,c),u(n,xs,c),s(xs,k4),s(xs,fl),s(fl,f4),s(xs,d4),u(n,Wk,c),u(n,qk,c),u(n,zk,c),u(n,is,c),s(is,dl),s(dl,E4),s(is,v4),s(is,El),s(El,_4),s(is,m4),u(n,Jk,c),u(n,za,c),za.innerHTML=HV,u(n,Zk,c),u(n,f,c),s(f,b4),s(f,vl),s(vl,C4),s(f,y4),s(f,_l),s(_l,O4),s(f,D4),s(f,ml),s(ml,w4),s(f,P4),s(f,bl),s(bl,R4),s(f,T4),s(f,Cl),s(Cl,V4),s(f,S4),s(f,yl),s(yl,F4),s(f,x4),s(f,Ol),s(Ol,H4),s(f,B4),s(f,Dl),s(Dl,L4),s(f,N4),s(f,wl),s(wl,M4),s(f,I4),s(f,Pl),s(Pl,G4),s(f,A4),s(f,Rl),s(Rl,K4),s(f,U4),s(f,Tl),s(Tl,$4),s(f,W4),s(f,Vl),s(Vl,q4),s(f,z4),s(f,Sl),s(Sl,J4),s(f,Z4),s(f,Fl),s(Fl,X4),s(f,Q4),u(n,Xk,c),u(n,Q,c),s(Q,j4),s(Q,xl),s(xl,Y4),s(Q,h4),s(Q,Hl),s(Hl,g4),s(Q,n6),s(Q,Bl),s(Bl,s6),s(Q,a6),s(Q,Ll),s(Ll,t6),s(Q,e6),u(n,Qk,c),u(n,Ja,c),Ja.innerHTML=BV,u(n,jk,c),u(n,se,c),s(se,p6),u(n,Yk,c),u(n,Za,c),Za.innerHTML=LV,u(n,hk,c),u(n,gk,c),u(n,nf,c),u(n,sf,c),u(n,Hs,c),s(Hs,Bs),s(Bs,Nl),s(Hs,o6),u(n,af,c),u(n,Gn,c),s(Gn,l6),s(Gn,Ml),s(Ml,c6),s(Gn,u6),s(Gn,Il),s(Il,i6),s(Gn,r6),u(n,tf,c),u(n,Xa,c),Xa.innerHTML=NV,u(n,ef,c),u(n,F,c),s(F,Gl),s(Gl,k6),s(F,f6),s(F,Al),s(Al,d6),s(F,E6),s(F,Kl),s(Kl,v6),s(F,_6),s(F,Ul),s(Ul,m6),s(F,b6),s(F,$l),s($l,C6),s(F,y6),s(F,Wl),s(Wl,O6),s(F,D6),u(n,pf,c),u(n,U,c),s(U,ql),s(ql,w6),s(U,P6),s(U,zl),s(zl,R6),s(U,T6),s(U,Jl),s(Jl,V6),s(U,S6),s(U,Zl),s(Zl,F6),s(U,x6),s(U,Xl),s(Xl,H6),s(U,B6),u(n,of,c),u(n,lf,c),u(n,cf,c),u(n,uf,c),u(n,Ls,c),s(Ls,Ns),s(Ns,Ql),s(Ls,L6),u(n,rf,c),u(n,ae,c),s(ae,N6),u(n,kf,c),u(n,An,c),s(An,M6),s(An,jl),s(jl,I6),s(An,G6),s(An,Yl),s(Yl,A6),s(An,K6),u(n,ff,c),u(n,df,c),u(n,Ef,c),u(n,te,c),s(te,U6),u(n,vf,c),u(n,Qa,c),Qa.innerHTML=MV,u(n,_f,c),u(n,ee,c),s(ee,$6),u(n,mf,c),u(n,ja,c),ja.innerHTML=IV,u(n,bf,c),u(n,Ms,c),s(Ms,W6),s(Ms,hl),s(hl,q6),s(Ms,z6),u(n,Cf,c),u(n,Ya,c),Ya.innerHTML=GV,u(n,yf,c),u(n,Is,c),s(Is,J6),s(Is,gl),s(gl,Z6),s(Is,X6),u(n,Of,c),u(n,N,c),s(N,Q6),s(N,nc),s(nc,j6),s(N,Y6),s(N,sc),s(sc,h6),s(N,g6),s(N,ac),s(ac,n9),s(N,s9),s(N,tc),s(tc,a9),s(N,t9),s(N,ec),s(ec,e9),s(N,p9),u(n,Df,c),u(n,Kn,c),s(Kn,o9),s(Kn,pc),s(pc,l9),s(Kn,c9),s(Kn,oc),s(oc,u9),s(Kn,i9),u(n,wf,c),u(n,ha,c),s(ha,lc),s(lc,r9),s(ha,k9),u(n,Pf,c),u(n,ga,c),ga.innerHTML=AV,u(n,Rf,c),u(n,Un,c),s(Un,f9),s(Un,cc),s(cc,d9),s(Un,E9),s(Un,uc),s(uc,v9),s(Un,_9),u(n,Tf,c),u(n,Gs,c),s(Gs,m9),s(Gs,ic),s(ic,b9),s(Gs,C9),u(n,Vf,c),u(n,nt,c),nt.innerHTML=KV,u(n,Sf,c),u(n,$n,c),s($n,y9),s($n,rc),s(rc,O9),s($n,D9),s($n,kc),s(kc,w9),s($n,P9),u(n,Ff,c),u(n,xf,c),u(n,Hf,c),u(n,As,c),s(As,R9),s(As,fc),s(fc,T9),s(As,V9),u(n,Bf,c),u(n,st,c),st.innerHTML=UV,u(n,Lf,c),u(n,Ks,c),s(Ks,S9),s(Ks,dc),s(dc,F9),s(Ks,x9),u(n,Nf,c),u(n,Us,c),s(Us,H9),s(Us,Ec),s(Ec,B9),s(Us,L9),u(n,Mf,c),u(n,j,c),s(j,N9),s(j,vc),s(vc,M9),s(j,I9),s(j,_c),s(_c,G9),s(j,A9),s(j,mc),s(mc,K9),s(j,U9),s(j,bc),s(bc,$9),s(j,W9),u(n,If,c),u(n,at,c),s(at,Cc),s(Cc,q9),s(at,z9),u(n,Gf,c),u(n,tt,c),tt.innerHTML=$V,u(n,Af,c),u(n,En,c),s(En,J9),s(En,yc),s(yc,Z9),s(En,X9),s(En,Oc),s(Oc,Q9),s(En,j9),s(En,Dc),s(Dc,Y9),s(En,h9),u(n,Kf,c),u(n,Uf,c),u(n,$f,c),u(n,pe,c),s(pe,g9),u(n,Wf,c),u(n,et,c),et.innerHTML=WV,u(n,qf,c),u(n,zf,c),u(n,Jf,c),u(n,$s,c),s($s,n7),s($s,pt),s(pt,s7),s($s,a7),u(n,Zf,c),u(n,Xf,c),u(n,Qf,c),u(n,jf,c),u(n,Ws,c),s(Ws,qs),s(qs,wc),s(Ws,t7),u(n,Yf,c),u(n,oe,c),s(oe,e7),u(n,hf,c),u(n,ot,c),ot.innerHTML=qV,u(n,gf,c),u(n,M,c),s(M,p7),s(M,Pc),s(Pc,o7),s(M,l7),s(M,Rc),s(Rc,c7),s(M,u7),s(M,Tc),s(Tc,i7),s(M,r7),s(M,Vc),s(Vc,k7),s(M,f7),s(M,Sc),s(Sc,d7),s(M,E7),u(n,nd,c),u(n,le,c),s(le,v7),u(n,sd,c),u(n,lt,c),lt.innerHTML=zV,u(n,ad,c),u(n,ce,c),s(ce,_7),u(n,td,c),u(n,ue,c),s(ue,m7),u(n,ed,c),u(n,pd,c),u(n,od,c),u(n,ld,c),u(n,zs,c),s(zs,Js),s(Js,Fc),s(zs,b7),u(n,cd,c),u(n,tn,c),s(tn,xc),s(xc,C7),s(tn,y7),s(tn,Hc),s(Hc,O7),s(tn,D7),s(tn,Bc),s(Bc,w7),s(tn,P7),s(tn,Lc),s(Lc,R7),s(tn,T7),u(n,ud,c),u(n,ie,c),s(ie,V7),u(n,id,c),u(n,rd,c),u(n,kd,c),u(n,re,c),s(re,S7),u(n,fd,c),u(n,dd,c),u(n,Ed,c),u(n,vd,c),u(n,Zs,c),s(Zs,Xs),s(Xs,Nc),s(Zs,F7),u(n,_d,c),u(n,ke,c),s(ke,x7),u(n,md,c),u(n,Wn,c),s(Wn,H7),s(Wn,Mc),s(Mc,B7),s(Wn,L7),s(Wn,Ic),s(Ic,N7),s(Wn,M7),u(n,bd,c),u(n,ct,c),ct.innerHTML=JV,u(n,Cd,c),u(n,fe,c),s(fe,I7),u(n,yd,c),u(n,ut,c),ut.innerHTML=ZV,u(n,Od,c),u(n,de,c),s(de,G7),u(n,Dd,c),u(n,it,c),it.innerHTML=XV,u(n,wd,c),u(n,rs,c),s(rs,Gc),s(Gc,A7),s(rs,K7),s(rs,Ac),s(Ac,U7),s(rs,$7),u(n,Pd,c),u(n,rt,c),rt.innerHTML=QV,u(n,Rd,c),u(n,Ee,c),s(Ee,W7),u(n,Td,c),u(n,ve,c),s(ve,q7),u(n,Vd,c),u(n,Sd,c),u(n,Fd,c),u(n,xd,c),u(n,Qs,c),s(Qs,js),s(js,Kc),s(Qs,z7),u(n,Hd,c),u(n,Hn,c),s(Hn,Uc),s(Uc,J7),s(Hn,Z7),s(Hn,$c),s($c,X7),s(Hn,Q7),s(Hn,Wc),s(Wc,j7),s(Hn,Y7),u(n,Bd,c),u(n,vn,c),s(vn,h7),s(vn,qc),s(qc,g7),s(vn,n8),s(vn,zc),s(zc,s8),s(vn,a8),s(vn,Jc),s(Jc,t8),s(vn,e8),u(n,Ld,c),u(n,$,c),s($,Zc),s(Zc,p8),s($,o8),s($,Xc),s(Xc,l8),s($,c8),s($,Qc),s(Qc,u8),s($,i8),s($,jc),s(jc,r8),s($,k8),s($,Yc),s(Yc,f8),s($,d8),u(n,Nd,c),u(n,I,c),s(I,E8),s(I,hc),s(hc,v8),s(I,_8),s(I,gc),s(gc,m8),s(I,b8),s(I,nu),s(nu,C8),s(I,y8),s(I,su),s(su,O8),s(I,D8),s(I,au),s(au,w8),s(I,P8),u(n,Md,c),u(n,Id,c),u(n,Gd,c),u(n,Ad,c),u(n,Ys,c),s(Ys,hs),s(hs,tu),s(Ys,R8),u(n,Kd,c),u(n,Y,c),s(Y,T8),s(Y,eu),s(eu,V8),s(Y,S8),s(Y,pu),s(pu,F8),s(Y,x8),s(Y,ou),s(ou,H8),s(Y,B8),s(Y,lu),s(lu,L8),s(Y,N8),u(n,Ud,c),u(n,qn,c),s(qn,M8),s(qn,cu),s(cu,I8),s(qn,G8),s(qn,uu),s(uu,A8),s(qn,K8),u(n,$d,c),u(n,_n,c),s(_n,iu),s(iu,U8),s(_n,$8),s(_n,ru),s(ru,W8),s(_n,q8),s(_n,ku),s(ku,z8),s(_n,J8),s(_n,fu),s(fu,Z8),u(n,Wd,c),u(n,_e,c),s(_e,du),s(du,X8),u(n,qd,c),u(n,zd,c),u(n,Jd,c),u(n,me,c),s(me,Q8),u(n,Zd,c),u(n,kt,c),kt.innerHTML=jV,u(n,Xd,c),u(n,be,c),s(be,j8),u(n,Qd,c),u(n,ft,c),ft.innerHTML=YV,u(n,jd,c),u(n,gs,c),s(gs,Y8),s(gs,Eu),s(Eu,h8),s(gs,g8),u(n,Yd,c),u(n,dt,c),dt.innerHTML=hV,u(n,hd,c),u(n,na,c),s(na,n0),s(na,vu),s(vu,s0),s(na,a0),u(n,gd,c),u(n,Et,c),Et.innerHTML=gV,u(n,n1,c),u(n,h,c),s(h,t0),s(h,_u),s(_u,e0),s(h,p0),s(h,mu),s(mu,o0),s(h,l0),s(h,bu),s(bu,c0),s(h,u0),s(h,Cu),s(Cu,i0),s(h,r0),u(n,s1,c),u(n,Ce,c),s(Ce,k0),u(n,a1,c),u(n,vt,c),vt.innerHTML=nS,u(n,t1,c),u(n,Bn,c),s(Bn,yu),s(yu,f0),s(Bn,d0),s(Bn,Ou),s(Ou,E0),s(Bn,v0),s(Bn,Du),s(Du,_0),s(Bn,m0),u(n,e1,c),u(n,mn,c),s(mn,b0),s(mn,wu),s(wu,C0),s(mn,y0),s(mn,Pu),s(Pu,O0),s(mn,D0),s(mn,Ru),s(Ru,w0),s(mn,P0),u(n,p1,c),u(n,o1,c),u(n,l1,c),u(n,ye,c),s(ye,R0),u(n,c1,c),u(n,_t,c),_t.innerHTML=sS,u(n,u1,c),u(n,sa,c),s(sa,T0),s(sa,Tu),s(Tu,V0),s(sa,S0),u(n,i1,c),u(n,mt,c),mt.innerHTML=aS,u(n,r1,c),u(n,aa,c),s(aa,F0),s(aa,Vu),s(Vu,x0),s(aa,H0),u(n,k1,c),u(n,bt,c),bt.innerHTML=tS,u(n,f1,c),u(n,Oe,c),s(Oe,B0),u(n,d1,c),u(n,De,c),s(De,L0),u(n,E1,c),u(n,v1,c),u(n,_1,c),u(n,m1,c),u(n,ta,c),s(ta,ea),s(ea,Su),s(ta,N0),u(n,b1,c),u(n,Ct,c),s(Ct,Fu),s(Fu,M0),s(Ct,I0),u(n,C1,c),u(n,g,c),s(g,G0),s(g,xu),s(xu,A0),s(g,K0),s(g,Hu),s(Hu,U0),s(g,$0),s(g,Bu),s(Bu,W0),s(g,q0),s(g,Lu),s(Lu,z0),s(g,J0),u(n,y1,c),u(n,yt,c),yt.innerHTML=eS,u(n,O1,c),u(n,bn,c),s(bn,Z0),s(bn,Nu),s(Nu,X0),s(bn,Q0),s(bn,Mu),s(Mu,j0),s(bn,Y0),s(bn,Iu),s(Iu,h0),s(bn,g0),u(n,D1,c),u(n,Ot,c),Ot.innerHTML=pS,u(n,w1,c),u(n,O,c),s(O,Gu),s(Gu,nm),s(O,sm),s(O,Au),s(Au,am),s(O,tm),s(O,Ku),s(Ku,em),s(O,pm),s(O,Uu),s(Uu,om),s(O,lm),s(O,$u),s($u,cm),s(O,um),s(O,Wu),s(Wu,im),s(O,rm),s(O,qu),s(qu,km),s(O,fm),u(n,P1,c),u(n,R1,c),u(n,T1,c),u(n,D,c),s(D,zu),s(zu,dm),s(D,Em),s(D,Ju),s(Ju,vm),s(D,_m),s(D,Zu),s(Zu,mm),s(D,bm),s(D,Xu),s(Xu,Cm),s(D,ym),s(D,Qu),s(Qu,Om),s(D,Dm),s(D,ju),s(ju,wm),s(D,Pm),s(D,Yu),s(Yu,Rm),s(D,Tm),u(n,V1,c),u(n,Dt,c),Dt.innerHTML=oS,u(n,S1,c),u(n,G,c),s(G,Vm),s(G,hu),s(hu,Sm),s(G,Fm),s(G,gu),s(gu,xm),s(G,Hm),s(G,ni),s(ni,Bm),s(G,Lm),s(G,si),s(si,Nm),s(G,Mm),s(G,ai),s(ai,Im),s(G,Gm),u(n,F1,c),u(n,we,c),s(we,Am),u(n,x1,c),u(n,wt,c),wt.innerHTML=lS,u(n,H1,c),u(n,w,c),s(w,ti),s(ti,Km),s(w,Um),s(w,ei),s(ei,$m),s(w,Wm),s(w,pi),s(pi,qm),s(w,zm),s(w,oi),s(oi,Jm),s(w,Zm),s(w,li),s(li,Xm),s(w,Qm),s(w,ci),s(ci,jm),s(w,Ym),s(w,ui),s(ui,hm),s(w,gm),u(n,B1,c),u(n,L1,c),u(n,N1,c),u(n,M1,c),u(n,pa,c),s(pa,oa),s(oa,ii),s(pa,nb),u(n,I1,c),u(n,nn,c),s(nn,sb),s(nn,ri),s(ri,ab),s(nn,tb),s(nn,ki),s(ki,eb),s(nn,pb),s(nn,fi),s(fi,ob),s(nn,lb),s(nn,di),s(di,cb),s(nn,ub),u(n,G1,c),u(n,Pe,c),s(Pe,ib),u(n,A1,c),u(n,la,c),s(la,rb),s(la,Pt),s(Pt,kb),s(la,fb),u(n,K1,c),u(n,U1,c),u(n,$1,c),u(n,W1,c),u(n,ca,c),s(ca,ua),s(ua,Ei),s(ca,db),u(n,q1,c),u(n,z1,c),u(n,J1,c),u(n,zn,c),s(zn,Eb),s(zn,vi),s(vi,vb),s(zn,_b),s(zn,_i),s(_i,mb),s(zn,bb),u(n,Z1,c),u(n,Jn,c),s(Jn,Cb),CF(ia,Jn,null),s(Jn,yb),s(Jn,mi),s(mi,Ob),s(Jn,Db),u(n,X1,c),u(n,ra,c),s(ra,wb),s(ra,bi),s(bi,Pb),s(ra,Rb),u(n,Q1,c),u(n,Rt,c),Rt.innerHTML=cS,u(n,j1,c),u(n,Cn,c),s(Cn,Tb),s(Cn,Ci),s(Ci,Vb),s(Cn,Sb),s(Cn,yi),s(yi,Fb),s(Cn,xb),s(Cn,Oi),s(Oi,Hb),s(Cn,Bb),u(n,Y1,c),u(n,yn,c),s(yn,Lb),s(yn,Di),s(Di,Nb),s(yn,Mb),s(yn,wi),s(wi,Ib),s(yn,Gb),s(yn,Pi),s(Pi,Ab),s(yn,Kb),u(n,h1,c),u(n,Tt,c),Tt.innerHTML=uS,u(n,g1,c),u(n,Vt,c),Vt.innerHTML=iS,u(n,n2,c),u(n,ka,c),s(ka,Ub),s(ka,Ri),s(Ri,$b),s(ka,Wb),u(n,s2,c),u(n,St,c),St.innerHTML=rS,u(n,a2,c),u(n,v,c),s(v,qb),s(v,Ti),s(Ti,zb),s(v,Jb),s(v,Vi),s(Vi,Zb),s(v,Xb),s(v,Si),s(Si,Qb),s(v,jb),s(v,Fi),s(Fi,Yb),s(v,hb),s(v,xi),s(xi,gb),s(v,nC),s(v,Hi),s(Hi,sC),s(v,aC),s(v,Bi),s(Bi,tC),s(v,eC),s(v,Li),s(Li,pC),s(v,oC),s(v,Ni),s(Ni,lC),s(v,cC),u(n,t2,c),u(n,sn,c),s(sn,uC),s(sn,Mi),s(Mi,iC),s(sn,rC),s(sn,Ii),s(Ii,kC),s(sn,fC),s(sn,Gi),s(Gi,dC),s(sn,EC),s(sn,Ai),s(Ai,vC),s(sn,_C),u(n,e2,c),u(n,p2,c),u(n,o2,c),u(n,Zn,c),s(Zn,mC),s(Zn,Ki),s(Ki,bC),s(Zn,CC),s(Zn,Ui),s(Ui,yC),s(Zn,OC),u(n,l2,c),u(n,Ft,c),Ft.innerHTML=kS,u(n,c2,c),u(n,Xn,c),s(Xn,DC),s(Xn,$i),s($i,wC),s(Xn,PC),s(Xn,Wi),s(Wi,RC),s(Xn,TC),u(n,u2,c),u(n,xt,c),xt.innerHTML=fS,u(n,i2,c),u(n,Re,c),s(Re,VC),u(n,r2,c),u(n,Ht,c),Ht.innerHTML=dS,u(n,k2,c),u(n,f2,c),u(n,d2,c),u(n,fa,c),s(fa,SC),s(fa,qi),s(qi,FC),s(fa,xC),u(n,E2,c),u(n,Te,c),s(Te,HC),u(n,v2,c),u(n,Qn,c),s(Qn,BC),s(Qn,zi),s(zi,LC),s(Qn,NC),s(Qn,Ji),s(Ji,MC),s(Qn,IC),u(n,_2,c),u(n,jn,c),s(jn,GC),s(jn,Zi),s(Zi,AC),s(jn,KC),s(jn,Xi),s(Xi,UC),s(jn,$C),u(n,m2,c),u(n,da,c),s(da,WC),s(da,Qi),s(Qi,qC),s(da,zC),u(n,b2,c),u(n,Bt,c),s(Bt,ji),s(ji,JC),s(Bt,ZC),u(n,C2,c),u(n,y2,c),u(n,O2,c),u(n,D2,c),u(n,Ea,c),s(Ea,va),s(va,Yi),s(Ea,XC),u(n,w2,c),u(n,P2,c),u(n,R2,c),u(n,Ve,c),s(Ve,ks),s(ks,Lt),s(Lt,Se),s(ks,QC),s(ks,jC),s(ks,YC),s(ks,Nt),s(Nt,hC),u(n,T2,c),u(n,V2,c),u(n,S2,c),F2=!0},p(n,[c]){const Fe={};c&1&&(Fe.$$scope={dirty:c,ctx:n}),ia.$set(Fe)},i(n){F2||(yF(ia.$$.fragment,n),F2=!0)},o(n){OF(ia.$$.fragment,n),F2=!1},d(n){n&&a(an),n&&a(ds),n&&a(un),n&&a(tr),n&&a(er),n&&a(pr),n&&a(or),n&&a(vs),n&&a(lr),n&&a(cr),n&&a(ur),n&&a(Kt),n&&a(ir),n&&a(rn),n&&a(rr),n&&a(Ut),n&&a(kr),n&&a(ms),n&&a(fr),n&&a(dr),n&&a(Er),n&&a(vr),n&&a(bs),n&&a(_r),n&&a(mr),n&&a(br),n&&a($t),n&&a(Cr),n&&a(Wt),n&&a(yr),n&&a(qt),n&&a(Or),n&&a(J),n&&a(Dr),n&&a(Xt),n&&a(wr),n&&a(Pr),n&&a(Rr),n&&a(Tr),n&&a(Os),n&&a(Vr),n&&a(Z),n&&a(Sr),n&&a(ws),n&&a(Fr),n&&a(xr),n&&a(Hr),n&&a(Va),n&&a(Br),n&&a(Qt),n&&a(Lr),n&&a(Sa),n&&a(Nr),n&&a(x),n&&a(Mr),n&&a(Fn),n&&a(Ir),n&&a(_),n&&a(Gr),n&&a(kn),n&&a(Ar),n&&a(H),n&&a(Kr),n&&a(Ps),n&&a(Ur),n&&a(Fa),n&&a($r),n&&a(jt),n&&a(Wr),n&&a(xa),n&&a(qr),n&&a(zr),n&&a(Jr),n&&a(R),n&&a(Zr),n&&a(Ha),n&&a(Xr),n&&a(Yt),n&&a(Qr),n&&a(Ba),n&&a(jr),n&&a(E),n&&a(Yr),n&&a(hr),n&&a(gr),n&&a(T),n&&a(nk),n&&a(La),n&&a(sk),n&&a(V),n&&a(ak),n&&a(ht),n&&a(tk),n&&a(Na),n&&a(ek),n&&a(fn),n&&a(pk),n&&a(ok),n&&a(lk),n&&a(cs),n&&a(ck),n&&a(uk),n&&a(ik),n&&a(rk),n&&a(Rs),n&&a(kk),n&&a(Mn),n&&a(fk),n&&a(Ia),n&&a(dk),n&&a(B),n&&a(Ek),n&&a(xn),n&&a(vk),n&&a(_k),n&&a(mk),n&&a(dn),n&&a(bk),n&&a(Ga),n&&a(Ck),n&&a(S),n&&a(yk),n&&a(Ok),n&&a(Dk),n&&a(gt),n&&a(wk),n&&a(In),n&&a(Pk),n&&a(Aa),n&&a(Rk),n&&a(m),n&&a(Tk),n&&a(Ka),n&&a(Vk),n&&a(L),n&&a(Sk),n&&a(Ua),n&&a(Fk),n&&a(X),n&&a(xk),n&&a(Vs),n&&a(Hk),n&&a($a),n&&a(Bk),n&&a(ne),n&&a(Lk),n&&a(Wa),n&&a(Nk),n&&a(Mk),n&&a(Ik),n&&a(Gk),n&&a(Ss),n&&a(Ak),n&&a(b),n&&a(Kk),n&&a(us),n&&a(Uk),n&&a(qa),n&&a($k),n&&a(xs),n&&a(Wk),n&&a(qk),n&&a(zk),n&&a(is),n&&a(Jk),n&&a(za),n&&a(Zk),n&&a(f),n&&a(Xk),n&&a(Q),n&&a(Qk),n&&a(Ja),n&&a(jk),n&&a(se),n&&a(Yk),n&&a(Za),n&&a(hk),n&&a(gk),n&&a(nf),n&&a(sf),n&&a(Hs),n&&a(af),n&&a(Gn),n&&a(tf),n&&a(Xa),n&&a(ef),n&&a(F),n&&a(pf),n&&a(U),n&&a(of),n&&a(lf),n&&a(cf),n&&a(uf),n&&a(Ls),n&&a(rf),n&&a(ae),n&&a(kf),n&&a(An),n&&a(ff),n&&a(df),n&&a(Ef),n&&a(te),n&&a(vf),n&&a(Qa),n&&a(_f),n&&a(ee),n&&a(mf),n&&a(ja),n&&a(bf),n&&a(Ms),n&&a(Cf),n&&a(Ya),n&&a(yf),n&&a(Is),n&&a(Of),n&&a(N),n&&a(Df),n&&a(Kn),n&&a(wf),n&&a(ha),n&&a(Pf),n&&a(ga),n&&a(Rf),n&&a(Un),n&&a(Tf),n&&a(Gs),n&&a(Vf),n&&a(nt),n&&a(Sf),n&&a($n),n&&a(Ff),n&&a(xf),n&&a(Hf),n&&a(As),n&&a(Bf),n&&a(st),n&&a(Lf),n&&a(Ks),n&&a(Nf),n&&a(Us),n&&a(Mf),n&&a(j),n&&a(If),n&&a(at),n&&a(Gf),n&&a(tt),n&&a(Af),n&&a(En),n&&a(Kf),n&&a(Uf),n&&a($f),n&&a(pe),n&&a(Wf),n&&a(et),n&&a(qf),n&&a(zf),n&&a(Jf),n&&a($s),n&&a(Zf),n&&a(Xf),n&&a(Qf),n&&a(jf),n&&a(Ws),n&&a(Yf),n&&a(oe),n&&a(hf),n&&a(ot),n&&a(gf),n&&a(M),n&&a(nd),n&&a(le),n&&a(sd),n&&a(lt),n&&a(ad),n&&a(ce),n&&a(td),n&&a(ue),n&&a(ed),n&&a(pd),n&&a(od),n&&a(ld),n&&a(zs),n&&a(cd),n&&a(tn),n&&a(ud),n&&a(ie),n&&a(id),n&&a(rd),n&&a(kd),n&&a(re),n&&a(fd),n&&a(dd),n&&a(Ed),n&&a(vd),n&&a(Zs),n&&a(_d),n&&a(ke),n&&a(md),n&&a(Wn),n&&a(bd),n&&a(ct),n&&a(Cd),n&&a(fe),n&&a(yd),n&&a(ut),n&&a(Od),n&&a(de),n&&a(Dd),n&&a(it),n&&a(wd),n&&a(rs),n&&a(Pd),n&&a(rt),n&&a(Rd),n&&a(Ee),n&&a(Td),n&&a(ve),n&&a(Vd),n&&a(Sd),n&&a(Fd),n&&a(xd),n&&a(Qs),n&&a(Hd),n&&a(Hn),n&&a(Bd),n&&a(vn),n&&a(Ld),n&&a($),n&&a(Nd),n&&a(I),n&&a(Md),n&&a(Id),n&&a(Gd),n&&a(Ad),n&&a(Ys),n&&a(Kd),n&&a(Y),n&&a(Ud),n&&a(qn),n&&a($d),n&&a(_n),n&&a(Wd),n&&a(_e),n&&a(qd),n&&a(zd),n&&a(Jd),n&&a(me),n&&a(Zd),n&&a(kt),n&&a(Xd),n&&a(be),n&&a(Qd),n&&a(ft),n&&a(jd),n&&a(gs),n&&a(Yd),n&&a(dt),n&&a(hd),n&&a(na),n&&a(gd),n&&a(Et),n&&a(n1),n&&a(h),n&&a(s1),n&&a(Ce),n&&a(a1),n&&a(vt),n&&a(t1),n&&a(Bn),n&&a(e1),n&&a(mn),n&&a(p1),n&&a(o1),n&&a(l1),n&&a(ye),n&&a(c1),n&&a(_t),n&&a(u1),n&&a(sa),n&&a(i1),n&&a(mt),n&&a(r1),n&&a(aa),n&&a(k1),n&&a(bt),n&&a(f1),n&&a(Oe),n&&a(d1),n&&a(De),n&&a(E1),n&&a(v1),n&&a(_1),n&&a(m1),n&&a(ta),n&&a(b1),n&&a(Ct),n&&a(C1),n&&a(g),n&&a(y1),n&&a(yt),n&&a(O1),n&&a(bn),n&&a(D1),n&&a(Ot),n&&a(w1),n&&a(O),n&&a(P1),n&&a(R1),n&&a(T1),n&&a(D),n&&a(V1),n&&a(Dt),n&&a(S1),n&&a(G),n&&a(F1),n&&a(we),n&&a(x1),n&&a(wt),n&&a(H1),n&&a(w),n&&a(B1),n&&a(L1),n&&a(N1),n&&a(M1),n&&a(pa),n&&a(I1),n&&a(nn),n&&a(G1),n&&a(Pe),n&&a(A1),n&&a(la),n&&a(K1),n&&a(U1),n&&a($1),n&&a(W1),n&&a(ca),n&&a(q1),n&&a(z1),n&&a(J1),n&&a(zn),n&&a(Z1),n&&a(Jn),DF(ia),n&&a(X1),n&&a(ra),n&&a(Q1),n&&a(Rt),n&&a(j1),n&&a(Cn),n&&a(Y1),n&&a(yn),n&&a(h1),n&&a(Tt),n&&a(g1),n&&a(Vt),n&&a(n2),n&&a(ka),n&&a(s2),n&&a(St),n&&a(a2),n&&a(v),n&&a(t2),n&&a(sn),n&&a(e2),n&&a(p2),n&&a(o2),n&&a(Zn),n&&a(l2),n&&a(Ft),n&&a(c2),n&&a(Xn),n&&a(u2),n&&a(xt),n&&a(i2),n&&a(Re),n&&a(r2),n&&a(Ht),n&&a(k2),n&&a(f2),n&&a(d2),n&&a(fa),n&&a(E2),n&&a(Te),n&&a(v2),n&&a(Qn),n&&a(_2),n&&a(jn),n&&a(m2),n&&a(da),n&&a(b2),n&&a(Bt),n&&a(C2),n&&a(y2),n&&a(O2),n&&a(D2),n&&a(Ea),n&&a(w2),n&&a(P2),n&&a(R2),n&&a(Ve),n&&a(T2),n&&a(V2),n&&a(S2)}}}const FF={title:"Reflect, Unsafe, Cgo",date:"2023-02-21T00:00:00.000Z",excerpt:"'Learning Go'를 읽고, Go의 런타입 타입 확인을 위한 Reflect, 에 대해 정리해보았습니다",categories:["Golang","Basic Golang"],coverImage:"/post_img/Go/Golang_basics/cover.png",coverWidth:16,coverHeight:9,indexed:!1,exposed:!0};class xF extends dF{constructor(an){super(),EF(this,an,null,TF,vF,{})}}export{xF as default,FF as metadata};
